{"version":3,"sources":["turbopack:///[project]/node_modules/@cashu/cashu-ts/src/crypto/common/NUT11.ts","../../src/abstract/hash-to-curve.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/node_modules/vite-plugin-node-polyfills/shims/buffer/dist/index.js","../../index.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/crypto/client/NUT20.ts","../src/hmac.ts","../src/_shortw_utils.ts","../src/_md.ts","../src/utils.ts","../../src/abstract/utils.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/crypto/client/NUT12.ts","../../src/abstract/modular.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/crypto/client/NUT11.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/crypto/client/index.ts","../src/_u64.ts","../../src/abstract/curve.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/crypto/common/index.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/base64.ts","../src/sha2.ts","../src/secp256k1.ts","../src/cryptoNode.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/cbor.ts","../src/legacy.ts","../src/sha256.ts","../../src/abstract/weierstrass.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/crypto/client/NUT09.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/model/PaymentRequest.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/utils/Constants.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/utils.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/ws.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/logger.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/WSConnection.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/model/types/mint/responses.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/model/types/wallet/paymentRequests.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/model/Errors.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/request.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/legacy/nut-05.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/legacy/nut-04.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/legacy/nut-06.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/model/MintInfo.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/utils/Bytes.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/crypto/util/utils.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/CashuMint.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/model/BlindedMessage.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/model/OutputData.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/CashuWallet.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/auth/CashuAuthMint.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/auth/CashuAuthWallet.ts","turbopack:///[project]/node_modules/@cashu/cashu-ts/src/auth/index.ts"],"sourcesContent":["import { type Secret } from './index';\n\nexport const parseP2PKSecret = (secret: string | Uint8Array): Secret => {\n\ttry {\n\t\tif (secret instanceof Uint8Array) {\n\t\t\tsecret = new TextDecoder().decode(secret);\n\t\t}\n\t\treturn JSON.parse(secret) as Secret;\n\t} catch {\n\t\tthrow new Error(\"can't parse secret\");\n\t}\n};\n",null,"var buffer = {};\n\nvar base64Js = {};\n\nbase64Js.byteLength = byteLength;\nbase64Js.toByteArray = toByteArray;\nbase64Js.fromByteArray = fromByteArray;\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i];\n  revLookup[code.charCodeAt(i)] = i;\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\n\nfunction getLens (b64) {\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=');\n  if (validLen === -1) validLen = len;\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4);\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp;\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n\n  var curByte = 0;\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen;\n\n  var i;\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)];\n    arr[curByte++] = (tmp >> 16) & 0xFF;\n    arr[curByte++] = (tmp >> 8) & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4);\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2);\n    arr[curByte++] = (tmp >> 8) & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp;\n  var output = [];\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF);\n    output.push(tripletToBase64(tmp));\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)));\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    );\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    );\n  }\n\n  return parts.join('')\n}\n\nvar ieee754 = {};\n\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\n\nieee754.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = (nBytes * 8) - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? (nBytes - 1) : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n};\n\nieee754.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = (nBytes * 8) - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);\n  var i = isLE ? 0 : (nBytes - 1);\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n(function (exports) {\n\n\tconst base64 = base64Js;\n\tconst ieee754$1 = ieee754;\n\tconst customInspectSymbol =\n\t  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n\t    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n\t    : null;\n\n\texports.Buffer = Buffer;\n\texports.SlowBuffer = SlowBuffer;\n\texports.INSPECT_MAX_BYTES = 50;\n\n\tconst K_MAX_LENGTH = 0x7fffffff;\n\texports.kMaxLength = K_MAX_LENGTH;\n\tconst { Uint8Array: GlobalUint8Array, ArrayBuffer: GlobalArrayBuffer, SharedArrayBuffer: GlobalSharedArrayBuffer } = globalThis;\n\n\t/**\n\t * If `Buffer.TYPED_ARRAY_SUPPORT`:\n\t *   === true    Use Uint8Array implementation (fastest)\n\t *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n\t *               implementation (most compatible, even IE6)\n\t *\n\t * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n\t * Opera 11.6+, iOS 4.2+.\n\t *\n\t * We report that the browser does not support typed arrays if the are not subclassable\n\t * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n\t * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n\t * for __proto__ and has a buggy typed array implementation.\n\t */\n\tBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\n\n\tif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n\t    typeof console.error === 'function') {\n\t  console.error(\n\t    'This browser lacks typed array (Uint8Array) support which is required by ' +\n\t    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n\t  );\n\t}\n\n\tfunction typedArraySupport () {\n\t  // Can typed array instances can be augmented?\n\t  try {\n\t    const arr = new GlobalUint8Array(1);\n\t    const proto = { foo: function () { return 42 } };\n\t    Object.setPrototypeOf(proto, GlobalUint8Array.prototype);\n\t    Object.setPrototypeOf(arr, proto);\n\t    return arr.foo() === 42\n\t  } catch (e) {\n\t    return false\n\t  }\n\t}\n\n\tObject.defineProperty(Buffer.prototype, 'parent', {\n\t  enumerable: true,\n\t  get: function () {\n\t    if (!Buffer.isBuffer(this)) return undefined\n\t    return this.buffer\n\t  }\n\t});\n\n\tObject.defineProperty(Buffer.prototype, 'offset', {\n\t  enumerable: true,\n\t  get: function () {\n\t    if (!Buffer.isBuffer(this)) return undefined\n\t    return this.byteOffset\n\t  }\n\t});\n\n\tfunction createBuffer (length) {\n\t  if (length > K_MAX_LENGTH) {\n\t    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n\t  }\n\t  // Return an augmented `Uint8Array` instance\n\t  const buf = new GlobalUint8Array(length);\n\t  Object.setPrototypeOf(buf, Buffer.prototype);\n\t  return buf\n\t}\n\n\t/**\n\t * The Buffer constructor returns instances of `Uint8Array` that have their\n\t * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n\t * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n\t * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n\t * returns a single octet.\n\t *\n\t * The `Uint8Array` prototype remains unmodified.\n\t */\n\n\tfunction Buffer (arg, encodingOrOffset, length) {\n\t  // Common case.\n\t  if (typeof arg === 'number') {\n\t    if (typeof encodingOrOffset === 'string') {\n\t      throw new TypeError(\n\t        'The \"string\" argument must be of type string. Received type number'\n\t      )\n\t    }\n\t    return allocUnsafe(arg)\n\t  }\n\t  return from(arg, encodingOrOffset, length)\n\t}\n\n\tBuffer.poolSize = 8192; // not used by this implementation\n\n\tfunction from (value, encodingOrOffset, length) {\n\t  if (typeof value === 'string') {\n\t    return fromString(value, encodingOrOffset)\n\t  }\n\n\t  if (GlobalArrayBuffer.isView(value)) {\n\t    return fromArrayView(value)\n\t  }\n\n\t  if (value == null) {\n\t    throw new TypeError(\n\t      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n\t      'or Array-like Object. Received type ' + (typeof value)\n\t    )\n\t  }\n\n\t  if (isInstance(value, GlobalArrayBuffer) ||\n\t      (value && isInstance(value.buffer, GlobalArrayBuffer))) {\n\t    return fromArrayBuffer(value, encodingOrOffset, length)\n\t  }\n\n\t  if (typeof GlobalSharedArrayBuffer !== 'undefined' &&\n\t      (isInstance(value, GlobalSharedArrayBuffer) ||\n\t      (value && isInstance(value.buffer, GlobalSharedArrayBuffer)))) {\n\t    return fromArrayBuffer(value, encodingOrOffset, length)\n\t  }\n\n\t  if (typeof value === 'number') {\n\t    throw new TypeError(\n\t      'The \"value\" argument must not be of type number. Received type number'\n\t    )\n\t  }\n\n\t  const valueOf = value.valueOf && value.valueOf();\n\t  if (valueOf != null && valueOf !== value) {\n\t    return Buffer.from(valueOf, encodingOrOffset, length)\n\t  }\n\n\t  const b = fromObject(value);\n\t  if (b) return b\n\n\t  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n\t      typeof value[Symbol.toPrimitive] === 'function') {\n\t    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n\t  }\n\n\t  throw new TypeError(\n\t    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n\t    'or Array-like Object. Received type ' + (typeof value)\n\t  )\n\t}\n\n\t/**\n\t * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n\t * if value is a number.\n\t * Buffer.from(str[, encoding])\n\t * Buffer.from(array)\n\t * Buffer.from(buffer)\n\t * Buffer.from(arrayBuffer[, byteOffset[, length]])\n\t **/\n\tBuffer.from = function (value, encodingOrOffset, length) {\n\t  return from(value, encodingOrOffset, length)\n\t};\n\n\t// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n\t// https://github.com/feross/buffer/pull/148\n\tObject.setPrototypeOf(Buffer.prototype, GlobalUint8Array.prototype);\n\tObject.setPrototypeOf(Buffer, GlobalUint8Array);\n\n\tfunction assertSize (size) {\n\t  if (typeof size !== 'number') {\n\t    throw new TypeError('\"size\" argument must be of type number')\n\t  } else if (size < 0) {\n\t    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n\t  }\n\t}\n\n\tfunction alloc (size, fill, encoding) {\n\t  assertSize(size);\n\t  if (size <= 0) {\n\t    return createBuffer(size)\n\t  }\n\t  if (fill !== undefined) {\n\t    // Only pay attention to encoding if it's a string. This\n\t    // prevents accidentally sending in a number that would\n\t    // be interpreted as a start offset.\n\t    return typeof encoding === 'string'\n\t      ? createBuffer(size).fill(fill, encoding)\n\t      : createBuffer(size).fill(fill)\n\t  }\n\t  return createBuffer(size)\n\t}\n\n\t/**\n\t * Creates a new filled Buffer instance.\n\t * alloc(size[, fill[, encoding]])\n\t **/\n\tBuffer.alloc = function (size, fill, encoding) {\n\t  return alloc(size, fill, encoding)\n\t};\n\n\tfunction allocUnsafe (size) {\n\t  assertSize(size);\n\t  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n\t}\n\n\t/**\n\t * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n\t * */\n\tBuffer.allocUnsafe = function (size) {\n\t  return allocUnsafe(size)\n\t};\n\t/**\n\t * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n\t */\n\tBuffer.allocUnsafeSlow = function (size) {\n\t  return allocUnsafe(size)\n\t};\n\n\tfunction fromString (string, encoding) {\n\t  if (typeof encoding !== 'string' || encoding === '') {\n\t    encoding = 'utf8';\n\t  }\n\n\t  if (!Buffer.isEncoding(encoding)) {\n\t    throw new TypeError('Unknown encoding: ' + encoding)\n\t  }\n\n\t  const length = byteLength(string, encoding) | 0;\n\t  let buf = createBuffer(length);\n\n\t  const actual = buf.write(string, encoding);\n\n\t  if (actual !== length) {\n\t    // Writing a hex string, for example, that contains invalid characters will\n\t    // cause everything after the first invalid character to be ignored. (e.g.\n\t    // 'abxxcd' will be treated as 'ab')\n\t    buf = buf.slice(0, actual);\n\t  }\n\n\t  return buf\n\t}\n\n\tfunction fromArrayLike (array) {\n\t  const length = array.length < 0 ? 0 : checked(array.length) | 0;\n\t  const buf = createBuffer(length);\n\t  for (let i = 0; i < length; i += 1) {\n\t    buf[i] = array[i] & 255;\n\t  }\n\t  return buf\n\t}\n\n\tfunction fromArrayView (arrayView) {\n\t  if (isInstance(arrayView, GlobalUint8Array)) {\n\t    const copy = new GlobalUint8Array(arrayView);\n\t    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n\t  }\n\t  return fromArrayLike(arrayView)\n\t}\n\n\tfunction fromArrayBuffer (array, byteOffset, length) {\n\t  if (byteOffset < 0 || array.byteLength < byteOffset) {\n\t    throw new RangeError('\"offset\" is outside of buffer bounds')\n\t  }\n\n\t  if (array.byteLength < byteOffset + (length || 0)) {\n\t    throw new RangeError('\"length\" is outside of buffer bounds')\n\t  }\n\n\t  let buf;\n\t  if (byteOffset === undefined && length === undefined) {\n\t    buf = new GlobalUint8Array(array);\n\t  } else if (length === undefined) {\n\t    buf = new GlobalUint8Array(array, byteOffset);\n\t  } else {\n\t    buf = new GlobalUint8Array(array, byteOffset, length);\n\t  }\n\n\t  // Return an augmented `Uint8Array` instance\n\t  Object.setPrototypeOf(buf, Buffer.prototype);\n\n\t  return buf\n\t}\n\n\tfunction fromObject (obj) {\n\t  if (Buffer.isBuffer(obj)) {\n\t    const len = checked(obj.length) | 0;\n\t    const buf = createBuffer(len);\n\n\t    if (buf.length === 0) {\n\t      return buf\n\t    }\n\n\t    obj.copy(buf, 0, 0, len);\n\t    return buf\n\t  }\n\n\t  if (obj.length !== undefined) {\n\t    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n\t      return createBuffer(0)\n\t    }\n\t    return fromArrayLike(obj)\n\t  }\n\n\t  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n\t    return fromArrayLike(obj.data)\n\t  }\n\t}\n\n\tfunction checked (length) {\n\t  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n\t  // length is NaN (which is otherwise coerced to zero.)\n\t  if (length >= K_MAX_LENGTH) {\n\t    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n\t                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n\t  }\n\t  return length | 0\n\t}\n\n\tfunction SlowBuffer (length) {\n\t  if (+length != length) { // eslint-disable-line eqeqeq\n\t    length = 0;\n\t  }\n\t  return Buffer.alloc(+length)\n\t}\n\n\tBuffer.isBuffer = function isBuffer (b) {\n\t  return b != null && b._isBuffer === true &&\n\t    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n\t};\n\n\tBuffer.compare = function compare (a, b) {\n\t  if (isInstance(a, GlobalUint8Array)) a = Buffer.from(a, a.offset, a.byteLength);\n\t  if (isInstance(b, GlobalUint8Array)) b = Buffer.from(b, b.offset, b.byteLength);\n\t  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n\t    throw new TypeError(\n\t      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n\t    )\n\t  }\n\n\t  if (a === b) return 0\n\n\t  let x = a.length;\n\t  let y = b.length;\n\n\t  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n\t    if (a[i] !== b[i]) {\n\t      x = a[i];\n\t      y = b[i];\n\t      break\n\t    }\n\t  }\n\n\t  if (x < y) return -1\n\t  if (y < x) return 1\n\t  return 0\n\t};\n\n\tBuffer.isEncoding = function isEncoding (encoding) {\n\t  switch (String(encoding).toLowerCase()) {\n\t    case 'hex':\n\t    case 'utf8':\n\t    case 'utf-8':\n\t    case 'ascii':\n\t    case 'latin1':\n\t    case 'binary':\n\t    case 'base64':\n\t    case 'ucs2':\n\t    case 'ucs-2':\n\t    case 'utf16le':\n\t    case 'utf-16le':\n\t      return true\n\t    default:\n\t      return false\n\t  }\n\t};\n\n\tBuffer.concat = function concat (list, length) {\n\t  if (!Array.isArray(list)) {\n\t    throw new TypeError('\"list\" argument must be an Array of Buffers')\n\t  }\n\n\t  if (list.length === 0) {\n\t    return Buffer.alloc(0)\n\t  }\n\n\t  let i;\n\t  if (length === undefined) {\n\t    length = 0;\n\t    for (i = 0; i < list.length; ++i) {\n\t      length += list[i].length;\n\t    }\n\t  }\n\n\t  const buffer = Buffer.allocUnsafe(length);\n\t  let pos = 0;\n\t  for (i = 0; i < list.length; ++i) {\n\t    let buf = list[i];\n\t    if (isInstance(buf, GlobalUint8Array)) {\n\t      if (pos + buf.length > buffer.length) {\n\t        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf);\n\t        buf.copy(buffer, pos);\n\t      } else {\n\t        GlobalUint8Array.prototype.set.call(\n\t          buffer,\n\t          buf,\n\t          pos\n\t        );\n\t      }\n\t    } else if (!Buffer.isBuffer(buf)) {\n\t      throw new TypeError('\"list\" argument must be an Array of Buffers')\n\t    } else {\n\t      buf.copy(buffer, pos);\n\t    }\n\t    pos += buf.length;\n\t  }\n\t  return buffer\n\t};\n\n\tfunction byteLength (string, encoding) {\n\t  if (Buffer.isBuffer(string)) {\n\t    return string.length\n\t  }\n\t  if (GlobalArrayBuffer.isView(string) || isInstance(string, GlobalArrayBuffer)) {\n\t    return string.byteLength\n\t  }\n\t  if (typeof string !== 'string') {\n\t    throw new TypeError(\n\t      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n\t      'Received type ' + typeof string\n\t    )\n\t  }\n\n\t  const len = string.length;\n\t  const mustMatch = (arguments.length > 2 && arguments[2] === true);\n\t  if (!mustMatch && len === 0) return 0\n\n\t  // Use a for loop to avoid recursion\n\t  let loweredCase = false;\n\t  for (;;) {\n\t    switch (encoding) {\n\t      case 'ascii':\n\t      case 'latin1':\n\t      case 'binary':\n\t        return len\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8ToBytes(string).length\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return len * 2\n\t      case 'hex':\n\t        return len >>> 1\n\t      case 'base64':\n\t        return base64ToBytes(string).length\n\t      default:\n\t        if (loweredCase) {\n\t          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n\t        }\n\t        encoding = ('' + encoding).toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t}\n\tBuffer.byteLength = byteLength;\n\n\tfunction slowToString (encoding, start, end) {\n\t  let loweredCase = false;\n\n\t  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n\t  // property of a typed array.\n\n\t  // This behaves neither like String nor Uint8Array in that we set start/end\n\t  // to their upper/lower bounds if the value passed is out of range.\n\t  // undefined is handled specially as per ECMA-262 6th Edition,\n\t  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\t  if (start === undefined || start < 0) {\n\t    start = 0;\n\t  }\n\t  // Return early if start > this.length. Done here to prevent potential uint32\n\t  // coercion fail below.\n\t  if (start > this.length) {\n\t    return ''\n\t  }\n\n\t  if (end === undefined || end > this.length) {\n\t    end = this.length;\n\t  }\n\n\t  if (end <= 0) {\n\t    return ''\n\t  }\n\n\t  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n\t  end >>>= 0;\n\t  start >>>= 0;\n\n\t  if (end <= start) {\n\t    return ''\n\t  }\n\n\t  if (!encoding) encoding = 'utf8';\n\n\t  while (true) {\n\t    switch (encoding) {\n\t      case 'hex':\n\t        return hexSlice(this, start, end)\n\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8Slice(this, start, end)\n\n\t      case 'ascii':\n\t        return asciiSlice(this, start, end)\n\n\t      case 'latin1':\n\t      case 'binary':\n\t        return latin1Slice(this, start, end)\n\n\t      case 'base64':\n\t        return base64Slice(this, start, end)\n\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return utf16leSlice(this, start, end)\n\n\t      default:\n\t        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n\t        encoding = (encoding + '').toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t}\n\n\t// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n\t// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n\t// reliably in a browserify context because there could be multiple different\n\t// copies of the 'buffer' package in use. This method works even for Buffer\n\t// instances that were created from another copy of the `buffer` package.\n\t// See: https://github.com/feross/buffer/issues/154\n\tBuffer.prototype._isBuffer = true;\n\n\tfunction swap (b, n, m) {\n\t  const i = b[n];\n\t  b[n] = b[m];\n\t  b[m] = i;\n\t}\n\n\tBuffer.prototype.swap16 = function swap16 () {\n\t  const len = this.length;\n\t  if (len % 2 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 16-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 2) {\n\t    swap(this, i, i + 1);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.swap32 = function swap32 () {\n\t  const len = this.length;\n\t  if (len % 4 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 32-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 4) {\n\t    swap(this, i, i + 3);\n\t    swap(this, i + 1, i + 2);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.swap64 = function swap64 () {\n\t  const len = this.length;\n\t  if (len % 8 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 64-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 8) {\n\t    swap(this, i, i + 7);\n\t    swap(this, i + 1, i + 6);\n\t    swap(this, i + 2, i + 5);\n\t    swap(this, i + 3, i + 4);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.toString = function toString () {\n\t  const length = this.length;\n\t  if (length === 0) return ''\n\t  if (arguments.length === 0) return utf8Slice(this, 0, length)\n\t  return slowToString.apply(this, arguments)\n\t};\n\n\tBuffer.prototype.toLocaleString = Buffer.prototype.toString;\n\n\tBuffer.prototype.equals = function equals (b) {\n\t  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n\t  if (this === b) return true\n\t  return Buffer.compare(this, b) === 0\n\t};\n\n\tBuffer.prototype.inspect = function inspect () {\n\t  let str = '';\n\t  const max = exports.INSPECT_MAX_BYTES;\n\t  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim();\n\t  if (this.length > max) str += ' ... ';\n\t  return '<Buffer ' + str + '>'\n\t};\n\tif (customInspectSymbol) {\n\t  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect;\n\t}\n\n\tBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n\t  if (isInstance(target, GlobalUint8Array)) {\n\t    target = Buffer.from(target, target.offset, target.byteLength);\n\t  }\n\t  if (!Buffer.isBuffer(target)) {\n\t    throw new TypeError(\n\t      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n\t      'Received type ' + (typeof target)\n\t    )\n\t  }\n\n\t  if (start === undefined) {\n\t    start = 0;\n\t  }\n\t  if (end === undefined) {\n\t    end = target ? target.length : 0;\n\t  }\n\t  if (thisStart === undefined) {\n\t    thisStart = 0;\n\t  }\n\t  if (thisEnd === undefined) {\n\t    thisEnd = this.length;\n\t  }\n\n\t  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n\t    throw new RangeError('out of range index')\n\t  }\n\n\t  if (thisStart >= thisEnd && start >= end) {\n\t    return 0\n\t  }\n\t  if (thisStart >= thisEnd) {\n\t    return -1\n\t  }\n\t  if (start >= end) {\n\t    return 1\n\t  }\n\n\t  start >>>= 0;\n\t  end >>>= 0;\n\t  thisStart >>>= 0;\n\t  thisEnd >>>= 0;\n\n\t  if (this === target) return 0\n\n\t  let x = thisEnd - thisStart;\n\t  let y = end - start;\n\t  const len = Math.min(x, y);\n\n\t  const thisCopy = this.slice(thisStart, thisEnd);\n\t  const targetCopy = target.slice(start, end);\n\n\t  for (let i = 0; i < len; ++i) {\n\t    if (thisCopy[i] !== targetCopy[i]) {\n\t      x = thisCopy[i];\n\t      y = targetCopy[i];\n\t      break\n\t    }\n\t  }\n\n\t  if (x < y) return -1\n\t  if (y < x) return 1\n\t  return 0\n\t};\n\n\t// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n\t// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n\t//\n\t// Arguments:\n\t// - buffer - a Buffer to search\n\t// - val - a string, Buffer, or number\n\t// - byteOffset - an index into `buffer`; will be clamped to an int32\n\t// - encoding - an optional encoding, relevant is val is a string\n\t// - dir - true for indexOf, false for lastIndexOf\n\tfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n\t  // Empty buffer means no match\n\t  if (buffer.length === 0) return -1\n\n\t  // Normalize byteOffset\n\t  if (typeof byteOffset === 'string') {\n\t    encoding = byteOffset;\n\t    byteOffset = 0;\n\t  } else if (byteOffset > 0x7fffffff) {\n\t    byteOffset = 0x7fffffff;\n\t  } else if (byteOffset < -0x80000000) {\n\t    byteOffset = -0x80000000;\n\t  }\n\t  byteOffset = +byteOffset; // Coerce to Number.\n\t  if (numberIsNaN(byteOffset)) {\n\t    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n\t    byteOffset = dir ? 0 : (buffer.length - 1);\n\t  }\n\n\t  // Normalize byteOffset: negative offsets start from the end of the buffer\n\t  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\t  if (byteOffset >= buffer.length) {\n\t    if (dir) return -1\n\t    else byteOffset = buffer.length - 1;\n\t  } else if (byteOffset < 0) {\n\t    if (dir) byteOffset = 0;\n\t    else return -1\n\t  }\n\n\t  // Normalize val\n\t  if (typeof val === 'string') {\n\t    val = Buffer.from(val, encoding);\n\t  }\n\n\t  // Finally, search either indexOf (if dir is true) or lastIndexOf\n\t  if (Buffer.isBuffer(val)) {\n\t    // Special case: looking for empty string/buffer always fails\n\t    if (val.length === 0) {\n\t      return -1\n\t    }\n\t    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n\t  } else if (typeof val === 'number') {\n\t    val = val & 0xFF; // Search for a byte value [0-255]\n\t    if (typeof GlobalUint8Array.prototype.indexOf === 'function') {\n\t      if (dir) {\n\t        return GlobalUint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n\t      } else {\n\t        return GlobalUint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n\t      }\n\t    }\n\t    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n\t  }\n\n\t  throw new TypeError('val must be string, number or Buffer')\n\t}\n\n\tfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n\t  let indexSize = 1;\n\t  let arrLength = arr.length;\n\t  let valLength = val.length;\n\n\t  if (encoding !== undefined) {\n\t    encoding = String(encoding).toLowerCase();\n\t    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n\t        encoding === 'utf16le' || encoding === 'utf-16le') {\n\t      if (arr.length < 2 || val.length < 2) {\n\t        return -1\n\t      }\n\t      indexSize = 2;\n\t      arrLength /= 2;\n\t      valLength /= 2;\n\t      byteOffset /= 2;\n\t    }\n\t  }\n\n\t  function read (buf, i) {\n\t    if (indexSize === 1) {\n\t      return buf[i]\n\t    } else {\n\t      return buf.readUInt16BE(i * indexSize)\n\t    }\n\t  }\n\n\t  let i;\n\t  if (dir) {\n\t    let foundIndex = -1;\n\t    for (i = byteOffset; i < arrLength; i++) {\n\t      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n\t        if (foundIndex === -1) foundIndex = i;\n\t        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n\t      } else {\n\t        if (foundIndex !== -1) i -= i - foundIndex;\n\t        foundIndex = -1;\n\t      }\n\t    }\n\t  } else {\n\t    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\t    for (i = byteOffset; i >= 0; i--) {\n\t      let found = true;\n\t      for (let j = 0; j < valLength; j++) {\n\t        if (read(arr, i + j) !== read(val, j)) {\n\t          found = false;\n\t          break\n\t        }\n\t      }\n\t      if (found) return i\n\t    }\n\t  }\n\n\t  return -1\n\t}\n\n\tBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n\t  return this.indexOf(val, byteOffset, encoding) !== -1\n\t};\n\n\tBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n\t  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n\t};\n\n\tBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n\t  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n\t};\n\n\tfunction hexWrite (buf, string, offset, length) {\n\t  offset = Number(offset) || 0;\n\t  const remaining = buf.length - offset;\n\t  if (!length) {\n\t    length = remaining;\n\t  } else {\n\t    length = Number(length);\n\t    if (length > remaining) {\n\t      length = remaining;\n\t    }\n\t  }\n\n\t  const strLen = string.length;\n\n\t  if (length > strLen / 2) {\n\t    length = strLen / 2;\n\t  }\n\t  let i;\n\t  for (i = 0; i < length; ++i) {\n\t    const parsed = parseInt(string.substr(i * 2, 2), 16);\n\t    if (numberIsNaN(parsed)) return i\n\t    buf[offset + i] = parsed;\n\t  }\n\t  return i\n\t}\n\n\tfunction utf8Write (buf, string, offset, length) {\n\t  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n\t}\n\n\tfunction asciiWrite (buf, string, offset, length) {\n\t  return blitBuffer(asciiToBytes(string), buf, offset, length)\n\t}\n\n\tfunction base64Write (buf, string, offset, length) {\n\t  return blitBuffer(base64ToBytes(string), buf, offset, length)\n\t}\n\n\tfunction ucs2Write (buf, string, offset, length) {\n\t  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n\t}\n\n\tBuffer.prototype.write = function write (string, offset, length, encoding) {\n\t  // Buffer#write(string)\n\t  if (offset === undefined) {\n\t    encoding = 'utf8';\n\t    length = this.length;\n\t    offset = 0;\n\t  // Buffer#write(string, encoding)\n\t  } else if (length === undefined && typeof offset === 'string') {\n\t    encoding = offset;\n\t    length = this.length;\n\t    offset = 0;\n\t  // Buffer#write(string, offset[, length][, encoding])\n\t  } else if (isFinite(offset)) {\n\t    offset = offset >>> 0;\n\t    if (isFinite(length)) {\n\t      length = length >>> 0;\n\t      if (encoding === undefined) encoding = 'utf8';\n\t    } else {\n\t      encoding = length;\n\t      length = undefined;\n\t    }\n\t  } else {\n\t    throw new Error(\n\t      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n\t    )\n\t  }\n\n\t  const remaining = this.length - offset;\n\t  if (length === undefined || length > remaining) length = remaining;\n\n\t  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n\t    throw new RangeError('Attempt to write outside buffer bounds')\n\t  }\n\n\t  if (!encoding) encoding = 'utf8';\n\n\t  let loweredCase = false;\n\t  for (;;) {\n\t    switch (encoding) {\n\t      case 'hex':\n\t        return hexWrite(this, string, offset, length)\n\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8Write(this, string, offset, length)\n\n\t      case 'ascii':\n\t      case 'latin1':\n\t      case 'binary':\n\t        return asciiWrite(this, string, offset, length)\n\n\t      case 'base64':\n\t        // Warning: maxLength not taken into account in base64Write\n\t        return base64Write(this, string, offset, length)\n\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return ucs2Write(this, string, offset, length)\n\n\t      default:\n\t        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n\t        encoding = ('' + encoding).toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t};\n\n\tBuffer.prototype.toJSON = function toJSON () {\n\t  return {\n\t    type: 'Buffer',\n\t    data: Array.prototype.slice.call(this._arr || this, 0)\n\t  }\n\t};\n\n\tfunction base64Slice (buf, start, end) {\n\t  if (start === 0 && end === buf.length) {\n\t    return base64.fromByteArray(buf)\n\t  } else {\n\t    return base64.fromByteArray(buf.slice(start, end))\n\t  }\n\t}\n\n\tfunction utf8Slice (buf, start, end) {\n\t  end = Math.min(buf.length, end);\n\t  const res = [];\n\n\t  let i = start;\n\t  while (i < end) {\n\t    const firstByte = buf[i];\n\t    let codePoint = null;\n\t    let bytesPerSequence = (firstByte > 0xEF)\n\t      ? 4\n\t      : (firstByte > 0xDF)\n\t          ? 3\n\t          : (firstByte > 0xBF)\n\t              ? 2\n\t              : 1;\n\n\t    if (i + bytesPerSequence <= end) {\n\t      let secondByte, thirdByte, fourthByte, tempCodePoint;\n\n\t      switch (bytesPerSequence) {\n\t        case 1:\n\t          if (firstByte < 0x80) {\n\t            codePoint = firstByte;\n\t          }\n\t          break\n\t        case 2:\n\t          secondByte = buf[i + 1];\n\t          if ((secondByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);\n\t            if (tempCodePoint > 0x7F) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t          break\n\t        case 3:\n\t          secondByte = buf[i + 1];\n\t          thirdByte = buf[i + 2];\n\t          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);\n\t            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t          break\n\t        case 4:\n\t          secondByte = buf[i + 1];\n\t          thirdByte = buf[i + 2];\n\t          fourthByte = buf[i + 3];\n\t          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F);\n\t            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t      }\n\t    }\n\n\t    if (codePoint === null) {\n\t      // we did not generate a valid codePoint so insert a\n\t      // replacement char (U+FFFD) and advance only 1 byte\n\t      codePoint = 0xFFFD;\n\t      bytesPerSequence = 1;\n\t    } else if (codePoint > 0xFFFF) {\n\t      // encode to utf16 (surrogate pair dance)\n\t      codePoint -= 0x10000;\n\t      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n\t      codePoint = 0xDC00 | codePoint & 0x3FF;\n\t    }\n\n\t    res.push(codePoint);\n\t    i += bytesPerSequence;\n\t  }\n\n\t  return decodeCodePointsArray(res)\n\t}\n\n\t// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n\t// the lowest limit is Chrome, with 0x10000 args.\n\t// We go 1 magnitude less, for safety\n\tconst MAX_ARGUMENTS_LENGTH = 0x1000;\n\n\tfunction decodeCodePointsArray (codePoints) {\n\t  const len = codePoints.length;\n\t  if (len <= MAX_ARGUMENTS_LENGTH) {\n\t    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n\t  }\n\n\t  // Decode in chunks to avoid \"call stack size exceeded\".\n\t  let res = '';\n\t  let i = 0;\n\t  while (i < len) {\n\t    res += String.fromCharCode.apply(\n\t      String,\n\t      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n\t    );\n\t  }\n\t  return res\n\t}\n\n\tfunction asciiSlice (buf, start, end) {\n\t  let ret = '';\n\t  end = Math.min(buf.length, end);\n\n\t  for (let i = start; i < end; ++i) {\n\t    ret += String.fromCharCode(buf[i] & 0x7F);\n\t  }\n\t  return ret\n\t}\n\n\tfunction latin1Slice (buf, start, end) {\n\t  let ret = '';\n\t  end = Math.min(buf.length, end);\n\n\t  for (let i = start; i < end; ++i) {\n\t    ret += String.fromCharCode(buf[i]);\n\t  }\n\t  return ret\n\t}\n\n\tfunction hexSlice (buf, start, end) {\n\t  const len = buf.length;\n\n\t  if (!start || start < 0) start = 0;\n\t  if (!end || end < 0 || end > len) end = len;\n\n\t  let out = '';\n\t  for (let i = start; i < end; ++i) {\n\t    out += hexSliceLookupTable[buf[i]];\n\t  }\n\t  return out\n\t}\n\n\tfunction utf16leSlice (buf, start, end) {\n\t  const bytes = buf.slice(start, end);\n\t  let res = '';\n\t  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n\t  for (let i = 0; i < bytes.length - 1; i += 2) {\n\t    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256));\n\t  }\n\t  return res\n\t}\n\n\tBuffer.prototype.slice = function slice (start, end) {\n\t  const len = this.length;\n\t  start = ~~start;\n\t  end = end === undefined ? len : ~~end;\n\n\t  if (start < 0) {\n\t    start += len;\n\t    if (start < 0) start = 0;\n\t  } else if (start > len) {\n\t    start = len;\n\t  }\n\n\t  if (end < 0) {\n\t    end += len;\n\t    if (end < 0) end = 0;\n\t  } else if (end > len) {\n\t    end = len;\n\t  }\n\n\t  if (end < start) end = start;\n\n\t  const newBuf = this.subarray(start, end);\n\t  // Return an augmented `Uint8Array` instance\n\t  Object.setPrototypeOf(newBuf, Buffer.prototype);\n\n\t  return newBuf\n\t};\n\n\t/*\n\t * Need to make sure that buffer isn't trying to write out of bounds.\n\t */\n\tfunction checkOffset (offset, ext, length) {\n\t  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n\t  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n\t}\n\n\tBuffer.prototype.readUintLE =\n\tBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let val = this[offset];\n\t  let mul = 1;\n\t  let i = 0;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    val += this[offset + i] * mul;\n\t  }\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readUintBE =\n\tBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    checkOffset(offset, byteLength, this.length);\n\t  }\n\n\t  let val = this[offset + --byteLength];\n\t  let mul = 1;\n\t  while (byteLength > 0 && (mul *= 0x100)) {\n\t    val += this[offset + --byteLength] * mul;\n\t  }\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readUint8 =\n\tBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 1, this.length);\n\t  return this[offset]\n\t};\n\n\tBuffer.prototype.readUint16LE =\n\tBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  return this[offset] | (this[offset + 1] << 8)\n\t};\n\n\tBuffer.prototype.readUint16BE =\n\tBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  return (this[offset] << 8) | this[offset + 1]\n\t};\n\n\tBuffer.prototype.readUint32LE =\n\tBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return ((this[offset]) |\n\t      (this[offset + 1] << 8) |\n\t      (this[offset + 2] << 16)) +\n\t      (this[offset + 3] * 0x1000000)\n\t};\n\n\tBuffer.prototype.readUint32BE =\n\tBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset] * 0x1000000) +\n\t    ((this[offset + 1] << 16) |\n\t    (this[offset + 2] << 8) |\n\t    this[offset + 3])\n\t};\n\n\tBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const lo = first +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 24;\n\n\t  const hi = this[++offset] +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    last * 2 ** 24;\n\n\t  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n\t});\n\n\tBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const hi = first * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset];\n\n\t  const lo = this[++offset] * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    last;\n\n\t  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n\t});\n\n\tBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let val = this[offset];\n\t  let mul = 1;\n\t  let i = 0;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    val += this[offset + i] * mul;\n\t  }\n\t  mul *= 0x80;\n\n\t  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let i = byteLength;\n\t  let mul = 1;\n\t  let val = this[offset + --i];\n\t  while (i > 0 && (mul *= 0x100)) {\n\t    val += this[offset + --i] * mul;\n\t  }\n\t  mul *= 0x80;\n\n\t  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 1, this.length);\n\t  if (!(this[offset] & 0x80)) return (this[offset])\n\t  return ((0xff - this[offset] + 1) * -1)\n\t};\n\n\tBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  const val = this[offset] | (this[offset + 1] << 8);\n\t  return (val & 0x8000) ? val | 0xFFFF0000 : val\n\t};\n\n\tBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  const val = this[offset + 1] | (this[offset] << 8);\n\t  return (val & 0x8000) ? val | 0xFFFF0000 : val\n\t};\n\n\tBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset]) |\n\t    (this[offset + 1] << 8) |\n\t    (this[offset + 2] << 16) |\n\t    (this[offset + 3] << 24)\n\t};\n\n\tBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset] << 24) |\n\t    (this[offset + 1] << 16) |\n\t    (this[offset + 2] << 8) |\n\t    (this[offset + 3])\n\t};\n\n\tBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const val = this[offset + 4] +\n\t    this[offset + 5] * 2 ** 8 +\n\t    this[offset + 6] * 2 ** 16 +\n\t    (last << 24); // Overflow\n\n\t  return (BigInt(val) << BigInt(32)) +\n\t    BigInt(first +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 24)\n\t});\n\n\tBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const val = (first << 24) + // Overflow\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset];\n\n\t  return (BigInt(val) << BigInt(32)) +\n\t    BigInt(this[++offset] * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    last)\n\t});\n\n\tBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\t  return ieee754$1.read(this, offset, true, 23, 4)\n\t};\n\n\tBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\t  return ieee754$1.read(this, offset, false, 23, 4)\n\t};\n\n\tBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 8, this.length);\n\t  return ieee754$1.read(this, offset, true, 52, 8)\n\t};\n\n\tBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 8, this.length);\n\t  return ieee754$1.read(this, offset, false, 52, 8)\n\t};\n\n\tfunction checkInt (buf, value, offset, ext, max, min) {\n\t  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n\t  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n\t  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n\t}\n\n\tBuffer.prototype.writeUintLE =\n\tBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n\t    checkInt(this, value, offset, byteLength, maxBytes, 0);\n\t  }\n\n\t  let mul = 1;\n\t  let i = 0;\n\t  this[offset] = value & 0xFF;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    this[offset + i] = (value / mul) & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeUintBE =\n\tBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n\t    checkInt(this, value, offset, byteLength, maxBytes, 0);\n\t  }\n\n\t  let i = byteLength - 1;\n\t  let mul = 1;\n\t  this[offset + i] = value & 0xFF;\n\t  while (--i >= 0 && (mul *= 0x100)) {\n\t    this[offset + i] = (value / mul) & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeUint8 =\n\tBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n\t  this[offset] = (value & 0xff);\n\t  return offset + 1\n\t};\n\n\tBuffer.prototype.writeUint16LE =\n\tBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeUint16BE =\n\tBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\t  this[offset] = (value >>> 8);\n\t  this[offset + 1] = (value & 0xff);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeUint32LE =\n\tBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\t  this[offset + 3] = (value >>> 24);\n\t  this[offset + 2] = (value >>> 16);\n\t  this[offset + 1] = (value >>> 8);\n\t  this[offset] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeUint32BE =\n\tBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\t  this[offset] = (value >>> 24);\n\t  this[offset + 1] = (value >>> 16);\n\t  this[offset + 2] = (value >>> 8);\n\t  this[offset + 3] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n\t  checkIntBI(value, min, max, buf, offset, 7);\n\n\t  let lo = Number(value & BigInt(0xffffffff));\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  return offset\n\t}\n\n\tfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n\t  checkIntBI(value, min, max, buf, offset, 7);\n\n\t  let lo = Number(value & BigInt(0xffffffff));\n\t  buf[offset + 7] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 6] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 5] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 4] = lo;\n\t  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));\n\t  buf[offset + 3] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset + 2] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset + 1] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset] = hi;\n\t  return offset + 8\n\t}\n\n\tBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n\t  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n\t  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    const limit = Math.pow(2, (8 * byteLength) - 1);\n\n\t    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n\t  }\n\n\t  let i = 0;\n\t  let mul = 1;\n\t  let sub = 0;\n\t  this[offset] = value & 0xFF;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n\t      sub = 1;\n\t    }\n\t    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    const limit = Math.pow(2, (8 * byteLength) - 1);\n\n\t    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n\t  }\n\n\t  let i = byteLength - 1;\n\t  let mul = 1;\n\t  let sub = 0;\n\t  this[offset + i] = value & 0xFF;\n\t  while (--i >= 0 && (mul *= 0x100)) {\n\t    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n\t      sub = 1;\n\t    }\n\t    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n\t  if (value < 0) value = 0xff + value + 1;\n\t  this[offset] = (value & 0xff);\n\t  return offset + 1\n\t};\n\n\tBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\t  this[offset] = (value >>> 8);\n\t  this[offset + 1] = (value & 0xff);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  this[offset + 2] = (value >>> 16);\n\t  this[offset + 3] = (value >>> 24);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\t  if (value < 0) value = 0xffffffff + value + 1;\n\t  this[offset] = (value >>> 24);\n\t  this[offset + 1] = (value >>> 16);\n\t  this[offset + 2] = (value >>> 8);\n\t  this[offset + 3] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n\t  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n\t  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n\t});\n\n\tfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n\t  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n\t  if (offset < 0) throw new RangeError('Index out of range')\n\t}\n\n\tfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    checkIEEE754(buf, value, offset, 4);\n\t  }\n\t  ieee754$1.write(buf, value, offset, littleEndian, 23, 4);\n\t  return offset + 4\n\t}\n\n\tBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n\t  return writeFloat(this, value, offset, true, noAssert)\n\t};\n\n\tBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n\t  return writeFloat(this, value, offset, false, noAssert)\n\t};\n\n\tfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    checkIEEE754(buf, value, offset, 8);\n\t  }\n\t  ieee754$1.write(buf, value, offset, littleEndian, 52, 8);\n\t  return offset + 8\n\t}\n\n\tBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n\t  return writeDouble(this, value, offset, true, noAssert)\n\t};\n\n\tBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n\t  return writeDouble(this, value, offset, false, noAssert)\n\t};\n\n\t// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\tBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n\t  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n\t  if (!start) start = 0;\n\t  if (!end && end !== 0) end = this.length;\n\t  if (targetStart >= target.length) targetStart = target.length;\n\t  if (!targetStart) targetStart = 0;\n\t  if (end > 0 && end < start) end = start;\n\n\t  // Copy 0 bytes; we're done\n\t  if (end === start) return 0\n\t  if (target.length === 0 || this.length === 0) return 0\n\n\t  // Fatal error conditions\n\t  if (targetStart < 0) {\n\t    throw new RangeError('targetStart out of bounds')\n\t  }\n\t  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n\t  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n\t  // Are we oob?\n\t  if (end > this.length) end = this.length;\n\t  if (target.length - targetStart < end - start) {\n\t    end = target.length - targetStart + start;\n\t  }\n\n\t  const len = end - start;\n\n\t  if (this === target && typeof GlobalUint8Array.prototype.copyWithin === 'function') {\n\t    // Use built-in when available, missing from IE11\n\t    this.copyWithin(targetStart, start, end);\n\t  } else {\n\t    GlobalUint8Array.prototype.set.call(\n\t      target,\n\t      this.subarray(start, end),\n\t      targetStart\n\t    );\n\t  }\n\n\t  return len\n\t};\n\n\t// Usage:\n\t//    buffer.fill(number[, offset[, end]])\n\t//    buffer.fill(buffer[, offset[, end]])\n\t//    buffer.fill(string[, offset[, end]][, encoding])\n\tBuffer.prototype.fill = function fill (val, start, end, encoding) {\n\t  // Handle string cases:\n\t  if (typeof val === 'string') {\n\t    if (typeof start === 'string') {\n\t      encoding = start;\n\t      start = 0;\n\t      end = this.length;\n\t    } else if (typeof end === 'string') {\n\t      encoding = end;\n\t      end = this.length;\n\t    }\n\t    if (encoding !== undefined && typeof encoding !== 'string') {\n\t      throw new TypeError('encoding must be a string')\n\t    }\n\t    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n\t      throw new TypeError('Unknown encoding: ' + encoding)\n\t    }\n\t    if (val.length === 1) {\n\t      const code = val.charCodeAt(0);\n\t      if ((encoding === 'utf8' && code < 128) ||\n\t          encoding === 'latin1') {\n\t        // Fast path: If `val` fits into a single byte, use that numeric value.\n\t        val = code;\n\t      }\n\t    }\n\t  } else if (typeof val === 'number') {\n\t    val = val & 255;\n\t  } else if (typeof val === 'boolean') {\n\t    val = Number(val);\n\t  }\n\n\t  // Invalid ranges are not set to a default, so can range check early.\n\t  if (start < 0 || this.length < start || this.length < end) {\n\t    throw new RangeError('Out of range index')\n\t  }\n\n\t  if (end <= start) {\n\t    return this\n\t  }\n\n\t  start = start >>> 0;\n\t  end = end === undefined ? this.length : end >>> 0;\n\n\t  if (!val) val = 0;\n\n\t  let i;\n\t  if (typeof val === 'number') {\n\t    for (i = start; i < end; ++i) {\n\t      this[i] = val;\n\t    }\n\t  } else {\n\t    const bytes = Buffer.isBuffer(val)\n\t      ? val\n\t      : Buffer.from(val, encoding);\n\t    const len = bytes.length;\n\t    if (len === 0) {\n\t      throw new TypeError('The value \"' + val +\n\t        '\" is invalid for argument \"value\"')\n\t    }\n\t    for (i = 0; i < end - start; ++i) {\n\t      this[i + start] = bytes[i % len];\n\t    }\n\t  }\n\n\t  return this\n\t};\n\n\t// CUSTOM ERRORS\n\t// =============\n\n\t// Simplified versions from Node, changed for Buffer-only usage\n\tconst errors = {};\n\tfunction E (sym, getMessage, Base) {\n\t  errors[sym] = class NodeError extends Base {\n\t    constructor () {\n\t      super();\n\n\t      Object.defineProperty(this, 'message', {\n\t        value: getMessage.apply(this, arguments),\n\t        writable: true,\n\t        configurable: true\n\t      });\n\n\t      // Add the error code to the name to include it in the stack trace.\n\t      this.name = `${this.name} [${sym}]`;\n\t      // Access the stack to generate the error message including the error code\n\t      // from the name.\n\t      this.stack; // eslint-disable-line no-unused-expressions\n\t      // Reset the name to the actual name.\n\t      delete this.name;\n\t    }\n\n\t    get code () {\n\t      return sym\n\t    }\n\n\t    set code (value) {\n\t      Object.defineProperty(this, 'code', {\n\t        configurable: true,\n\t        enumerable: true,\n\t        value,\n\t        writable: true\n\t      });\n\t    }\n\n\t    toString () {\n\t      return `${this.name} [${sym}]: ${this.message}`\n\t    }\n\t  };\n\t}\n\n\tE('ERR_BUFFER_OUT_OF_BOUNDS',\n\t  function (name) {\n\t    if (name) {\n\t      return `${name} is outside of buffer bounds`\n\t    }\n\n\t    return 'Attempt to access memory outside buffer bounds'\n\t  }, RangeError);\n\tE('ERR_INVALID_ARG_TYPE',\n\t  function (name, actual) {\n\t    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n\t  }, TypeError);\n\tE('ERR_OUT_OF_RANGE',\n\t  function (str, range, input) {\n\t    let msg = `The value of \"${str}\" is out of range.`;\n\t    let received = input;\n\t    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n\t      received = addNumericalSeparator(String(input));\n\t    } else if (typeof input === 'bigint') {\n\t      received = String(input);\n\t      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n\t        received = addNumericalSeparator(received);\n\t      }\n\t      received += 'n';\n\t    }\n\t    msg += ` It must be ${range}. Received ${received}`;\n\t    return msg\n\t  }, RangeError);\n\n\tfunction addNumericalSeparator (val) {\n\t  let res = '';\n\t  let i = val.length;\n\t  const start = val[0] === '-' ? 1 : 0;\n\t  for (; i >= start + 4; i -= 3) {\n\t    res = `_${val.slice(i - 3, i)}${res}`;\n\t  }\n\t  return `${val.slice(0, i)}${res}`\n\t}\n\n\t// CHECK FUNCTIONS\n\t// ===============\n\n\tfunction checkBounds (buf, offset, byteLength) {\n\t  validateNumber(offset, 'offset');\n\t  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n\t    boundsError(offset, buf.length - (byteLength + 1));\n\t  }\n\t}\n\n\tfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n\t  if (value > max || value < min) {\n\t    const n = typeof min === 'bigint' ? 'n' : '';\n\t    let range;\n\t    if (byteLength > 3) {\n\t      if (min === 0 || min === BigInt(0)) {\n\t        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`;\n\t      } else {\n\t        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n\t                `${(byteLength + 1) * 8 - 1}${n}`;\n\t      }\n\t    } else {\n\t      range = `>= ${min}${n} and <= ${max}${n}`;\n\t    }\n\t    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n\t  }\n\t  checkBounds(buf, offset, byteLength);\n\t}\n\n\tfunction validateNumber (value, name) {\n\t  if (typeof value !== 'number') {\n\t    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n\t  }\n\t}\n\n\tfunction boundsError (value, length, type) {\n\t  if (Math.floor(value) !== value) {\n\t    validateNumber(value, type);\n\t    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n\t  }\n\n\t  if (length < 0) {\n\t    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n\t  }\n\n\t  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n\t                                    `>= ${type ? 1 : 0} and <= ${length}`,\n\t                                    value)\n\t}\n\n\t// HELPER FUNCTIONS\n\t// ================\n\n\tconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;\n\n\tfunction base64clean (str) {\n\t  // Node takes equal signs as end of the Base64 encoding\n\t  str = str.split('=')[0];\n\t  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n\t  str = str.trim().replace(INVALID_BASE64_RE, '');\n\t  // Node converts strings with length < 2 to ''\n\t  if (str.length < 2) return ''\n\t  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\t  while (str.length % 4 !== 0) {\n\t    str = str + '=';\n\t  }\n\t  return str\n\t}\n\n\tfunction utf8ToBytes (string, units) {\n\t  units = units || Infinity;\n\t  let codePoint;\n\t  const length = string.length;\n\t  let leadSurrogate = null;\n\t  const bytes = [];\n\n\t  for (let i = 0; i < length; ++i) {\n\t    codePoint = string.charCodeAt(i);\n\n\t    // is surrogate component\n\t    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n\t      // last char was a lead\n\t      if (!leadSurrogate) {\n\t        // no lead yet\n\t        if (codePoint > 0xDBFF) {\n\t          // unexpected trail\n\t          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t          continue\n\t        } else if (i + 1 === length) {\n\t          // unpaired lead\n\t          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t          continue\n\t        }\n\n\t        // valid lead\n\t        leadSurrogate = codePoint;\n\n\t        continue\n\t      }\n\n\t      // 2 leads in a row\n\t      if (codePoint < 0xDC00) {\n\t        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t        leadSurrogate = codePoint;\n\t        continue\n\t      }\n\n\t      // valid surrogate pair\n\t      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n\t    } else if (leadSurrogate) {\n\t      // valid bmp char, but last char was a lead\n\t      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t    }\n\n\t    leadSurrogate = null;\n\n\t    // encode utf8\n\t    if (codePoint < 0x80) {\n\t      if ((units -= 1) < 0) break\n\t      bytes.push(codePoint);\n\t    } else if (codePoint < 0x800) {\n\t      if ((units -= 2) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0x6 | 0xC0,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else if (codePoint < 0x10000) {\n\t      if ((units -= 3) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0xC | 0xE0,\n\t        codePoint >> 0x6 & 0x3F | 0x80,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else if (codePoint < 0x110000) {\n\t      if ((units -= 4) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0x12 | 0xF0,\n\t        codePoint >> 0xC & 0x3F | 0x80,\n\t        codePoint >> 0x6 & 0x3F | 0x80,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else {\n\t      throw new Error('Invalid code point')\n\t    }\n\t  }\n\n\t  return bytes\n\t}\n\n\tfunction asciiToBytes (str) {\n\t  const byteArray = [];\n\t  for (let i = 0; i < str.length; ++i) {\n\t    // Node's code seems to be doing this and not & 0x7F..\n\t    byteArray.push(str.charCodeAt(i) & 0xFF);\n\t  }\n\t  return byteArray\n\t}\n\n\tfunction utf16leToBytes (str, units) {\n\t  let c, hi, lo;\n\t  const byteArray = [];\n\t  for (let i = 0; i < str.length; ++i) {\n\t    if ((units -= 2) < 0) break\n\n\t    c = str.charCodeAt(i);\n\t    hi = c >> 8;\n\t    lo = c % 256;\n\t    byteArray.push(lo);\n\t    byteArray.push(hi);\n\t  }\n\n\t  return byteArray\n\t}\n\n\tfunction base64ToBytes (str) {\n\t  return base64.toByteArray(base64clean(str))\n\t}\n\n\tfunction blitBuffer (src, dst, offset, length) {\n\t  let i;\n\t  for (i = 0; i < length; ++i) {\n\t    if ((i + offset >= dst.length) || (i >= src.length)) break\n\t    dst[i + offset] = src[i];\n\t  }\n\t  return i\n\t}\n\n\t// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n\t// the `instanceof` check but they should be treated as of that type.\n\t// See: https://github.com/feross/buffer/issues/166\n\tfunction isInstance (obj, type) {\n\t  return obj instanceof type ||\n\t    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n\t      obj.constructor.name === type.name)\n\t}\n\tfunction numberIsNaN (obj) {\n\t  // For IE11 support\n\t  return obj !== obj // eslint-disable-line no-self-compare\n\t}\n\n\t// Create lookup table for `toString('hex')`\n\t// See: https://github.com/feross/buffer/issues/219\n\tconst hexSliceLookupTable = (function () {\n\t  const alphabet = '0123456789abcdef';\n\t  const table = new Array(256);\n\t  for (let i = 0; i < 16; ++i) {\n\t    const i16 = i * 16;\n\t    for (let j = 0; j < 16; ++j) {\n\t      table[i16 + j] = alphabet[i] + alphabet[j];\n\t    }\n\t  }\n\t  return table\n\t})();\n\n\t// Return not function with Error if BigInt not supported\n\tfunction defineBigIntMethod (fn) {\n\t  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n\t}\n\n\tfunction BufferBigIntNotDefined () {\n\t  throw new Error('BigInt not supported')\n\t} \n} (buffer));\n\nconst Buffer = buffer.Buffer;\n\nconst Blob = buffer.Blob;\nconst BlobOptions = buffer.BlobOptions;\nconst Buffer$1 = buffer.Buffer;\nconst File = buffer.File;\nconst FileOptions = buffer.FileOptions;\nconst INSPECT_MAX_BYTES = buffer.INSPECT_MAX_BYTES;\nconst SlowBuffer = buffer.SlowBuffer;\nconst TranscodeEncoding = buffer.TranscodeEncoding;\nconst atob = buffer.atob;\nconst btoa = buffer.btoa;\nconst constants = buffer.constants;\nconst isAscii = buffer.isAscii;\nconst isUtf8 = buffer.isUtf8;\nconst kMaxLength = buffer.kMaxLength;\nconst kStringMaxLength = buffer.kStringMaxLength;\nconst resolveObjectURL = buffer.resolveObjectURL;\nconst transcode = buffer.transcode;\nexport { Blob, BlobOptions, Buffer$1 as Buffer, File, FileOptions, INSPECT_MAX_BYTES, SlowBuffer, TranscodeEncoding, atob, btoa, constants, Buffer as default, isAscii, isUtf8, kMaxLength, kStringMaxLength, resolveObjectURL, transcode };\n//# sourceMappingURL=index.js.map\n",null,"import { schnorr } from '@noble/curves/secp256k1';\nimport { type SerializedBlindedMessage } from '../../model/types';\nimport { bytesToHex, hexToBytes } from '@noble/hashes/utils';\nimport { sha256 } from '@noble/hashes/sha256';\n\nfunction constructMessage(quote: string, blindedMessages: SerializedBlindedMessage[]): Uint8Array {\n\tlet message = quote;\n\tfor (const blindedMessage of blindedMessages) {\n\t\tmessage += blindedMessage.B_;\n\t}\n\tconst msgbytes = new TextEncoder().encode(message);\n\treturn sha256(msgbytes);\n}\n\nexport function signMintQuote(\n\tprivkey: string,\n\tquote: string,\n\tblindedMessages: SerializedBlindedMessage[],\n): string {\n\tconst message = constructMessage(quote, blindedMessages);\n\tconst privkeyBytes = hexToBytes(privkey);\n\tconst signature = schnorr.sign(message, privkeyBytes);\n\treturn bytesToHex(signature);\n}\n\nexport function verifyMintQuoteSignature(\n\tpubkey: string,\n\tquote: string,\n\tblindedMessages: SerializedBlindedMessage[],\n\tsignature: string,\n): boolean {\n\tconst sigbytes = hexToBytes(signature);\n\tlet pubkeyBytes = hexToBytes(pubkey);\n\tif (pubkeyBytes.length !== 33) return false;\n\tpubkeyBytes = pubkeyBytes.slice(1);\n\tconst message = constructMessage(quote, blindedMessages);\n\treturn schnorr.verify(sigbytes, message, pubkeyBytes);\n}\n",null,null,null,null,null,"import { type DLEQ, hash_e, hashToCurve } from '../common/index';\nimport { type ProjPointType } from '@noble/curves/abstract/weierstrass';\nimport { bytesToHex } from '@noble/curves/abstract/utils';\nimport { secp256k1 } from '@noble/curves/secp256k1';\nimport { bytesToNumber } from '../util/utils';\n\nfunction arraysEqual(arr1: Uint8Array, arr2: Uint8Array) {\n\tif (arr1.length !== arr2.length) return false;\n\tfor (let i = 0; i < arr1.length; i++) {\n\t\tif (arr1[i] !== arr2[i]) return false;\n\t}\n\treturn true;\n}\n\nexport const verifyDLEQProof = (\n\tdleq: DLEQ,\n\tB_: ProjPointType<bigint>,\n\tC_: ProjPointType<bigint>,\n\tA: ProjPointType<bigint>,\n) => {\n\tconst sG = secp256k1.ProjectivePoint.fromPrivateKey(bytesToHex(dleq.s));\n\tconst eA = A.multiply(bytesToNumber(dleq.e));\n\tconst sB_ = B_.multiply(bytesToNumber(dleq.s));\n\tconst eC_ = C_.multiply(bytesToNumber(dleq.e));\n\tconst R_1 = sG.subtract(eA); // R1 = sG - eA\n\tconst R_2 = sB_.subtract(eC_); // R2 = sB' - eC'\n\tconst hash = hash_e([R_1, R_2, A, C_]); // e == hash(R1, R2, A, C')\n\treturn arraysEqual(hash, dleq.e);\n};\n\nexport const verifyDLEQProof_reblind = (\n\tsecret: Uint8Array, // secret\n\tdleq: DLEQ,\n\tC: ProjPointType<bigint>, // unblinded e-cash signature point\n\tA: ProjPointType<bigint>, // mint public key point\n) => {\n\tif (dleq.r === undefined) throw new Error('verifyDLEQProof_reblind: Undefined blinding factor');\n\tconst Y = hashToCurve(secret);\n\tconst C_ = C.add(A.multiply(dleq.r)); // Re-blind the e-cash signature\n\tconst bG = secp256k1.ProjectivePoint.fromPrivateKey(dleq.r);\n\tconst B_ = Y.add(bG); // Re-blind the message\n\treturn verifyDLEQProof(dleq, B_, C_, A);\n};\n",null,"import { type PrivKey, bytesToHex, hexToBytes } from '@noble/curves/abstract/utils';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { schnorr } from '@noble/curves/secp256k1';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { parseP2PKSecret } from '../common/NUT11';\nimport { type Secret, type Witness } from '../common/index';\nimport { type P2PKWitness, type Proof } from '../../model/types/index';\nimport { type BlindedMessage } from './index';\n\nexport const createP2PKsecret = (pubkey: string): string => {\n\tconst newSecret: Secret = [\n\t\t'P2PK',\n\t\t{\n\t\t\tnonce: bytesToHex(randomBytes(32)),\n\t\t\tdata: pubkey,\n\t\t},\n\t];\n\treturn JSON.stringify(newSecret);\n};\n\nexport const signP2PKSecret = (secret: string, privateKey: PrivKey): string => {\n\tconst msghash = sha256(secret);\n\tconst sig = schnorr.sign(msghash, privateKey);\n\treturn bytesToHex(sig);\n};\n\nexport const signBlindedMessage = (B_: string, privateKey: PrivKey): string => {\n\tconst msgHash = sha256(B_);\n\tconst sig = schnorr.sign(msgHash, privateKey);\n\treturn bytesToHex(sig);\n};\n\n/**\n * Verifies a Schnorr signature on a P2PK secret.\n *\n * @param signature - The Schnorr signature (hex-encoded).\n * @param secret - The Secret to verify.\n * @param pubkey - The Cashu P2PK public key (hex-encoded, X-only or with 02/03 prefix).\n * @returns {boolean} True if the signature is valid, false otherwise.\n */\nexport const verifyP2PKSecretSignature = (\n\tsignature: string,\n\tsecret: string,\n\tpubkey: string,\n): boolean => {\n\ttry {\n\t\tconst msghash = sha256(secret);\n\t\t// Use X-only pubkey: strip 02/03 prefix if pubkey is 66 hex chars (33 bytes)\n\t\tconst pubkeyX = pubkey.length === 66 ? pubkey.slice(2) : pubkey;\n\t\tif (schnorr.verify(signature, msghash, hexToBytes(pubkeyX))) {\n\t\t\treturn true;\n\t\t}\n\t} catch (e) {\n\t\tconsole.error('verifyP2PKsecret error:', e);\n\t}\n\treturn false; // no bueno\n};\n\n/**\n * Verifies a pubkey has signed a P2PK Proof.\n *\n * @param pubkey - The Cashu P2PK public key (hex-encoded, X-only or with 02/03 prefix).\n * @param proof - A Cashu proof.\n * @returns {boolean} True if one of the signatures is theirs, false otherwise.\n */\nexport const hasP2PKSignedProof = (pubkey: string, proof: Proof): boolean => {\n\tif (!proof.witness) {\n\t\treturn false;\n\t}\n\tconst signatures = getP2PKWitnessSignatures(proof.witness);\n\t// See if any of the signatures belong to this pubkey.\n\t// We need to do this as Schnorr signatures are non-deterministic.\n\treturn signatures.some((sig) => {\n\t\ttry {\n\t\t\treturn verifyP2PKSecretSignature(sig, proof.secret, pubkey);\n\t\t} catch {\n\t\t\treturn false; // Invalid signature, treat as not signed\n\t\t}\n\t});\n};\n\n/**\n * Returns the expected witness public keys from a NUT-11 P2PK secret.\n *\n * @param secretStr - The NUT-11 P2PK secret.\n * @returns {array} With the public keys or empty array.\n */\nexport function getP2PKExpectedKWitnessPubkeys(secretStr: string | Secret): string[] {\n\ttry {\n\t\t// Validate secret\n\t\tconst secret: Secret = typeof secretStr === 'string' ? parseP2PKSecret(secretStr) : secretStr;\n\t\tif (secret[0] !== 'P2PK') {\n\t\t\tthrow new Error('Invalid P2PK secret: must start with \"P2PK\"');\n\t\t}\n\t\tconst now = Math.floor(Date.now() / 1000);\n\t\tconst locktime = getP2PKLocktime(secret);\n\t\tif (locktime > now) {\n\t\t\t// Am interpretting NUT-11 as intending pubkeys to be usable for a\n\t\t\t// 1-of-m multisig if provided, even if n_sigs is not set\n\t\t\treturn getP2PKWitnessPubkeys(secret);\n\t\t}\n\t\treturn getP2PKWitnessRefundkeys(secret);\n\t} catch {\n\t\t// do nothing\n\t}\n\treturn []; // Unlocked, malformed or expired with no refund keys\n}\n\n/**\n * Returns ALL locktime witnesses from a NUT-11 P2PK secret NB: Does not specify if they are\n * expected to sign - see: getP2PKExpectedKWitnessPubkeys()\n *\n * @param secretStr - The NUT-11 P2PK secret.\n * @returns {array} With the public key(s or empty array.\n */\nexport function getP2PKWitnessPubkeys(secretStr: string | Secret): string[] {\n\t// Validate secret\n\tconst secret: Secret = typeof secretStr === 'string' ? parseP2PKSecret(secretStr) : secretStr;\n\tif (secret[0] !== 'P2PK') {\n\t\tthrow new Error('Invalid P2PK secret: must start with \"P2PK\"');\n\t}\n\tconst { data, tags } = secret[1];\n\tconst pubkeysTag = tags && tags.find((tag) => tag[0] === 'pubkeys');\n\tconst pubkeys = pubkeysTag && pubkeysTag.length > 1 ? pubkeysTag.slice(1) : [];\n\treturn [data, ...pubkeys].filter(Boolean);\n}\n\n/**\n * Returns ALL refund witnesses from a NUT-11 P2PK secret NB: Does not specify if they are expected\n * to sign - see: getP2PKExpectedKWitnessPubkeys()\n *\n * @param secretStr - The NUT-11 P2PK secret.\n * @returns {array} With the public keys or empty array.\n */\nexport function getP2PKWitnessRefundkeys(secretStr: string | Secret): string[] {\n\t// Validate secret\n\tconst secret: Secret = typeof secretStr === 'string' ? parseP2PKSecret(secretStr) : secretStr;\n\tif (secret[0] !== 'P2PK') {\n\t\tthrow new Error('Invalid P2PK secret: must start with \"P2PK\"');\n\t}\n\tconst { tags } = secret[1];\n\tconst refundTag = tags && tags.find((tag) => tag[0] === 'refund');\n\treturn refundTag && refundTag.length > 1 ? refundTag.slice(1).filter(Boolean) : [];\n}\n\n/**\n * Returns the locktime from a NUT-11 P2PK secret or Infinity if no locktime.\n *\n * @param secretStr - The NUT-11 P2PK secret.\n * @returns {number} The locktime unix timestamp or Infinity (permanent lock)\n */\nexport function getP2PKLocktime(secretStr: string | Secret): number {\n\t// Validate secret\n\tconst secret: Secret = typeof secretStr === 'string' ? parseP2PKSecret(secretStr) : secretStr;\n\tif (secret[0] !== 'P2PK') {\n\t\tthrow new Error('Invalid P2PK secret: must start with \"P2PK\"');\n\t}\n\tconst { tags } = secret[1];\n\tconst locktimeTag = tags && tags.find((tag) => tag[0] === 'locktime');\n\treturn locktimeTag && locktimeTag.length > 1 ? parseInt(locktimeTag[1], 10) : Infinity; // Permanent lock if not set\n}\n\n/**\n * Returns the number of signatures required from a NUT-11 P2PK secret.\n *\n * @param secretStr - The NUT-11 P2PK secret.\n * @returns {number} The number of signatories (n_sigs / n_sigs_refund) or 0 if secret is unlocked.\n */\nexport function getP2PKNSigs(secretStr: string | Secret): number {\n\t// Validate secret\n\tconst secret: Secret = typeof secretStr === 'string' ? parseP2PKSecret(secretStr) : secretStr;\n\tif (secret[0] !== 'P2PK') {\n\t\tthrow new Error('Invalid P2PK secret: must start with \"P2PK\"');\n\t}\n\t// Check for witnesses\n\tconst witness = getP2PKExpectedKWitnessPubkeys(secret);\n\tif (!witness.length) {\n\t\treturn 0; // unlocked if no witnesses needed\n\t}\n\t// Check for Lock multisig\n\tconst { tags } = secret[1];\n\tconst now = Math.floor(Date.now() / 1000);\n\tconst locktime = getP2PKLocktime(secret);\n\tif (locktime > now) {\n\t\tconst n_sigsTag = tags && tags.find((tag) => tag[0] === 'n_sigs');\n\t\treturn n_sigsTag && n_sigsTag.length > 1 ? parseInt(n_sigsTag[1], 10) : 1; // Default: 1\n\t}\n\t// Refund multisig\n\tconst n_sigs_refundTag = tags && tags.find((tag) => tag[0] === 'n_sigs_refund');\n\treturn n_sigs_refundTag && n_sigs_refundTag.length > 1 ? parseInt(n_sigs_refundTag[1], 10) : 1; // Default: 1\n}\n\n/**\n * Returns the sigflag from a NUT-11 P2PK secret.\n *\n * @param secretStr - The NUT-11 P2PK secret.\n * @returns {string} The sigflag or 'SIG_INPUTS' (default)\n */\nexport function getP2PKSigFlag(secretStr: string | Secret): string {\n\t// Validate secret\n\tconst secret: Secret = typeof secretStr === 'string' ? parseP2PKSecret(secretStr) : secretStr;\n\tif (secret[0] !== 'P2PK') {\n\t\tthrow new Error('Invalid P2PK secret: must start with \"P2PK\"');\n\t}\n\tconst { tags } = secret[1];\n\tconst sigFlagTag = tags && tags.find((tag) => tag[0] === 'sigflag');\n\treturn sigFlagTag && sigFlagTag.length > 1 ? sigFlagTag[1] : 'SIG_INPUTS';\n}\n\n/**\n * Gets witness signatures as an array.\n *\n * @type {array} of Signatures.\n */\nexport const getP2PKWitnessSignatures = (witness: string | P2PKWitness | undefined): string[] => {\n\tif (!witness) return [];\n\tif (typeof witness === 'string') {\n\t\ttry {\n\t\t\tconst parsed = JSON.parse(witness) as Witness;\n\t\t\treturn parsed.signatures || [];\n\t\t} catch (e) {\n\t\t\tconsole.error('Failed to parse witness string:', e);\n\t\t\treturn [];\n\t\t}\n\t}\n\treturn witness.signatures || [];\n};\n\n/**\n * Signs proofs with provided private key(s) if required NB: Will only sign if the proof requires a\n * signature from the key.\n *\n * @param proofs - An array of proofs to sign.\n * @param privateKey - A single private key or array of private keys.\n * @param beStrict - (Default: false) Throws Error if any signing attempt fails.\n */\nexport const signP2PKProofs = (\n\tproofs: Proof[],\n\tprivateKey: string | string[],\n\tbeStrict = false,\n): Proof[] => {\n\tconst privateKeys: string[] = Array.isArray(privateKey) ? privateKey : [privateKey];\n\treturn proofs.map((proof, index) => {\n\t\tlet signedProof = proof;\n\t\tfor (const priv of privateKeys) {\n\t\t\ttry {\n\t\t\t\tsignedProof = signP2PKProof(signedProof, priv);\n\t\t\t} catch (error: unknown) {\n\t\t\t\tconst message = error instanceof Error ? error.message : 'Unknown error';\n\t\t\t\tif (beStrict) {\n\t\t\t\t\tthrow new Error(`Failed signing proof #${index + 1}: ${message}`);\n\t\t\t\t}\n\t\t\t\tconsole.warn(`Proof #${index + 1}: ${message}`);\n\t\t\t}\n\t\t}\n\t\treturn signedProof;\n\t});\n};\n\n/**\n * Signs a single proof with the provided private key if required NB: Will only sign if the proof\n * requires a signature from the key.\n *\n * @param proof - A proof to sign.\n * @param privateKey - A single private key.\n * @throws Error if signature is not required or proof is already signed.\n */\nexport const signP2PKProof = (proof: Proof, privateKey: string): Proof => {\n\t// Check secret is P2PK\n\tconst parsed: Secret = parseP2PKSecret(proof.secret);\n\tif (parsed[0] !== 'P2PK') {\n\t\tthrow new Error('not a P2PK secret');\n\t}\n\t// Check if the private key is required to sign by checking its\n\t// X-only pubkey (no 02/03 prefix) against the expected witness pubkeys\n\t// NB: Nostr pubkeys prepend 02 by convention, ignoring actual Y-parity\n\tconst pubkey = bytesToHex(schnorr.getPublicKey(privateKey)); // x-only\n\tconst witnesses = getP2PKExpectedKWitnessPubkeys(parsed);\n\tif (!witnesses.length || !witnesses.some((w) => w.includes(pubkey))) {\n\t\tthrow new Error(`Signature not required from [02|03]${pubkey}`);\n\t}\n\t// Check if the public key has already signed\n\tconst signatures = getP2PKWitnessSignatures(proof.witness);\n\tconst alreadySigned = signatures.some((sig) => {\n\t\ttry {\n\t\t\treturn verifyP2PKSecretSignature(sig, proof.secret, pubkey);\n\t\t} catch {\n\t\t\treturn false; // Invalid signature, treat as not signed\n\t\t}\n\t});\n\tif (alreadySigned) {\n\t\tthrow new Error(`Proof already signed by [02|03]${pubkey}`);\n\t}\n\t// Add new signature\n\tconst signature = signP2PKSecret(proof.secret, privateKey);\n\tsignatures.push(signature);\n\treturn { ...proof, witness: { signatures } };\n};\n\nexport const getSignedOutput = (output: BlindedMessage, privateKey: PrivKey): BlindedMessage => {\n\tconst B_ = output.B_.toHex(true);\n\tconst signature = signBlindedMessage(B_, privateKey);\n\toutput.witness = { signatures: [signature] };\n\treturn output;\n};\n\nexport const getSignedOutputs = (\n\toutputs: BlindedMessage[],\n\tprivateKey: string,\n): BlindedMessage[] => {\n\treturn outputs.map((o) => getSignedOutput(o, privateKey));\n};\n","import { type ProjPointType } from '@noble/curves/abstract/weierstrass';\nimport { secp256k1 } from '@noble/curves/secp256k1';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { bytesToNumber } from '../util/utils';\nimport {\n\ttype BlindSignature,\n\ttype Proof,\n\ttype SerializedBlindedMessage,\n\ttype SerializedProof,\n\thashToCurve,\n\tpointFromHex,\n\ttype Witness,\n} from '../common/index.js';\nimport { type PrivKey } from '@noble/curves/abstract/utils';\nimport { getSignedOutput } from './NUT11';\n\nexport type BlindedMessage = {\n\tB_: ProjPointType<bigint>;\n\tr: bigint;\n\tsecret: Uint8Array;\n\twitness?: Witness;\n};\n\nexport function createRandomBlindedMessage(privateKey?: PrivKey): BlindedMessage {\n\treturn blindMessage(\n\t\trandomBytes(32),\n\t\tbytesToNumber(secp256k1.utils.randomPrivateKey()),\n\t\tprivateKey,\n\t);\n}\n\nexport function blindMessage(secret: Uint8Array, r?: bigint, privateKey?: PrivKey): BlindedMessage {\n\tconst Y = hashToCurve(secret);\n\tif (!r) {\n\t\tr = bytesToNumber(secp256k1.utils.randomPrivateKey());\n\t}\n\tconst rG = secp256k1.ProjectivePoint.BASE.multiply(r);\n\tconst B_ = Y.add(rG);\n\tif (privateKey !== undefined) {\n\t\treturn getSignedOutput({ B_, r, secret }, privateKey);\n\t}\n\treturn { B_, r, secret };\n}\n\nexport function unblindSignature(\n\tC_: ProjPointType<bigint>,\n\tr: bigint,\n\tA: ProjPointType<bigint>,\n): ProjPointType<bigint> {\n\tconst C = C_.subtract(A.multiply(r));\n\treturn C;\n}\n\nexport function constructProofFromPromise(\n\tpromise: BlindSignature,\n\tr: bigint,\n\tsecret: Uint8Array,\n\tkey: ProjPointType<bigint>,\n): Proof {\n\tconst A = key;\n\tconst C = unblindSignature(promise.C_, r, A);\n\tconst proof = {\n\t\tid: promise.id,\n\t\tamount: promise.amount,\n\t\tsecret,\n\t\tC,\n\t};\n\treturn proof;\n}\n\nexport const serializeProof = (proof: Proof): SerializedProof => {\n\treturn {\n\t\tamount: proof.amount,\n\t\tC: proof.C.toHex(true),\n\t\tid: proof.id,\n\t\tsecret: new TextDecoder().decode(proof.secret),\n\t\twitness: JSON.stringify(proof.witness),\n\t};\n};\n\nexport const deserializeProof = (proof: SerializedProof): Proof => {\n\treturn {\n\t\tamount: proof.amount,\n\t\tC: pointFromHex(proof.C),\n\t\tid: proof.id,\n\t\tsecret: new TextEncoder().encode(proof.secret),\n\t\twitness: proof.witness ? (JSON.parse(proof.witness) as Witness) : undefined,\n\t};\n};\nexport const serializeBlindedMessage = (\n\tbm: BlindedMessage,\n\tamount: number,\n): SerializedBlindedMessage => {\n\treturn {\n\t\tB_: bm.B_.toHex(true),\n\t\tamount: amount,\n\t};\n};\n",null,null,"import { type ProjPointType } from '@noble/curves/abstract/weierstrass';\nimport { secp256k1 } from '@noble/curves/secp256k1';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { bytesToHex, hexToBytes } from '@noble/curves/abstract/utils';\nimport { bytesToNumber, encodeBase64toUint8, hexToNumber } from '../util/utils';\nimport { Bytes } from '../../utils/Bytes';\n\nexport type Enumerate<N extends number, Acc extends number[] = []> = Acc['length'] extends N\n\t? Acc[number]\n\t: Enumerate<N, [...Acc, Acc['length']]>;\n\nexport type IntRange<F extends number, T extends number> = Exclude<Enumerate<T>, Enumerate<F>>;\n\nexport type MintKeys = { [k: string]: Uint8Array };\n\nexport type SerializedMintKeys = {\n\t[k: string]: string;\n};\n\nexport type Keyset = {\n\tid: string;\n\tunit: string;\n\tactive: boolean;\n};\n\nexport type BlindSignature = {\n\tC_: ProjPointType<bigint>;\n\tamount: number;\n\tid: string;\n};\n\nexport type SerializedBlindSignature = {\n\tC_: string;\n\tamount: number;\n\tid: string;\n};\n\nexport type DLEQ = {\n\ts: Uint8Array; // signature\n\te: Uint8Array; // challenge\n\tr?: bigint; // optional: blinding factor\n};\n\nexport type Proof = {\n\tC: ProjPointType<bigint>;\n\tsecret: Uint8Array;\n\tamount: number;\n\tid: string;\n\twitness?: Witness;\n};\n\nexport type SerializedProof = {\n\tC: string;\n\tsecret: string;\n\tamount: number;\n\tid: string;\n\twitness?: string;\n};\n\nexport type SerializedBlindedMessage = {\n\tB_: string;\n\tamount: number;\n\twitness?: string;\n};\n\nexport type Secret = [WellKnownSecret, SecretData];\n\nexport type WellKnownSecret = 'P2PK';\n\nexport type SecretData = {\n\tnonce: string;\n\tdata: string;\n\ttags?: string[][];\n};\n\nexport type Witness = {\n\tsignatures: string[];\n};\n\nexport type Tags = {\n\t[k: string]: string;\n};\n\nexport type SigFlag = 'SIG_INPUTS' | 'SIG_ALL';\n\nconst DOMAIN_SEPARATOR = hexToBytes('536563703235366b315f48617368546f43757276655f43617368755f');\n\nexport function hashToCurve(secret: Uint8Array): ProjPointType<bigint> {\n\tconst msgToHash = sha256(Bytes.concat(DOMAIN_SEPARATOR, secret));\n\tconst counter = new Uint32Array(1);\n\tconst maxIterations = 2 ** 16;\n\tfor (let i = 0; i < maxIterations; i++) {\n\t\tconst counterBytes = new Uint8Array(counter.buffer);\n\t\tconst hash = sha256(Bytes.concat(msgToHash, counterBytes));\n\t\ttry {\n\t\t\treturn pointFromHex(bytesToHex(Bytes.concat(new Uint8Array([0x02]), hash)));\n\t\t} catch {\n\t\t\tcounter[0]++;\n\t\t}\n\t}\n\tthrow new Error('No valid point found');\n}\n\nexport function hash_e(pubkeys: Array<ProjPointType<bigint>>): Uint8Array {\n\tconst hexStrings = pubkeys.map((p) => p.toHex(false));\n\tconst e_ = hexStrings.join('');\n\treturn sha256(new TextEncoder().encode(e_));\n}\n\nexport function pointFromBytes(bytes: Uint8Array) {\n\treturn secp256k1.ProjectivePoint.fromHex(bytesToHex(bytes));\n}\n\nexport function pointFromHex(hex: string) {\n\treturn secp256k1.ProjectivePoint.fromHex(hex);\n}\n\nexport const getKeysetIdInt = (keysetId: string): bigint => {\n\tlet keysetIdInt: bigint;\n\tif (/^[a-fA-F0-9]+$/.test(keysetId)) {\n\t\tkeysetIdInt = hexToNumber(keysetId) % BigInt(2 ** 31 - 1);\n\t} else {\n\t\t//legacy keyset compatibility\n\t\tkeysetIdInt = bytesToNumber(encodeBase64toUint8(keysetId)) % BigInt(2 ** 31 - 1);\n\t}\n\treturn keysetIdInt;\n};\n\nexport function createRandomPrivateKey() {\n\treturn secp256k1.utils.randomPrivateKey();\n}\n\nexport function serializeMintKeys(mintKeys: MintKeys): SerializedMintKeys {\n\tconst serializedMintKeys: SerializedMintKeys = {};\n\tObject.keys(mintKeys).forEach((p) => {\n\t\tserializedMintKeys[p] = bytesToHex(mintKeys[p]);\n\t});\n\treturn serializedMintKeys;\n}\n\nexport function deserializeMintKeys(serializedMintKeys: SerializedMintKeys): MintKeys {\n\tconst mintKeys: MintKeys = {};\n\tObject.keys(serializedMintKeys).forEach((p) => {\n\t\tmintKeys[p] = hexToBytes(serializedMintKeys[p]);\n\t});\n\treturn mintKeys;\n}\n\nexport function deriveKeysetId(keys: MintKeys): string {\n\tconst KEYSET_VERSION = '00';\n\tconst mapBigInt = (k: [string, string]): [bigint, string] => {\n\t\treturn [BigInt(k[0]), k[1]];\n\t};\n\tconst pubkeysConcat = Object.entries(serializeMintKeys(keys))\n\t\t.map(mapBigInt)\n\t\t.sort((a, b) => (a[0] < b[0] ? -1 : a[0] > b[0] ? 1 : 0))\n\t\t.map(([, pubKey]) => hexToBytes(pubKey))\n\t\t.reduce((prev, curr) => mergeUInt8Arrays(prev, curr), new Uint8Array());\n\tconst hash = sha256(pubkeysConcat);\n\tconst hashHex = Bytes.toHex(hash).slice(0, 14);\n\treturn KEYSET_VERSION + hashHex;\n}\n\nfunction mergeUInt8Arrays(a1: Uint8Array, a2: Uint8Array): Uint8Array {\n\t// sum of individual array lengths\n\tconst mergedArray = new Uint8Array(a1.length + a2.length);\n\tmergedArray.set(a1);\n\tmergedArray.set(a2, a1.length);\n\treturn mergedArray;\n}\n","import { Bytes } from './utils/Bytes';\n\nfunction encodeUint8toBase64(uint8array: Uint8Array): string {\n\treturn Bytes.toBase64(uint8array);\n}\n\nfunction encodeUint8toBase64Url(bytes: Uint8Array): string {\n\treturn Bytes.toBase64(bytes)\n\t\t.replace(/\\+/g, '-') // Replace + with -\n\t\t.replace(/\\//g, '_') // Replace / with _\n\t\t.replace(/=+$/, ''); // Remove padding characters\n}\n\nfunction encodeBase64toUint8(base64String: string): Uint8Array {\n\treturn Bytes.fromBase64(base64String);\n}\n\nfunction encodeJsonToBase64(jsonObj: unknown): string {\n\tconst jsonString = JSON.stringify(jsonObj);\n\treturn base64urlFromBase64(Bytes.toBase64(Bytes.fromString(jsonString)));\n}\n\nfunction encodeBase64ToJson<T extends object>(base64String: string): T {\n\tconst jsonString = Bytes.toString(Bytes.fromBase64(base64urlToBase64(base64String)));\n\tconst jsonObj = JSON.parse(jsonString) as T;\n\treturn jsonObj;\n}\n\nfunction base64urlToBase64(str: string) {\n\treturn str.replace(/-/g, '+').replace(/_/g, '/').split('=')[0];\n\t// .replace(/./g, '=');\n}\n\nfunction base64urlFromBase64(str: string) {\n\treturn str.replace(/\\+/g, '-').replace(/\\//g, '_').split('=')[0];\n\t// .replace(/=/g, '.');\n}\n\nfunction isBase64String(s: string): boolean {\n\tif (typeof s !== 'string' || s.length === 0) return false;\n\n\t// Accept both base64 and base64url char sets\n\tconst base64url = /^[A-Za-z0-9\\-_]+={0,2}$/;\n\tconst base64 = /^[A-Za-z0-9+/]+={0,2}$/;\n\n\t// Quick character-set check\n\tif (!base64url.test(s) && !base64.test(s)) return false;\n\n\t// Normalize base64url to standard base64 for decoding\n\tconst normalized = s.replace(/-/g, '+').replace(/_/g, '/');\n\n\t// Padding: length must be multiple of 4. Add '=' padding if needed (but no more than 2)\n\tconst padLength = (4 - (normalized.length % 4)) % 4;\n\tif (padLength > 2) return false; // should never happen but keep safe\n\tconst padded = normalized + '='.repeat(padLength);\n\n\ttry {\n\t\tconst decoded = Bytes.fromBase64(padded);\n\n\t\t// Re-encode and compare to the original (allowing either standard or url-safe representation)\n\t\tconst reStandard = Bytes.toBase64(decoded);\n\t\tconst reUrl = reStandard.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n\n\t\t// Also compare against original normalized-without-padding variant\n\t\tconst originalNoPad = normalized.replace(/=+$/, '');\n\n\t\tif (reStandard.replace(/=+$/, '') === originalNoPad) return true;\n\t\tif (reUrl === originalNoPad) return true;\n\n\t\treturn false;\n\t} catch {\n\t\treturn false;\n\t}\n}\n\nexport {\n\tencodeUint8toBase64,\n\tencodeUint8toBase64Url,\n\tencodeBase64toUint8,\n\tencodeJsonToBase64,\n\tencodeBase64ToJson,\n\tisBase64String,\n};\n",null,null,null,"type SimpleValue = boolean | null | undefined;\n\nexport type ResultObject = { [key: string]: ResultValue };\nexport type ResultValue = SimpleValue | number | string | Uint8Array | ResultValue[] | ResultObject;\n\ntype ResultKeyType = Extract<ResultValue, number | string>;\nexport type ValidDecodedType = Extract<ResultValue, ResultObject>;\n\nfunction isResultKeyType(value: ResultValue): value is ResultKeyType {\n\treturn typeof value === 'number' || typeof value === 'string';\n}\n\ntype DecodeResult<T extends ResultValue> = {\n\tvalue: T;\n\toffset: number;\n};\n\nexport function encodeCBOR(value: unknown): Uint8Array {\n\tconst buffer: number[] = [];\n\tencodeItem(value, buffer);\n\treturn new Uint8Array(buffer);\n}\n\nfunction encodeItem(value: unknown, buffer: number[]) {\n\tif (value === null) {\n\t\tbuffer.push(0xf6);\n\t} else if (value === undefined) {\n\t\tbuffer.push(0xf7);\n\t} else if (typeof value === 'boolean') {\n\t\tbuffer.push(value ? 0xf5 : 0xf4);\n\t} else if (typeof value === 'number') {\n\t\tencodeUnsigned(value, buffer);\n\t} else if (typeof value === 'string') {\n\t\tencodeString(value, buffer);\n\t} else if (Array.isArray(value)) {\n\t\tencodeArray(value, buffer);\n\t} else if (value instanceof Uint8Array) {\n\t\tencodeByteString(value, buffer);\n\t} else if (\n\t\t// Defensive: POJO only (null/array handled above)\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t!Array.isArray(value)\n\t) {\n\t\tencodeObject(value as Record<string, unknown>, buffer);\n\t} else {\n\t\tthrow new Error('Unsupported type');\n\t}\n}\n\nfunction encodeUnsigned(value: number, buffer: number[]) {\n\tif (value < 24) {\n\t\tbuffer.push(value);\n\t} else if (value < 256) {\n\t\tbuffer.push(0x18, value);\n\t} else if (value < 65536) {\n\t\tbuffer.push(0x19, value >> 8, value & 0xff);\n\t} else if (value < 4294967296) {\n\t\tbuffer.push(0x1a, value >> 24, (value >> 16) & 0xff, (value >> 8) & 0xff, value & 0xff);\n\t} else {\n\t\tthrow new Error('Unsupported integer size');\n\t}\n}\n\nfunction encodeByteString(value: Uint8Array, buffer: number[]) {\n\tconst length = value.length;\n\n\tif (length < 24) {\n\t\tbuffer.push(0x40 + length);\n\t} else if (length < 256) {\n\t\tbuffer.push(0x58, length);\n\t} else if (length < 65536) {\n\t\tbuffer.push(0x59, (length >> 8) & 0xff, length & 0xff);\n\t} else if (length < 4294967296) {\n\t\tbuffer.push(\n\t\t\t0x5a,\n\t\t\t(length >> 24) & 0xff,\n\t\t\t(length >> 16) & 0xff,\n\t\t\t(length >> 8) & 0xff,\n\t\t\tlength & 0xff,\n\t\t);\n\t} else {\n\t\tthrow new Error('Byte string too long to encode');\n\t}\n\n\tfor (let i = 0; i < value.length; i++) {\n\t\tbuffer.push(value[i]);\n\t}\n}\n\nfunction encodeString(value: string, buffer: number[]) {\n\tconst utf8 = new TextEncoder().encode(value);\n\tconst length = utf8.length;\n\n\tif (length < 24) {\n\t\tbuffer.push(0x60 + length);\n\t} else if (length < 256) {\n\t\tbuffer.push(0x78, length);\n\t} else if (length < 65536) {\n\t\tbuffer.push(0x79, (length >> 8) & 0xff, length & 0xff);\n\t} else if (length < 4294967296) {\n\t\tbuffer.push(\n\t\t\t0x7a,\n\t\t\t(length >> 24) & 0xff,\n\t\t\t(length >> 16) & 0xff,\n\t\t\t(length >> 8) & 0xff,\n\t\t\tlength & 0xff,\n\t\t);\n\t} else {\n\t\tthrow new Error('String too long to encode');\n\t}\n\n\tfor (let i = 0; i < utf8.length; i++) {\n\t\tbuffer.push(utf8[i]);\n\t}\n}\n\nfunction encodeArray(value: unknown[], buffer: number[]) {\n\tconst length = value.length;\n\tif (length < 24) {\n\t\tbuffer.push(0x80 | length);\n\t} else if (length < 256) {\n\t\tbuffer.push(0x98, length);\n\t} else if (length < 65536) {\n\t\tbuffer.push(0x99, length >> 8, length & 0xff);\n\t} else {\n\t\tthrow new Error('Unsupported array length');\n\t}\n\n\tfor (const item of value) {\n\t\tencodeItem(item, buffer);\n\t}\n}\n\nfunction encodeObject(value: Record<string, unknown>, buffer: number[]) {\n\tconst keys = Object.keys(value);\n\tencodeUnsigned(keys.length, buffer);\n\tbuffer[buffer.length - 1] |= 0xa0;\n\tfor (const key of keys) {\n\t\tencodeString(key, buffer);\n\t\tencodeItem(value[key], buffer);\n\t}\n}\n\nexport function decodeCBOR(data: Uint8Array): ResultValue {\n\tconst view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n\tconst result = decodeItem(view, 0);\n\treturn result.value;\n}\n\nfunction decodeItem(view: DataView, offset: number): DecodeResult<ResultValue> {\n\tif (offset >= view.byteLength) {\n\t\tthrow new Error('Unexpected end of data');\n\t}\n\tconst initialByte = view.getUint8(offset++);\n\tconst majorType = initialByte >> 5;\n\tconst additionalInfo = initialByte & 0x1f;\n\n\tswitch (majorType) {\n\t\tcase 0:\n\t\t\treturn decodeUnsigned(view, offset, additionalInfo);\n\t\tcase 1:\n\t\t\treturn decodeSigned(view, offset, additionalInfo);\n\t\tcase 2:\n\t\t\treturn decodeByteString(view, offset, additionalInfo);\n\t\tcase 3:\n\t\t\treturn decodeString(view, offset, additionalInfo);\n\t\tcase 4:\n\t\t\treturn decodeArray(view, offset, additionalInfo);\n\t\tcase 5:\n\t\t\treturn decodeMap(view, offset, additionalInfo);\n\t\tcase 7:\n\t\t\treturn decodeSimpleAndFloat(view, offset, additionalInfo);\n\t\tdefault:\n\t\t\tthrow new Error(`Unsupported major type: ${majorType}`);\n\t}\n}\n\nfunction decodeLength(\n\tview: DataView,\n\toffset: number,\n\tadditionalInfo: number,\n): DecodeResult<number> {\n\tif (additionalInfo < 24) return { value: additionalInfo, offset };\n\tif (additionalInfo === 24) return { value: view.getUint8(offset++), offset };\n\tif (additionalInfo === 25) {\n\t\tconst value = view.getUint16(offset, false);\n\t\toffset += 2;\n\t\treturn { value, offset };\n\t}\n\tif (additionalInfo === 26) {\n\t\tconst value = view.getUint32(offset, false);\n\t\toffset += 4;\n\t\treturn { value, offset };\n\t}\n\tif (additionalInfo === 27) {\n\t\tconst hi = view.getUint32(offset, false);\n\t\tconst lo = view.getUint32(offset + 4, false);\n\t\toffset += 8;\n\t\treturn { value: hi * 2 ** 32 + lo, offset };\n\t}\n\tthrow new Error(`Unsupported length: ${additionalInfo}`);\n}\n\nfunction decodeUnsigned(\n\tview: DataView,\n\toffset: number,\n\tadditionalInfo: number,\n): DecodeResult<number> {\n\tconst { value, offset: newOffset } = decodeLength(view, offset, additionalInfo);\n\treturn { value, offset: newOffset };\n}\n\nfunction decodeSigned(\n\tview: DataView,\n\toffset: number,\n\tadditionalInfo: number,\n): DecodeResult<number> {\n\tconst { value, offset: newOffset } = decodeLength(view, offset, additionalInfo);\n\treturn { value: -1 - value, offset: newOffset };\n}\n\nfunction decodeByteString(\n\tview: DataView,\n\toffset: number,\n\tadditionalInfo: number,\n): DecodeResult<Uint8Array> {\n\tconst { value: length, offset: newOffset } = decodeLength(view, offset, additionalInfo);\n\tif (newOffset + length > view.byteLength) {\n\t\tthrow new Error('Byte string length exceeds data length');\n\t}\n\tconst value = new Uint8Array(view.buffer, view.byteOffset + newOffset, length);\n\treturn { value, offset: newOffset + length };\n}\n\nfunction decodeString(\n\tview: DataView,\n\toffset: number,\n\tadditionalInfo: number,\n): DecodeResult<string> {\n\tconst { value: length, offset: newOffset } = decodeLength(view, offset, additionalInfo);\n\tif (newOffset + length > view.byteLength) {\n\t\tthrow new Error('String length exceeds data length');\n\t}\n\tconst bytes = new Uint8Array(view.buffer, view.byteOffset + newOffset, length);\n\tconst value = new TextDecoder().decode(bytes);\n\treturn { value, offset: newOffset + length };\n}\n\nfunction decodeArray(\n\tview: DataView,\n\toffset: number,\n\tadditionalInfo: number,\n): DecodeResult<ResultValue[]> {\n\tconst { value: length, offset: newOffset } = decodeLength(view, offset, additionalInfo);\n\tconst array = [];\n\tlet currentOffset = newOffset;\n\tfor (let i = 0; i < length; i++) {\n\t\tconst result = decodeItem(view, currentOffset);\n\t\tarray.push(result.value);\n\t\tcurrentOffset = result.offset;\n\t}\n\treturn { value: array, offset: currentOffset };\n}\n\nfunction decodeMap(\n\tview: DataView,\n\toffset: number,\n\tadditionalInfo: number,\n): DecodeResult<Record<string, ResultValue>> {\n\tconst { value: length, offset: newOffset } = decodeLength(view, offset, additionalInfo);\n\tconst map: { [key: string]: ResultValue } = {};\n\tlet currentOffset = newOffset;\n\tfor (let i = 0; i < length; i++) {\n\t\tconst keyResult = decodeItem(view, currentOffset);\n\t\tif (!isResultKeyType(keyResult.value)) {\n\t\t\tthrow new Error('Invalid key type');\n\t\t}\n\t\tconst valueResult = decodeItem(view, keyResult.offset);\n\t\tmap[keyResult.value] = valueResult.value;\n\t\tcurrentOffset = valueResult.offset;\n\t}\n\treturn { value: map, offset: currentOffset };\n}\n\nfunction decodeFloat16(uint16: number): number {\n\tconst exponent = (uint16 & 0x7c00) >> 10;\n\tconst fraction = uint16 & 0x03ff;\n\tconst sign = uint16 & 0x8000 ? -1 : 1;\n\n\tif (exponent === 0) {\n\t\treturn sign * 2 ** -14 * (fraction / 1024);\n\t} else if (exponent === 0x1f) {\n\t\treturn fraction ? NaN : sign * Infinity;\n\t}\n\treturn sign * 2 ** (exponent - 15) * (1 + fraction / 1024);\n}\n\nfunction decodeSimpleAndFloat(\n\tview: DataView,\n\toffset: number,\n\tadditionalInfo: number,\n): DecodeResult<SimpleValue | number> {\n\tif (additionalInfo < 24) {\n\t\tswitch (additionalInfo) {\n\t\t\tcase 20:\n\t\t\t\treturn { value: false, offset };\n\t\t\tcase 21:\n\t\t\t\treturn { value: true, offset };\n\t\t\tcase 22:\n\t\t\t\treturn { value: null, offset };\n\t\t\tcase 23:\n\t\t\t\treturn { value: undefined, offset };\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unknown simple value: ${additionalInfo}`);\n\t\t}\n\t}\n\tif (additionalInfo === 24) return { value: view.getUint8(offset++), offset };\n\tif (additionalInfo === 25) {\n\t\tconst value = decodeFloat16(view.getUint16(offset, false));\n\t\toffset += 2;\n\t\treturn { value, offset };\n\t}\n\tif (additionalInfo === 26) {\n\t\tconst value = view.getFloat32(offset, false);\n\t\toffset += 4;\n\t\treturn { value, offset };\n\t}\n\tif (additionalInfo === 27) {\n\t\tconst value = view.getFloat64(offset, false);\n\t\toffset += 8;\n\t\treturn { value, offset };\n\t}\n\tthrow new Error(`Unknown simple or float value: ${additionalInfo}`);\n}\n",null,null,null,"import { hmac } from '@noble/hashes/hmac';\nimport { sha256 } from '@noble/hashes/sha2';\nimport { getKeysetIdInt } from '../common';\nimport { HDKey } from '@scure/bip32';\nimport { Bytes } from '../../utils/Bytes';\nimport { isBase64String } from '../../base64';\n\nconst STANDARD_DERIVATION_PATH = `m/129372'/0'`;\n\nenum DerivationType {\n\tSECRET = 0,\n\tBLINDING_FACTOR = 1,\n}\n\nexport const deriveSecret = (seed: Uint8Array, keysetId: string, counter: number): Uint8Array => {\n\tconst isValidHex = /^[a-fA-F0-9]+$/.test(keysetId);\n\tif (!isValidHex && isBase64String(keysetId)) {\n\t\treturn derive_deprecated(seed, keysetId, counter, DerivationType.SECRET);\n\t}\n\n\tif (isValidHex && keysetId.startsWith('00')) {\n\t\treturn derive_deprecated(seed, keysetId, counter, DerivationType.SECRET);\n\t} else if (isValidHex && keysetId.startsWith('01')) {\n\t\treturn derive(seed, keysetId, counter, DerivationType.SECRET);\n\t}\n\tthrow new Error(`Unrecognized keyset ID version ${keysetId.slice(0, 2)}`);\n};\n\nexport const deriveBlindingFactor = (\n\tseed: Uint8Array,\n\tkeysetId: string,\n\tcounter: number,\n): Uint8Array => {\n\tconst isValidHex = /^[a-fA-F0-9]+$/.test(keysetId);\n\tif (!isValidHex && isBase64String(keysetId)) {\n\t\treturn derive_deprecated(seed, keysetId, counter, DerivationType.BLINDING_FACTOR);\n\t}\n\n\tif (isValidHex && keysetId.startsWith('00')) {\n\t\treturn derive_deprecated(seed, keysetId, counter, DerivationType.BLINDING_FACTOR);\n\t} else if (isValidHex && keysetId.startsWith('01')) {\n\t\treturn derive(seed, keysetId, counter, DerivationType.BLINDING_FACTOR);\n\t}\n\tthrow new Error(`Unrecognized keyset ID version ${keysetId.slice(0, 2)}`);\n};\n\nconst derive = (\n\tseed: Uint8Array,\n\tkeysetId: string,\n\tcounter: number,\n\tsecretOrBlinding: DerivationType,\n): Uint8Array => {\n\tlet message = Bytes.concat(\n\t\tBytes.fromString('Cashu_KDF_HMAC_SHA256'),\n\t\tBytes.fromHex(keysetId),\n\t\tBytes.writeBigUint64BE(BigInt(counter)),\n\t);\n\n\tswitch (secretOrBlinding) {\n\t\tcase DerivationType.SECRET:\n\t\t\tmessage = Bytes.concat(message, Bytes.fromHex('00'));\n\t\t\tbreak;\n\t\tcase DerivationType.BLINDING_FACTOR:\n\t\t\tmessage = Bytes.concat(message, Bytes.fromHex('01'));\n\t}\n\n\t// Step 2: Compute HMAC-SHA256\n\treturn hmac(sha256, seed, message);\n};\n\nconst derive_deprecated = (\n\tseed: Uint8Array,\n\tkeysetId: string,\n\tcounter: number,\n\tsecretOrBlinding: DerivationType,\n): Uint8Array => {\n\tconst hdkey = HDKey.fromMasterSeed(seed);\n\tconst keysetIdInt = getKeysetIdInt(keysetId);\n\tconst derivationPath = `${STANDARD_DERIVATION_PATH}/${keysetIdInt}'/${counter}'/${secretOrBlinding}`;\n\tconst derived = hdkey.derive(derivationPath);\n\tif (derived.privateKey === null) {\n\t\tthrow new Error('Could not derive private key');\n\t}\n\treturn derived.privateKey;\n};\n","import { encodeBase64toUint8 } from '../base64';\nimport { decodeCBOR, encodeCBOR } from '../cbor';\nimport {\n\ttype RawPaymentRequest,\n\ttype RawTransport,\n\ttype NUT10Option,\n\ttype PaymentRequestTransport,\n\ttype PaymentRequestTransportType,\n} from './types';\nimport { Bytes } from '../utils/Bytes';\n\nexport class PaymentRequest {\n\tconstructor(\n\t\tpublic transport?: PaymentRequestTransport[],\n\t\tpublic id?: string,\n\t\tpublic amount?: number,\n\t\tpublic unit?: string,\n\t\tpublic mints?: string[],\n\t\tpublic description?: string,\n\t\tpublic singleUse: boolean = false,\n\t\tpublic nut10?: NUT10Option,\n\t) {}\n\n\ttoRawRequest() {\n\t\tconst rawRequest: RawPaymentRequest = {};\n\t\tif (this.transport) {\n\t\t\trawRequest.t = this.transport.map((t: PaymentRequestTransport) => ({\n\t\t\t\tt: t.type,\n\t\t\t\ta: t.target,\n\t\t\t\tg: t.tags,\n\t\t\t}));\n\t\t}\n\t\tif (this.id) {\n\t\t\trawRequest.i = this.id;\n\t\t}\n\t\tif (this.amount) {\n\t\t\trawRequest.a = this.amount;\n\t\t}\n\t\tif (this.unit) {\n\t\t\trawRequest.u = this.unit;\n\t\t}\n\t\tif (this.mints) {\n\t\t\trawRequest.m = this.mints;\n\t\t}\n\t\tif (this.description) {\n\t\t\trawRequest.d = this.description;\n\t\t}\n\t\tif (this.singleUse) {\n\t\t\trawRequest.s = this.singleUse;\n\t\t}\n\t\tif (this.nut10) {\n\t\t\trawRequest.nut10 = {\n\t\t\t\tk: this.nut10.kind,\n\t\t\t\td: this.nut10.data,\n\t\t\t\tt: this.nut10.tags,\n\t\t\t};\n\t\t}\n\t\treturn rawRequest;\n\t}\n\n\ttoEncodedRequest() {\n\t\tconst rawRequest: RawPaymentRequest = this.toRawRequest();\n\t\tconst data = encodeCBOR(rawRequest);\n\t\tconst encodedData = Bytes.toBase64(data);\n\t\treturn 'creq' + 'A' + encodedData;\n\t}\n\n\tgetTransport(type: PaymentRequestTransportType) {\n\t\treturn this.transport?.find((t: PaymentRequestTransport) => t.type === type);\n\t}\n\n\tstatic fromRawRequest(rawPaymentRequest: RawPaymentRequest): PaymentRequest {\n\t\tconst transports = rawPaymentRequest.t\n\t\t\t? rawPaymentRequest.t.map((t: RawTransport) => ({\n\t\t\t\t\ttype: t.t,\n\t\t\t\t\ttarget: t.a,\n\t\t\t\t\ttags: t.g,\n\t\t\t\t}))\n\t\t\t: undefined;\n\t\tconst nut10 = rawPaymentRequest.nut10\n\t\t\t? {\n\t\t\t\t\tkind: rawPaymentRequest.nut10.k,\n\t\t\t\t\tdata: rawPaymentRequest.nut10.d,\n\t\t\t\t\ttags: rawPaymentRequest.nut10.t,\n\t\t\t\t}\n\t\t\t: undefined;\n\t\treturn new PaymentRequest(\n\t\t\ttransports,\n\t\t\trawPaymentRequest.i,\n\t\t\trawPaymentRequest.a,\n\t\t\trawPaymentRequest.u,\n\t\t\trawPaymentRequest.m,\n\t\t\trawPaymentRequest.d,\n\t\t\trawPaymentRequest.s,\n\t\t\tnut10,\n\t\t);\n\t}\n\n\tstatic fromEncodedRequest(encodedRequest: string): PaymentRequest {\n\t\tif (!encodedRequest.startsWith('creq')) {\n\t\t\tthrow new Error('unsupported pr: invalid prefix');\n\t\t}\n\t\tconst version = encodedRequest[4];\n\t\tif (version !== 'A') {\n\t\t\tthrow new Error('unsupported pr version');\n\t\t}\n\t\tconst encodedData = encodedRequest.slice(5);\n\t\tconst data = encodeBase64toUint8(encodedData);\n\t\tconst decoded = decodeCBOR(data) as RawPaymentRequest;\n\t\treturn this.fromRawRequest(decoded);\n\t}\n}\n","/**\n * Per protocol definition since tokenV3 tokens have a prefix and a version number.\n */\nconst TOKEN_VERSION = 'A';\nconst TOKEN_PREFIX = 'cashu';\n\nexport { TOKEN_VERSION, TOKEN_PREFIX };\n","import { verifyDLEQProof_reblind } from './crypto/client/NUT12';\nimport { type DLEQ, pointFromHex } from './crypto/common';\nimport { bytesToHex, hexToBytes } from '@noble/curves/abstract/utils';\nimport { sha256 } from '@noble/hashes/sha2';\nimport {\n\tencodeBase64ToJson,\n\tencodeBase64toUint8,\n\tencodeJsonToBase64,\n\tencodeUint8toBase64Url,\n\tisBase64String,\n} from './base64';\nimport { decodeCBOR, encodeCBOR } from './cbor';\nimport { PaymentRequest } from './model/PaymentRequest';\nimport type {\n\tTokenMetadata,\n\tDeprecatedToken,\n\tKeys,\n\tMintKeys,\n\tMintKeyset,\n\tProof,\n\tSerializedDLEQ,\n\tToken,\n\tTokenV4Template,\n\tV4DLEQTemplate,\n\tV4InnerToken,\n\tV4ProofTemplate,\n} from './model/types';\nimport { TOKEN_PREFIX, TOKEN_VERSION } from './utils/Constants';\nimport { Bytes } from './utils/Bytes';\n\n/**\n * Splits the amount into denominations of the provided @param keyset.\n *\n * @param value Amount to split.\n * @param keyset Keys to look up split amounts.\n * @param split? Optional custom split amounts.\n * @param order? Optional order for split amounts (default: \"asc\")\n * @returns Array of split amounts.\n * @throws Error if @param split amount is greater than @param value amount.\n */\nexport function splitAmount(\n\tvalue: number,\n\tkeyset: Keys,\n\tsplit?: number[],\n\torder?: 'desc' | 'asc',\n): number[] {\n\tif (split) {\n\t\tconst totalSplitAmount = sumArray(split);\n\n\t\t// Special case: explicit \"zero-total\" outputs (restore or NUT-08 blanks)\n\t\tif (value === 0 && totalSplitAmount === 0) {\n\t\t\treturn split;\n\t\t}\n\n\t\t// Normal positive-value paths: ignore zeros for validation and totals\n\t\tconst positive = split.filter((amt) => amt > 0);\n\t\tconst totalPositive = sumArray(positive);\n\t\tif (totalPositive > value) {\n\t\t\tthrow new Error(`Split is greater than total amount: ${totalPositive} > ${value}`);\n\t\t}\n\t\tif (positive.some((amt) => !hasCorrespondingKey(amt, keyset))) {\n\t\t\tthrow new Error('Provided amount preferences do not match the amounts of the mint keyset.');\n\t\t}\n\n\t\t// if caller supplied an exact custom split, preserve their order\n\t\tif (totalPositive === value) {\n\t\t\treturn positive;\n\t\t}\n\n\t\t// Work only with validated positive amounts from here on\n\t\tsplit = positive;\n\t\tvalue -= totalPositive;\n\t} else {\n\t\tsplit = [];\n\t}\n\n\t// Denomination fill for the remaining value\n\tconst sortedKeyAmounts = getKeysetAmounts(keyset, 'desc');\n\tif (!sortedKeyAmounts || sortedKeyAmounts.length === 0) {\n\t\tthrow new Error('Cannot split amount, keyset is inactive or contains no keys');\n\t}\n\tsortedKeyAmounts.forEach((amt: number) => {\n\t\tif (value <= 0 || amt <= 0) return;\n\t\tconst q = Math.floor(value / amt);\n\t\tfor (let i = 0; i < q; ++i) split.push(amt);\n\t\tvalue %= amt;\n\t});\n\tif (value !== 0) {\n\t\tthrow new Error(`Unable to split remaining amount: ${value}`);\n\t}\n\n\t// Only sort when we performed a fill; exact custom splits returned earlier\n\treturn split.sort((a, b) => (order === 'desc' ? b - a : a - b));\n}\n\n/**\n * Creates a list of amounts to keep based on the proofs we have and the proofs we want to reach.\n *\n * @param proofsWeHave Complete set of proofs stored (from current mint)\n * @param amountToKeep Amount to keep.\n * @param keys Keys of current keyset.\n * @param targetCount The target number of proofs to reach.\n * @returns An array of amounts to keep.\n */\nexport function getKeepAmounts(\n\tproofsWeHave: Proof[],\n\tamountToKeep: number,\n\tkeys: Keys,\n\ttargetCount: number,\n): number[] {\n\t// determines amounts we need to reach the targetCount for each amount based on the amounts of the proofs we have\n\t// it tries to select amounts so that the proofs we have and the proofs we want reach the targetCount\n\tconst amountsWeWant: number[] = [];\n\tconst amountsWeHave = proofsWeHave.map((p: Proof) => p.amount);\n\tconst sortedKeyAmounts = getKeysetAmounts(keys, 'asc');\n\tsortedKeyAmounts.forEach((amt) => {\n\t\tconst countWeHave = amountsWeHave.filter((a) => a === amt).length;\n\t\tconst countWeWant = Math.max(targetCount - countWeHave, 0);\n\t\tfor (let i = 0; i < countWeWant; ++i) {\n\t\t\tif (amountsWeWant.reduce((a, b) => a + b, 0) + amt > amountToKeep) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tamountsWeWant.push(amt);\n\t\t}\n\t});\n\t// use splitAmount to fill the rest between the sum of amountsWeHave and amountToKeep\n\tconst amountDiff = amountToKeep - amountsWeWant.reduce((a, b) => a + b, 0);\n\tif (amountDiff) {\n\t\tconst remainingAmounts = splitAmount(amountDiff, keys);\n\t\tremainingAmounts.forEach((amt: number) => {\n\t\t\tamountsWeWant.push(amt);\n\t\t});\n\t}\n\treturn amountsWeWant.sort((a, b) => a - b);\n}\n/**\n * Returns the amounts in the keyset sorted by the order specified.\n *\n * @param keyset To search in.\n * @param order Order to sort the amounts in.\n * @returns The amounts in the keyset sorted by the order specified.\n */\nexport function getKeysetAmounts(keyset: Keys, order: 'asc' | 'desc' = 'desc'): number[] {\n\tif (order == 'desc') {\n\t\treturn Object.keys(keyset)\n\t\t\t.map((k: string) => parseInt(k))\n\t\t\t.sort((a: number, b: number) => b - a);\n\t}\n\treturn Object.keys(keyset)\n\t\t.map((k: string) => parseInt(k))\n\t\t.sort((a: number, b: number) => a - b);\n}\n\n/**\n * Checks if the provided amount is in the keyset.\n *\n * @param amount Amount to check.\n * @param keyset To search in.\n * @returns True if the amount is in the keyset, false otherwise.\n */\nexport function hasCorrespondingKey(amount: number, keyset: Keys): boolean {\n\treturn amount in keyset;\n}\n\n/**\n * Converts a bytes array to a number.\n *\n * @param bytes To convert to number.\n * @returns Number.\n */\nexport function bytesToNumber(bytes: Uint8Array): bigint {\n\treturn hexToNumber(bytesToHex(bytes));\n}\n\n/**\n * Converts a hex string to a number.\n *\n * @param hex To convert to number.\n * @returns Number.\n */\nexport function hexToNumber(hex: string): bigint {\n\treturn BigInt(`0x${hex}`);\n}\n\n/**\n * Converts a number to a hex string of 64 characters.\n *\n * @param number (bigint) to conver to hex.\n * @returns Hex string start-padded to 64 characters.\n */\nexport function numberToHexPadded64(number: bigint): string {\n\treturn number.toString(16).padStart(64, '0');\n}\n\nexport function isValidHex(str: string) {\n\treturn /^[a-f0-9]*$/i.test(str);\n}\n\n/**\n * Checks wether a proof or a list of proofs contains a non-hex id.\n *\n * @param p Proof or list of proofs.\n * @returns Boolean.\n */\nexport function hasNonHexId(p: Proof | Proof[]) {\n\tif (Array.isArray(p)) {\n\t\treturn p.some((proof) => !isValidHex(proof.id));\n\t}\n\treturn !isValidHex(p.id);\n}\n\n//used for json serialization\nexport function bigIntStringify<T>(_key: unknown, value: T) {\n\treturn typeof value === 'bigint' ? value.toString() : value;\n}\n\n/**\n * Helper function to encode a v3 cashu token.\n *\n * @param token To encode.\n * @returns Encoded token.\n */\nexport function getEncodedTokenV3(token: Token, removeDleq?: boolean): string {\n\tif (!hasNonHexId(token.proofs)) {\n\t\ttoken.proofs = convertToShortKeysetId(token.proofs);\n\t}\n\tif (removeDleq) {\n\t\ttoken.proofs = stripDleq(token.proofs);\n\t}\n\tconst v3TokenObj: DeprecatedToken = { token: [{ mint: token.mint, proofs: token.proofs }] };\n\tif (token.unit) {\n\t\tv3TokenObj.unit = token.unit;\n\t}\n\tif (token.memo) {\n\t\tv3TokenObj.memo = token.memo;\n\t}\n\treturn TOKEN_PREFIX + TOKEN_VERSION + encodeJsonToBase64(v3TokenObj);\n}\n\n/*\n * Convert a keyset ID into short form\n */\nfunction convertToShortKeysetId(proofs: Proof[]) {\n\treturn proofs.map((p) => {\n\t\tconst newP = { ...p };\n\t\tnewP.id = newP.id.slice(0, 16);\n\t\treturn newP;\n\t});\n}\n\n/**\n * Helper function to encode a cashu token (defaults to v4 if keyset id allows it)\n *\n * @param token\n * @param [opts]\n */\nexport function getEncodedToken(\n\ttoken: Token,\n\topts?: { version?: 3 | 4; removeDleq?: boolean },\n): string {\n\t// Find out if it's a base64 keyset\n\tconst nonHex = hasNonHexId(token.proofs);\n\tif (nonHex || opts?.version === 3) {\n\t\tif (opts?.version === 4) {\n\t\t\tthrow new Error('can not encode to v4 token if proofs contain non-hex keyset id');\n\t\t}\n\t\treturn getEncodedTokenV3(token, opts?.removeDleq);\n\t}\n\treturn getEncodedTokenV4(token, opts?.removeDleq);\n}\n\nexport function getEncodedTokenV4(token: Token, removeDleq?: boolean): string {\n\tif (removeDleq) {\n\t\ttoken.proofs = stripDleq(token.proofs);\n\t}\n\t// Make sure each DLEQ has its blinding factor\n\ttoken.proofs.forEach((p) => {\n\t\tif (p.dleq && p.dleq.r == undefined) {\n\t\t\tthrow new Error('Missing blinding factor in included DLEQ proof');\n\t\t}\n\t});\n\tconst nonHex = hasNonHexId(token.proofs);\n\tif (nonHex) {\n\t\tthrow new Error('can not encode to v4 token if proofs contain non-hex keyset id');\n\t}\n\t// Map keyset IDs to short IDs\n\ttoken.proofs = convertToShortKeysetId(token.proofs);\n\n\tconst tokenTemplate = templateFromToken(token);\n\n\tconst encodedData = encodeCBOR(tokenTemplate);\n\tconst prefix = 'cashu';\n\tconst version = 'B';\n\tconst base64Data = encodeUint8toBase64Url(encodedData);\n\treturn prefix + version + base64Data;\n}\n\nfunction templateFromToken(token: Token): TokenV4Template {\n\tconst idMap: { [id: string]: Proof[] } = {};\n\tconst mint = token.mint;\n\tfor (let i = 0; i < token.proofs.length; i++) {\n\t\tconst proof = token.proofs[i];\n\t\tif (idMap[proof.id]) {\n\t\t\tidMap[proof.id].push(proof);\n\t\t} else {\n\t\t\tidMap[proof.id] = [proof];\n\t\t}\n\t}\n\tconst tokenTemplate: TokenV4Template = {\n\t\tm: mint,\n\t\tu: token.unit || 'sat',\n\t\tt: Object.keys(idMap).map(\n\t\t\t(id: string): V4InnerToken => ({\n\t\t\t\ti: hexToBytes(id),\n\t\t\t\tp: idMap[id].map(\n\t\t\t\t\t(p: Proof): V4ProofTemplate => ({\n\t\t\t\t\t\ta: p.amount,\n\t\t\t\t\t\ts: p.secret,\n\t\t\t\t\t\tc: hexToBytes(p.C),\n\t\t\t\t\t\t...(p.dleq && {\n\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\te: hexToBytes(p.dleq.e),\n\t\t\t\t\t\t\t\ts: hexToBytes(p.dleq.s),\n\t\t\t\t\t\t\t\tr: hexToBytes(p.dleq.r ?? '00'),\n\t\t\t\t\t\t\t} as V4DLEQTemplate,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t...(p.witness && {\n\t\t\t\t\t\t\tw: JSON.stringify(p.witness),\n\t\t\t\t\t\t}),\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t}),\n\t\t),\n\t} as TokenV4Template;\n\tif (token.memo) {\n\t\ttokenTemplate.d = token.memo;\n\t}\n\treturn tokenTemplate;\n}\n\nfunction tokenFromTemplate(template: TokenV4Template): Token {\n\tconst proofs: Proof[] = [];\n\ttemplate.t.forEach((t) =>\n\t\tt.p.forEach((p) => {\n\t\t\tproofs.push({\n\t\t\t\tsecret: p.s,\n\t\t\t\tC: bytesToHex(p.c),\n\t\t\t\tamount: p.a,\n\t\t\t\tid: bytesToHex(t.i),\n\t\t\t\t...(p.d && {\n\t\t\t\t\tdleq: {\n\t\t\t\t\t\tr: bytesToHex(p.d.r),\n\t\t\t\t\t\ts: bytesToHex(p.d.s),\n\t\t\t\t\t\te: bytesToHex(p.d.e),\n\t\t\t\t\t} as SerializedDLEQ,\n\t\t\t\t}),\n\t\t\t\t...(p.w && {\n\t\t\t\t\twitness: p.w,\n\t\t\t\t}),\n\t\t\t});\n\t\t}),\n\t);\n\tconst decodedToken: Token = { mint: template.m, proofs, unit: template.u || 'sat' };\n\tif (template.d) {\n\t\tdecodedToken.memo = template.d;\n\t}\n\treturn decodedToken;\n}\n\n/**\n * Helper function to decode cashu tokens into object.\n *\n * @param token An encoded cashu token (cashuAey...)\n * @returns Cashu token object.\n */\nexport function getDecodedToken(tokenString: string, keysets?: MintKeyset[]) {\n\ttokenString = removePrefix(tokenString);\n\n\tconst token = handleTokens(tokenString);\n\ttoken.proofs = mapShortKeysetIds(token.proofs, keysets);\n\treturn token;\n}\n\n/**\n * Returns the metadata of a cashu token.\n *\n * @param token An encoded cashu token (cashuAey...)\n * @returns Token metadata.\n */\nexport function getTokenMetadata(token: string): TokenMetadata {\n\ttoken = removePrefix(token);\n\tconst tokenObj = handleTokens(token);\n\treturn {\n\t\tunit: tokenObj.unit || 'sat',\n\t\tmint: tokenObj.mint,\n\t\tamount: sumProofs(tokenObj.proofs),\n\t\tincompleteProofs: tokenObj.proofs.map((p) => ({\n\t\t\tsecret: p.secret,\n\t\t\tC: p.C,\n\t\t\tamount: p.amount,\n\t\t\t...(p.dleq && {\n\t\t\t\tdleq: p.dleq,\n\t\t\t}),\n\t\t})),\n\t\t...(tokenObj.memo && { memo: tokenObj.memo }),\n\t};\n}\n\n/**\n * Helper function to decode different versions of cashu tokens into an object.\n *\n * @param token An encoded cashu token (cashuAey...)\n * @returns Cashu Token object.\n */\nexport function handleTokens(token: string): Token {\n\tconst version = token.slice(0, 1);\n\tconst encodedToken = token.slice(1);\n\tif (version === 'A') {\n\t\tconst parsedV3Token = encodeBase64ToJson<DeprecatedToken>(encodedToken);\n\t\tif (parsedV3Token.token.length > 1) {\n\t\t\tthrow new Error('Multi entry token are not supported');\n\t\t}\n\t\tconst entry = parsedV3Token.token[0];\n\t\tconst tokenObj: Token = {\n\t\t\tmint: entry.mint,\n\t\t\tproofs: entry.proofs,\n\t\t\tunit: parsedV3Token.unit || 'sat',\n\t\t};\n\t\tif (parsedV3Token.memo) {\n\t\t\ttokenObj.memo = parsedV3Token.memo;\n\t\t}\n\t\treturn tokenObj;\n\t} else if (version === 'B') {\n\t\tconst uInt8Token = encodeBase64toUint8(encodedToken);\n\t\tconst tokenData = decodeCBOR(uInt8Token) as TokenV4Template;\n\t\treturn tokenFromTemplate(tokenData);\n\t}\n\tthrow new Error('Token version is not supported');\n}\n\n/**\n * Returns the keyset id of a set of keys.\n *\n * @param keys Keys object to derive keyset id from.\n * @param unit (optional) the unit of the keyset.\n * @param expiry (optional) expiry of the keyset.\n * @param versionByte (optional) version of the keyset ID. Default is 0.\n * @param isDeprecatedBase64 (optional) true if the keyset ID should be derived as a deprecated v0\n *   base64 keyset ID.\n * @returns Keyset id of the keys.\n * @throws If keyset versionByte is not valid.\n */\nexport function deriveKeysetId(\n\tkeys: Keys,\n\tunit?: string,\n\texpiry?: number,\n\tversionByte: number = 0,\n\tisDeprecatedBase64: boolean = false,\n) {\n\tif (isDeprecatedBase64) {\n\t\tconst pubkeysConcat = Object.entries(keys)\n\t\t\t.sort((a: [string, string], b: [string, string]) => +a[0] - +b[0])\n\t\t\t.map(([, pubKey]: [unknown, string]) => pubKey)\n\t\t\t.reduce((prev: string, curr: string) => prev + curr, '');\n\t\tconst hash = sha256(pubkeysConcat);\n\t\tconst b64 = Bytes.toBase64(hash);\n\t\treturn b64.slice(0, 12);\n\t}\n\n\tlet pubkeysConcat = Object.entries(keys)\n\t\t.sort((a: [string, string], b: [string, string]) => +a[0] - +b[0])\n\t\t.map(([, pubKey]: [unknown, string]) => hexToBytes(pubKey))\n\t\t.reduce((prev: Uint8Array, curr: Uint8Array) => mergeUInt8Arrays(prev, curr), new Uint8Array());\n\n\tlet hash;\n\tlet hashHex;\n\tswitch (versionByte) {\n\t\tcase 0:\n\t\t\thash = sha256(pubkeysConcat);\n\t\t\thashHex = Bytes.toHex(hash).slice(0, 14);\n\t\t\treturn '00' + hashHex;\n\t\tcase 1:\n\t\t\tif (!unit) {\n\t\t\t\tthrow new Error('Cannot compute keyset ID version 01: unit is required.');\n\t\t\t}\n\t\t\tpubkeysConcat = mergeUInt8Arrays(pubkeysConcat, Bytes.fromString('unit:' + unit));\n\t\t\tif (expiry) {\n\t\t\t\tpubkeysConcat = mergeUInt8Arrays(\n\t\t\t\t\tpubkeysConcat,\n\t\t\t\t\tBytes.fromString('final_expiry:' + expiry.toString()),\n\t\t\t\t);\n\t\t\t}\n\t\t\thash = sha256(pubkeysConcat);\n\t\t\thashHex = Bytes.toHex(hash);\n\t\t\treturn '01' + hashHex;\n\t\tdefault:\n\t\t\tthrow new Error(`Unrecognized keyset ID version: ${versionByte}`);\n\t}\n}\n\nexport function mergeUInt8Arrays(a1: Uint8Array, a2: Uint8Array): Uint8Array {\n\t// sum of individual array lengths\n\tconst mergedArray = new Uint8Array(a1.length + a2.length);\n\tmergedArray.set(a1);\n\tmergedArray.set(a2, a1.length);\n\treturn mergedArray;\n}\n\nexport function sortProofsById(proofs: Proof[]) {\n\treturn proofs.sort((a: Proof, b: Proof) => a.id.localeCompare(b.id));\n}\n\nexport function isObj(v: unknown): v is object {\n\treturn typeof v === 'object';\n}\n\nexport function checkResponse(data: { error?: string; detail?: string }) {\n\tif (!isObj(data)) return;\n\tif ('error' in data && data.error) {\n\t\tthrow new Error(data.error);\n\t}\n\tif ('detail' in data && data.detail) {\n\t\tthrow new Error(data.detail);\n\t}\n}\n\nexport function joinUrls(...parts: string[]): string {\n\treturn parts.map((part: string) => part.replace(/(^\\/+|\\/+$)/g, '')).join('/');\n}\n\nexport function sanitizeUrl(url: string): string {\n\treturn url.replace(/\\/$/, '');\n}\n\nexport function sumProofs(proofs: Proof[]) {\n\treturn proofs.reduce((acc: number, proof: Proof) => acc + proof.amount, 0);\n}\n\nexport function decodePaymentRequest(paymentRequest: string) {\n\treturn PaymentRequest.fromEncodedRequest(paymentRequest);\n}\n\nexport class MessageNode {\n\tprivate _value: string;\n\tprivate _next: MessageNode | null;\n\n\tpublic get value(): string {\n\t\treturn this._value;\n\t}\n\tpublic set value(message: string) {\n\t\tthis._value = message;\n\t}\n\tpublic get next(): MessageNode | null {\n\t\treturn this._next;\n\t}\n\tpublic set next(node: MessageNode | null) {\n\t\tthis._next = node;\n\t}\n\n\tconstructor(message: string) {\n\t\tthis._value = message;\n\t\tthis._next = null;\n\t}\n}\n\nexport class MessageQueue {\n\tprivate _first: MessageNode | null;\n\tprivate _last: MessageNode | null;\n\n\tpublic get first(): MessageNode | null {\n\t\treturn this._first;\n\t}\n\tpublic set first(messageNode: MessageNode | null) {\n\t\tthis._first = messageNode;\n\t}\n\tpublic get last(): MessageNode | null {\n\t\treturn this._last;\n\t}\n\tpublic set last(messageNode: MessageNode | null) {\n\t\tthis._last = messageNode;\n\t}\n\tprivate _size: number;\n\tpublic get size(): number {\n\t\treturn this._size;\n\t}\n\tpublic set size(v: number) {\n\t\tthis._size = v;\n\t}\n\n\tconstructor() {\n\t\tthis._first = null;\n\t\tthis._last = null;\n\t\tthis._size = 0;\n\t}\n\tenqueue(message: string): boolean {\n\t\tconst newNode = new MessageNode(message);\n\t\tif (this._size === 0 || !this._last) {\n\t\t\tthis._first = newNode;\n\t\t\tthis._last = newNode;\n\t\t} else {\n\t\t\tthis._last.next = newNode;\n\t\t\tthis._last = newNode;\n\t\t}\n\t\tthis._size++;\n\t\treturn true;\n\t}\n\tdequeue(): string | null {\n\t\tif (this._size === 0 || !this._first) return null;\n\n\t\tconst prev = this._first;\n\t\tthis._first = prev.next;\n\t\tprev.next = null;\n\n\t\tthis._size--;\n\t\treturn prev.value;\n\t}\n}\n/**\n * Removes all traces of DLEQs from a list of proofs.\n *\n * @param proofs The list of proofs that dleq should be stripped from.\n */\nexport function stripDleq(proofs: Proof[]): Array<Omit<Proof, 'dleq'>> {\n\treturn proofs.map((p) => {\n\t\tconst newP = { ...p };\n\t\tdelete newP['dleq'];\n\t\treturn newP;\n\t});\n}\n\n/**\n * Check that the keyset hashes to the specified ID.\n *\n * @param keys The keyset to be verified.\n * @returns True if the verification was successful, false otherwise.\n * @throws Error if the keyset ID version is unrecognized.\n */\nexport function verifyKeysetId(keys: MintKeys): boolean {\n\tconst isBase64 = isBase64String(keys.id);\n\tconst isValidHex = /^[a-fA-F0-9]+$/.test(keys.id);\n\tconst versionByte = isValidHex ? hexToBytes(keys.id)[0] : 0;\n\treturn (\n\t\tderiveKeysetId(\n\t\t\tkeys.keys,\n\t\t\tkeys.unit,\n\t\t\tkeys.final_expiry,\n\t\t\tversionByte,\n\t\t\tisBase64 && !isValidHex,\n\t\t) === keys.id\n\t);\n}\n\n/**\n * Maps the short keyset IDs stored in the token to actual keyset IDs that were fetched from the\n * Mint.\n */\nfunction mapShortKeysetIds(proofs: Proof[], keysets?: MintKeyset[]): Proof[] {\n\tconst newProofs = [];\n\tfor (const proof of proofs) {\n\t\tlet idBytes;\n\t\ttry {\n\t\t\tidBytes = hexToBytes(proof.id);\n\t\t} catch {\n\t\t\t// Base64 keysets don't need conversion\n\t\t\tnewProofs.push(proof);\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (idBytes[0] === 0x00) {\n\t\t\tnewProofs.push(proof);\n\t\t} else if (idBytes[0] === 0x01) {\n\t\t\tif (!keysets) {\n\t\t\t\tthrow new Error('A short keyset ID v2 was encountered, but got no keysets to map it to.');\n\t\t\t}\n\t\t\t// Look for a match: prefix(keyset ID) == short ID\n\t\t\tlet found = false;\n\t\t\tfor (const keyset of keysets) {\n\t\t\t\tif (proof.id === keyset.id.slice(0, proof.id.length)) {\n\t\t\t\t\tproof.id = keyset.id;\n\t\t\t\t\tnewProofs.push(proof);\n\t\t\t\t\tfound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!found) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Couldn't map short keyset ID ${proof.id} to any known keysets of the current Mint`,\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error(`Unknown keyset ID version: ${idBytes[0]}`);\n\t\t}\n\t}\n\n\treturn newProofs;\n}\n\n/**\n * Checks that the proof has a valid DLEQ proof according to keyset `keys`\n *\n * @param proof The proof subject to verification.\n * @param keyset The Mint's keyset to be used for verification.\n * @returns True if verification succeeded, false otherwise.\n * @throws Error if @param proof does not match any key in @param keyset.\n */\nexport function hasValidDleq(proof: Proof, keyset: MintKeys): boolean {\n\tif (proof.dleq == undefined) {\n\t\treturn false;\n\t}\n\tconst dleq = {\n\t\te: hexToBytes(proof.dleq.e),\n\t\ts: hexToBytes(proof.dleq.s),\n\t\tr: hexToNumber(proof.dleq.r ?? '00'),\n\t} as DLEQ;\n\tif (!hasCorrespondingKey(proof.amount, keyset.keys)) {\n\t\tthrow new Error(`undefined key for amount ${proof.amount}`);\n\t}\n\tconst key = keyset.keys[proof.amount];\n\treturn verifyDLEQProof_reblind(\n\t\tnew TextEncoder().encode(proof.secret),\n\t\tdleq,\n\t\tpointFromHex(proof.C),\n\t\tpointFromHex(key),\n\t);\n}\n\n/**\n * Helper function to encode a cashu auth token authA.\n *\n * @param proof\n */\nexport function getEncodedAuthToken(proof: Proof): string {\n\tconst token = {\n\t\tid: proof.id,\n\t\tsecret: proof.secret,\n\t\tC: proof.C,\n\t};\n\tconst base64Data = encodeJsonToBase64(token);\n\tconst prefix = 'auth';\n\tconst version = 'A';\n\treturn prefix + version + base64Data;\n}\n\nfunction concatByteArrays(...arrays: Uint8Array[]): Uint8Array {\n\tconst totalLength = arrays.reduce((a, c) => a + c.length, 0);\n\tconst byteArray = new Uint8Array(totalLength);\n\tlet pointer = 0;\n\tfor (let i = 0; i < arrays.length; i++) {\n\t\tbyteArray.set(arrays[i], pointer);\n\t\tpointer = pointer + arrays[i].length;\n\t}\n\treturn byteArray;\n}\n\nexport function getEncodedTokenBinary(token: Token): Uint8Array {\n\tconst utf8Encoder = new TextEncoder();\n\tconst template = templateFromToken(token);\n\tconst binaryTemplate = encodeCBOR(template);\n\tconst prefix = utf8Encoder.encode('craw');\n\tconst version = utf8Encoder.encode('B');\n\treturn concatByteArrays(prefix, version, binaryTemplate);\n}\n\nexport function getDecodedTokenBinary(bytes: Uint8Array): Token {\n\tconst utfDecoder = new TextDecoder();\n\tconst prefix = utfDecoder.decode(bytes.slice(0, 4));\n\tconst version = utfDecoder.decode(new Uint8Array([bytes[4]]));\n\tif (prefix !== 'craw' || version !== 'B') {\n\t\tthrow new Error('not a valid binary token');\n\t}\n\tconst binaryToken = bytes.slice(5);\n\tconst decoded = decodeCBOR(binaryToken) as TokenV4Template;\n\treturn tokenFromTemplate(decoded);\n}\n\nfunction sumArray(arr: number[]) {\n\treturn arr.reduce((a, c) => a + c, 0);\n}\n\nfunction removePrefix(token: string): string {\n\tconst uriPrefixes = ['web+cashu://', 'cashu://', 'cashu:', 'cashu'];\n\turiPrefixes.forEach((prefix: string) => {\n\t\tif (!token.startsWith(prefix)) {\n\t\t\treturn;\n\t\t}\n\t\ttoken = token.slice(prefix.length);\n\t});\n\treturn token;\n}\n","let _WS: typeof WebSocket | undefined;\n\nif (typeof WebSocket !== 'undefined') {\n\t_WS = WebSocket;\n}\n\nexport function injectWebSocketImpl(ws: typeof WebSocket) {\n\t_WS = ws;\n}\n\nexport function getWebSocketImpl() {\n\tif (_WS === undefined) {\n\t\tthrow new Error('WebSocket implementation not initialized');\n\t}\n\treturn _WS;\n}\n","/**\n * Defines the available log levels for the logger. Log levels are ordered from most severe (FATAL)\n * to least severe (TRACE).\n */\nexport const LogLevel = {\n\tFATAL: 'FATAL',\n\tERROR: 'ERROR',\n\tWARN: 'WARN',\n\tINFO: 'INFO',\n\tDEBUG: 'DEBUG',\n\tTRACE: 'TRACE',\n} as const;\n\n/**\n * Defines the available log levels for the logger. Log levels are ordered from most severe (FATAL)\n * to least severe (TRACE).\n */\nexport type LogLevel = (typeof LogLevel)[keyof typeof LogLevel];\n\nexport interface Logger {\n\tfatal(message: string, context?: Record<string, unknown>): void;\n\terror(message: string, context?: Record<string, unknown>): void;\n\twarn(message: string, context?: Record<string, unknown>): void;\n\tinfo(message: string, context?: Record<string, unknown>): void;\n\tdebug(message: string, context?: Record<string, unknown>): void;\n\ttrace(message: string, context?: Record<string, unknown>): void;\n\tlog(level: LogLevel, message: string, context?: Record<string, unknown>): void;\n}\n\n// The default logger implementation - does nothing\n/* eslint-disable @typescript-eslint/no-empty-function */\nexport const NULL_LOGGER: Logger = {\n\tfatal() {},\n\terror() {},\n\twarn() {},\n\tinfo() {},\n\tdebug() {},\n\ttrace() {},\n\tlog() {},\n};\n/* eslint-enable @typescript-eslint/no-empty-function */\n\n/**\n * Outputs messages to the console based on the specified log level.\n *\n * Supports placeholder substitution in messages (e.g., `{key}`) using values from the optional\n * `context` object. Context keys not used in substitution are appended to the output as additional\n * data. Each log message is prefixed with the log level in square brackets (e.g., `[INFO]`).\n *\n * @example Const logger = new ConsoleLogger(LogLevel.DEBUG); logger.info('User {username} logged\n * in', { username: 'alice', ip: '127.0.0.1' }); // Output: [INFO] User alice logged in { ip:\n * \"127.0.0.1\" }\n */\nexport class ConsoleLogger implements Logger {\n\tprivate minLevel: LogLevel;\n\tpublic static readonly SEVERITY: Record<LogLevel, number> = {\n\t\t[LogLevel.FATAL]: 0,\n\t\t[LogLevel.ERROR]: 1,\n\t\t[LogLevel.WARN]: 2,\n\t\t[LogLevel.INFO]: 3,\n\t\t[LogLevel.DEBUG]: 4,\n\t\t[LogLevel.TRACE]: 5,\n\t};\n\tconstructor(minLevel: LogLevel = LogLevel.INFO) {\n\t\tthis.minLevel = minLevel;\n\t}\n\n\tprivate logToConsole(level: LogLevel, message: string, context?: Record<string, unknown>): void {\n\t\tif (ConsoleLogger.SEVERITY[level] > ConsoleLogger.SEVERITY[this.minLevel]) return;\n\t\tconst levelPrefix = `[${level}] `;\n\t\tlet interpolatedMessage = message;\n\t\tconst usedKeys = new Set<string>();\n\t\tif (context) {\n\t\t\tconst processedContext = Object.fromEntries(\n\t\t\t\tObject.entries(context).map(([key, value]) => [\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue instanceof Error ? { message: value.message, stack: value.stack } : value,\n\t\t\t\t]),\n\t\t\t);\n\t\t\tinterpolatedMessage = message.replace(/\\{(\\w+)\\}/g, (match: string, key: string) => {\n\t\t\t\tif (key in processedContext && processedContext[key] !== undefined) {\n\t\t\t\t\tusedKeys.add(key);\n\t\t\t\t\tconst value: unknown = processedContext[key];\n\t\t\t\t\tif (typeof value === 'string') return value;\n\t\t\t\t\tif (typeof value === 'number' || typeof value === 'boolean') return value.toString();\n\t\t\t\t\tif (value == null) return '';\n\t\t\t\t\treturn JSON.stringify(value);\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\t\t\tconst filteredContext = Object.fromEntries(\n\t\t\t\tObject.entries(processedContext).filter(([key]) => !usedKeys.has(key)),\n\t\t\t);\n\t\t\tconst consoleMethod = this.getConsoleMethod(level);\n\t\t\tif (Object.keys(filteredContext).length > 0) {\n\t\t\t\tconsoleMethod(levelPrefix + interpolatedMessage, filteredContext);\n\t\t\t} else {\n\t\t\t\tconsoleMethod(levelPrefix + interpolatedMessage);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.getConsoleMethod(level)(levelPrefix + interpolatedMessage);\n\t\t}\n\t}\n\t// Note: NOT static as test suite needs to spy on the output\n\tprivate getConsoleMethod(level: LogLevel): (message: string, ...args: unknown[]) => void {\n\t\tswitch (level) {\n\t\t\tcase LogLevel.FATAL:\n\t\t\tcase LogLevel.ERROR:\n\t\t\t\treturn console.error;\n\t\t\tcase LogLevel.WARN:\n\t\t\t\treturn console.warn;\n\t\t\tcase LogLevel.INFO:\n\t\t\t\treturn console.info;\n\t\t\tcase LogLevel.DEBUG:\n\t\t\t\treturn console.debug;\n\t\t\tcase LogLevel.TRACE:\n\t\t\t\treturn console.trace;\n\t\t\tdefault:\n\t\t\t\t// We could throw, but that's a bit aggressive for a logging class\n\t\t\t\t// so just use a regular console.log()\n\t\t\t\treturn console.log;\n\t\t}\n\t}\n\t// Interface methods\n\tfatal(message: string, context?: Record<string, unknown>): void {\n\t\tthis.logToConsole(LogLevel.FATAL, message, context);\n\t}\n\terror(message: string, context?: Record<string, unknown>): void {\n\t\tthis.logToConsole(LogLevel.ERROR, message, context);\n\t}\n\twarn(message: string, context?: Record<string, unknown>): void {\n\t\tthis.logToConsole(LogLevel.WARN, message, context);\n\t}\n\tinfo(message: string, context?: Record<string, unknown>): void {\n\t\tthis.logToConsole(LogLevel.INFO, message, context);\n\t}\n\tdebug(message: string, context?: Record<string, unknown>): void {\n\t\tthis.logToConsole(LogLevel.DEBUG, message, context);\n\t}\n\ttrace(message: string, context?: Record<string, unknown>): void {\n\t\tthis.logToConsole(LogLevel.TRACE, message, context);\n\t}\n\tlog(level: LogLevel, message: string, context?: Record<string, unknown>): void {\n\t\tthis.logToConsole(level, message, context);\n\t}\n}\n\n/**\n * Creates a timer to measure elapsed time in milliseconds.\n *\n * @example Const timer = measureTime(); // ... some code ... const duration = timer.elapsed();\n *\n * @returns An object with an `elapsed` method to retrieve the duration since the timer started.\n */\nexport function measureTime() {\n\tconst start = Date.now();\n\treturn {\n\t\telapsed: () => {\n\t\t\treturn Date.now() - start;\n\t\t},\n\t};\n}\n","import { MessageQueue } from './utils';\nimport { type JsonRpcMessage, type JsonRpcReqParams, type RpcSubId } from './model/types';\nimport { type OnOpenError, type OnOpenSuccess } from './model/types/wallet/websocket';\nimport { getWebSocketImpl } from './ws';\nimport { type Logger, NULL_LOGGER } from './logger';\n\n// Internal interface for RPC listeners\ninterface RpcListener {\n\tcallback: () => void;\n\terrorCallback: (e: Error) => void;\n}\n\nexport class ConnectionManager {\n\tprivate static instance: ConnectionManager;\n\tprivate connectionMap: Map<string, WSConnection> = new Map();\n\n\tstatic getInstance() {\n\t\tif (!ConnectionManager.instance) {\n\t\t\tConnectionManager.instance = new ConnectionManager();\n\t\t}\n\t\treturn ConnectionManager.instance;\n\t}\n\n\tgetConnection(url: string, logger?: Logger): WSConnection {\n\t\tif (this.connectionMap.has(url)) {\n\t\t\treturn this.connectionMap.get(url) as WSConnection;\n\t\t}\n\t\tconst newConn = new WSConnection(url, logger);\n\t\tthis.connectionMap.set(url, newConn);\n\t\treturn newConn;\n\t}\n}\n\nexport class WSConnection {\n\tpublic readonly url: URL;\n\tprivate readonly _WS: typeof WebSocket;\n\tprivate ws: WebSocket | undefined;\n\tprivate connectionPromise: Promise<void> | undefined;\n\tprivate subListeners: { [subId: string]: Array<(payload: unknown) => void> } = {};\n\tprivate rpcListeners: { [rpcSubId: string]: RpcListener } = {};\n\tprivate messageQueue: MessageQueue;\n\tprivate handlingInterval?: number;\n\tprivate rpcId = 0;\n\tprivate _logger: Logger;\n\tprivate onCloseCallbacks: Array<(e: CloseEvent) => void> = [];\n\n\tconstructor(url: string, logger?: Logger) {\n\t\tthis._WS = getWebSocketImpl();\n\t\tthis.url = new URL(url);\n\t\tthis.messageQueue = new MessageQueue();\n\t\tthis._logger = logger ?? NULL_LOGGER;\n\t}\n\n\tconnect() {\n\t\tif (!this.connectionPromise) {\n\t\t\tthis.connectionPromise = new Promise((resolve: OnOpenSuccess, reject: OnOpenError) => {\n\t\t\t\ttry {\n\t\t\t\t\tthis.ws = new this._WS(this.url.toString());\n\t\t\t\t\tthis.onCloseCallbacks = [];\n\t\t\t\t} catch (err: unknown) {\n\t\t\t\t\treject(err instanceof Error ? err : new Error(String(err)));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.ws.onopen = () => {\n\t\t\t\t\tresolve();\n\t\t\t\t};\n\t\t\t\tthis.ws.onerror = () => {\n\t\t\t\t\treject(new Error('Failed to open WebSocket'));\n\t\t\t\t};\n\t\t\t\tthis.ws.onmessage = (e: MessageEvent) => {\n\t\t\t\t\tthis.messageQueue.enqueue(e.data as string);\n\t\t\t\t\tif (!this.handlingInterval) {\n\t\t\t\t\t\tthis.handlingInterval = setInterval(\n\t\t\t\t\t\t\tthis.handleNextMessage.bind(this),\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t) as unknown as number;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.ws.onclose = (e: CloseEvent) => {\n\t\t\t\t\tthis.connectionPromise = undefined;\n\t\t\t\t\tthis.onCloseCallbacks.forEach((cb) => cb(e));\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\treturn this.connectionPromise;\n\t}\n\n\tsendRequest(method: 'subscribe', params: JsonRpcReqParams): void;\n\tsendRequest(method: 'unsubscribe', params: { subId: string }): void;\n\tsendRequest(method: 'subscribe' | 'unsubscribe', params: Partial<JsonRpcReqParams>) {\n\t\tif (this.ws?.readyState !== 1) {\n\t\t\tif (method === 'unsubscribe') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._logger.error('Attempted sendRequest, but socket was not open');\n\t\t\tthrow new Error('Socket not open');\n\t\t}\n\t\tconst id = this.rpcId;\n\t\tthis.rpcId++;\n\t\tconst message = JSON.stringify({ jsonrpc: '2.0', method, params, id });\n\t\tthis.ws?.send(message);\n\t}\n\n\t/**\n\t * @deprecated Use cancelSubscription for JSONRPC compliance.\n\t */\n\tcloseSubscription(subId: string) {\n\t\tthis.ws?.send(JSON.stringify(['CLOSE', subId]));\n\t}\n\n\taddSubListener<TPayload = unknown>(subId: string, callback: (payload: TPayload) => void) {\n\t\t(this.subListeners[subId] = this.subListeners[subId] || []).push(\n\t\t\tcallback as (payload: unknown) => void,\n\t\t);\n\t}\n\n\tprivate addRpcListener(\n\t\tcallback: () => void,\n\t\terrorCallback: (e: Error) => void,\n\t\tid: Exclude<RpcSubId, null>,\n\t) {\n\t\tthis.rpcListeners[id] = { callback, errorCallback };\n\t}\n\n\tprivate removeRpcListener(id: Exclude<RpcSubId, null>) {\n\t\tdelete this.rpcListeners[id];\n\t}\n\n\tprivate removeListener<TPayload = unknown>(subId: string, callback: (payload: TPayload) => void) {\n\t\tif (!this.subListeners[subId]) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.subListeners[subId].length === 1) {\n\t\t\tdelete this.subListeners[subId];\n\t\t\treturn;\n\t\t}\n\t\tthis.subListeners[subId] = this.subListeners[subId].filter(\n\t\t\t(fn) => fn !== (callback as (payload: unknown) => void),\n\t\t);\n\t}\n\n\tasync ensureConnection() {\n\t\tif (this.ws?.readyState !== 1) {\n\t\t\tawait this.connect();\n\t\t}\n\t}\n\n\tprivate handleNextMessage() {\n\t\tif (this.messageQueue.size === 0) {\n\t\t\tclearInterval(this.handlingInterval);\n\t\t\tthis.handlingInterval = undefined;\n\t\t\treturn;\n\t\t}\n\t\tconst message = this.messageQueue.dequeue() as string;\n\t\tlet parsed;\n\t\ttry {\n\t\t\tparsed = JSON.parse(message) as JsonRpcMessage;\n\t\t\tif ('result' in parsed && parsed.id != undefined) {\n\t\t\t\tif (this.rpcListeners[parsed.id]) {\n\t\t\t\t\tthis.rpcListeners[parsed.id].callback();\n\t\t\t\t\tthis.removeRpcListener(parsed.id);\n\t\t\t\t}\n\t\t\t} else if ('error' in parsed && parsed.id != undefined) {\n\t\t\t\tif (this.rpcListeners[parsed.id]) {\n\t\t\t\t\tthis.rpcListeners[parsed.id].errorCallback(new Error(parsed.error.message));\n\t\t\t\t\tthis.removeRpcListener(parsed.id);\n\t\t\t\t}\n\t\t\t} else if ('method' in parsed) {\n\t\t\t\tif ('id' in parsed) {\n\t\t\t\t\t// Do nothing as mints should not send requests\n\t\t\t\t} else {\n\t\t\t\t\tconst subId = parsed.params?.subId;\n\t\t\t\t\tif (!subId) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.subListeners[subId]?.length > 0) {\n\t\t\t\t\t\tconst notification = parsed;\n\t\t\t\t\t\tthis.subListeners[subId].forEach((cb) => cb(notification.params?.payload));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthis._logger.error('Error doing handleNextMessage', { e });\n\t\t\treturn;\n\t\t}\n\t}\n\n\tcreateSubscription<TPayload = unknown>(\n\t\tparams: Omit<JsonRpcReqParams, 'subId'>,\n\t\tcallback: (payload: TPayload) => void,\n\t\terrorCallback: (e: Error) => void,\n\t): string {\n\t\tif (this.ws?.readyState !== 1) {\n\t\t\tthis._logger.error('Attempted createSubscription, but socket was not open');\n\t\t\tthrow new Error('Socket is not open');\n\t\t}\n\t\tconst subId = (Math.random() + 1).toString(36).substring(7);\n\t\tthis.addRpcListener(\n\t\t\t() => {\n\t\t\t\tthis.addSubListener(subId, callback);\n\t\t\t},\n\t\t\terrorCallback,\n\t\t\tthis.rpcId,\n\t\t);\n\t\tthis.sendRequest('subscribe', { ...params, subId });\n\t\tthis.rpcId++;\n\t\treturn subId;\n\t}\n\n\t/**\n\t * Cancels a subscription, sending an unsubscribe request and handling responses.\n\t *\n\t * @param subId The subscription ID to cancel.\n\t * @param callback The original payload callback to remove.\n\t * @param errorCallback Optional callback for unsubscribe errors (defaults to logging).\n\t */\n\tcancelSubscription<TPayload = unknown>(\n\t\tsubId: string,\n\t\tcallback: (payload: TPayload) => void,\n\t\terrorCallback?: (e: Error) => void,\n\t) {\n\t\tthis.removeListener(subId, callback);\n\t\tthis.addRpcListener(\n\t\t\t() => {\n\t\t\t\tthis._logger.info('Unsubscribed {subId}', { subId });\n\t\t\t},\n\t\t\terrorCallback || ((e: Error) => this._logger.error('Unsubscribe failed', { e })),\n\t\t\tthis.rpcId,\n\t\t);\n\t\tthis.sendRequest('unsubscribe', { subId });\n\t}\n\n\tget activeSubscriptions() {\n\t\treturn Object.keys(this.subListeners);\n\t}\n\n\tclose() {\n\t\tif (this.ws) {\n\t\t\tthis.ws?.close();\n\t\t}\n\t}\n\n\tonClose(callback: (e: CloseEvent) => void) {\n\t\tthis.onCloseCallbacks.push(callback);\n\t}\n}\n","import { type SerializedBlindedMessage } from '../wallet';\n\n/**\n * Cashu api error.\n */\nexport type ApiError = {\n\t/**\n\t * Error message.\n\t */\n\terror?: string;\n\t/**\n\t * HTTP error code.\n\t */\n\tcode?: number;\n\t/**\n\t * Detailed error message.\n\t */\n\tdetail?: string;\n};\n\n/**\n * Entries of CheckStateResponse with state of the proof.\n */\nexport type ProofState = {\n\tY: string;\n\tstate: CheckStateEnum;\n\twitness: string | null;\n};\n\n/**\n * Enum for the state of a proof.\n */\nexport const CheckStateEnum = {\n\tUNSPENT: 'UNSPENT',\n\tPENDING: 'PENDING',\n\tSPENT: 'SPENT',\n} as const;\nexport type CheckStateEnum = (typeof CheckStateEnum)[keyof typeof CheckStateEnum];\n\n/**\n * Response when checking proofs if they are spendable. Should not rely on this for receiving, since\n * it can be easily cheated.\n */\nexport type CheckStateResponse = {\n\tstates: ProofState[];\n} & ApiError;\n\n/**\n * Response from mint at /info endpoint.\n */\nexport type GetInfoResponse = {\n\tname: string;\n\tpubkey: string;\n\tversion: string;\n\tdescription?: string;\n\tdescription_long?: string;\n\ticon_url?: string;\n\tcontact: MintContactInfo[];\n\tnuts: {\n\t\t'4': {\n\t\t\t// Minting\n\t\t\tmethods: SwapMethod[];\n\t\t\tdisabled: boolean;\n\t\t};\n\t\t'5': {\n\t\t\t// Melting\n\t\t\tmethods: SwapMethod[];\n\t\t\tdisabled: boolean;\n\t\t};\n\t\t'7'?: {\n\t\t\t// Token state check\n\t\t\tsupported: boolean;\n\t\t};\n\t\t'8'?: {\n\t\t\t// Overpaid melt fees\n\t\t\tsupported: boolean;\n\t\t};\n\t\t'9'?: {\n\t\t\t// Restore\n\t\t\tsupported: boolean;\n\t\t};\n\t\t'10'?: {\n\t\t\t// Spending conditions\n\t\t\tsupported: boolean;\n\t\t};\n\t\t'11'?: {\n\t\t\t// P2PK\n\t\t\tsupported: boolean;\n\t\t};\n\t\t'12'?: {\n\t\t\t// DLEQ\n\t\t\tsupported: boolean;\n\t\t};\n\t\t'14'?: {\n\t\t\t// HTLCs\n\t\t\tsupported: boolean;\n\t\t};\n\t\t'15'?: {\n\t\t\t// MPP\n\t\t\tmethods: MPPMethod[];\n\t\t};\n\t\t'17'?: {\n\t\t\t// WebSockets\n\t\t\tsupported: WebSocketSupport[];\n\t\t};\n\t\t'20'?: {\n\t\t\t// Locked Mint Quote\n\t\t\tsupported: boolean;\n\t\t};\n\t\t'22'?: {\n\t\t\t// Blind Authentication\n\t\t\tbat_max_mint: number;\n\t\t\tprotected_endpoints: Array<{ method: 'GET' | 'POST'; path: string }>;\n\t\t};\n\t};\n\tmotd?: string;\n};\n\n/**\n * Response from the mint after requesting a melt quote.\n */\nexport type PartialMeltQuoteResponse = {\n\t/**\n\t * Quote ID.\n\t */\n\tquote: string;\n\t/**\n\t * Amount to be melted.\n\t */\n\tamount: number;\n\t/**\n\t * Fee reserve to be added to the amount.\n\t */\n\tfee_reserve: number;\n\t/**\n\t * State of the melt quote.\n\t */\n\tstate: MeltQuoteState;\n\t/**\n\t * Timestamp of when the quote expires.\n\t */\n\texpiry: number;\n\t/**\n\t * Preimage of the paid invoice. is null if it the invoice has not been paid yet. can be null,\n\t * depending on which LN-backend the mint uses.\n\t */\n\tpayment_preimage: string | null;\n\t/**\n\t * Return/Change from overpaid fees. This happens due to Lighting fee estimation being inaccurate.\n\t */\n\tchange?: SerializedBlindedSignature[];\n\t/**\n\t * Payment request for the melt quote.\n\t */\n\trequest?: string;\n\t/**\n\t * Unit of the melt quote.\n\t */\n\tunit?: string;\n} & ApiError;\n\nexport type MeltQuoteResponse = PartialMeltQuoteResponse & { request: string; unit: string };\n\n/**\n * Response from the mint after requesting a BOLT12 melt quote. Contains payment details and state\n * for paying Lightning Network offers.\n */\nexport type Bolt12MeltQuoteResponse = MeltQuoteResponse;\n\nexport const MeltQuoteState = {\n\tUNPAID: 'UNPAID',\n\tPENDING: 'PENDING',\n\tPAID: 'PAID',\n} as const;\nexport type MeltQuoteState = (typeof MeltQuoteState)[keyof typeof MeltQuoteState];\n\nexport type MintContactInfo = {\n\tmethod: string;\n\tinfo: string;\n};\n\nexport const MintQuoteState = {\n\tUNPAID: 'UNPAID',\n\tPAID: 'PAID',\n\tISSUED: 'ISSUED',\n} as const;\nexport type MintQuoteState = (typeof MintQuoteState)[keyof typeof MintQuoteState];\n\n/**\n * Response from the mint after requesting a mint.\n */\nexport type PartialMintQuoteResponse = {\n\t/**\n\t * Payment request.\n\t */\n\trequest: string;\n\t/**\n\t * Quote ID.\n\t */\n\tquote: string;\n\t/**\n\t * State of the mint quote.\n\t */\n\tstate: MintQuoteState;\n\t/**\n\t * Timestamp of when the quote expires.\n\t */\n\texpiry: number;\n\t/**\n\t * Public key the quote is locked to.\n\t */\n\tpubkey?: string;\n\t/**\n\t * Unit of the quote.\n\t */\n\tunit?: string;\n\t/**\n\t * Amount requested for mint quote.\n\t */\n\tamount?: number;\n} & ApiError;\n\nexport type MintQuoteResponse = PartialMintQuoteResponse & { amount: number; unit: string };\n\nexport type LockedMintQuoteResponse = MintQuoteResponse & { pubkey: string };\n\n/**\n * Response from the mint after requesting a BOLT12 mint quote. Contains a Lightning Network offer\n * and tracks payment/issuance amounts.\n */\nexport type Bolt12MintQuoteResponse = {\n\t/**\n\t * Quote identifier.\n\t */\n\tquote: string;\n\t/**\n\t * BOLT12 offer that can be paid to mint tokens.\n\t */\n\trequest: string;\n\t/**\n\t * Requested amount. This is null for amount-less offers.\n\t */\n\tamount: number | null;\n\t/**\n\t * Unit of the amount.\n\t */\n\tunit: string;\n\t/**\n\t * Unix timestamp when quote expires.\n\t */\n\texpiry: number | null;\n\t/**\n\t * Public key that locked this quote.\n\t */\n\tpubkey: string;\n\t/**\n\t * The amount that has been paid to the mint via the bolt12 offer. The difference between this and\n\t * `amount_issued` can be minted.\n\t */\n\tamount_paid: number;\n\t/**\n\t * The amount of ecash that has been issued for the given mint quote.\n\t */\n\tamount_issued: number;\n};\n\n/**\n * Response from the mint after requesting a mint.\n */\nexport type MintResponse = {\n\tsignatures: SerializedBlindedSignature[];\n} & ApiError;\n\n/**\n * Response from mint at /v1/restore endpoint.\n */\nexport type PostRestoreResponse = {\n\toutputs: SerializedBlindedMessage[];\n\tsignatures: SerializedBlindedSignature[];\n};\n\n/*\n * Zero-Knowledge that BlindedSignature\n * was generated using a specific public key\n */\nexport type SerializedDLEQ = {\n\ts: string;\n\te: string;\n\tr?: string;\n};\n\n/**\n * Blinded signature as it is received from the mint.\n */\nexport type SerializedBlindedSignature = {\n\t/**\n\t * Keyset id for indicating which public key was used to sign the blinded message.\n\t */\n\tid: string;\n\t/**\n\t * Amount denominated in Satoshi.\n\t */\n\tamount: number;\n\t/**\n\t * Blinded signature.\n\t */\n\tC_: string;\n\t/**\n\t * DLEQ Proof.\n\t */\n\tdleq?: SerializedDLEQ;\n};\n\n/**\n * Ecash to other MoE swap method, displayed in @type {GetInfoResponse}\n */\nexport type SwapMethod = {\n\tmethod: string;\n\tunit: string;\n\tmin_amount: number;\n\tmax_amount: number;\n\toptions?: {\n\t\tdescription?: boolean;\n\t};\n};\n\n/**\n * Response from the mint after performing a split action.\n */\nexport type SwapResponse = {\n\t/**\n\t * Represents the outputs after the split.\n\t */\n\tsignatures: SerializedBlindedSignature[];\n} & ApiError;\n\n/**\n * MPP supported methods.\n */\nexport type MPPMethod = {\n\tmethod: string;\n\tunit: string;\n};\n\n/**\n * WebSocket supported methods.\n */\nexport type WebSocketSupport = {\n\tmethod: string;\n\tunit: string;\n\tcommands: string[];\n};\n\n/**\n * Response from the mint after blind auth minting.\n */\nexport type BlindAuthMintResponse = {\n\tsignatures: SerializedBlindedSignature[];\n} & ApiError;\n","import { type Proof } from './index';\n\nexport type RawTransport = {\n\tt: PaymentRequestTransportType; // type\n\ta: string; // target\n\tg?: string[][]; // tags\n};\n\nexport type RawNUT10Option = {\n\tk: string; // kind\n\td: string; // data\n\tt: string[][]; // tags\n};\n\nexport type RawPaymentRequest = {\n\ti?: string; // id\n\ta?: number; // amount\n\tu?: string; // unit\n\ts?: boolean; // single use\n\tm?: string[]; // mints\n\td?: string; // description\n\tt?: RawTransport[]; // transports\n\tnut10?: RawNUT10Option;\n};\n\nexport type PaymentRequestTransport = {\n\ttype: PaymentRequestTransportType;\n\ttarget: string;\n\ttags?: string[][];\n};\n\nexport enum PaymentRequestTransportType {\n\tPOST = 'post',\n\tNOSTR = 'nostr',\n}\n\nexport type PaymentRequestPayload = {\n\tid?: string;\n\tmemo?: string;\n\tunit: string;\n\tmint: string;\n\tproofs: Proof[];\n};\n\n/**\n * Used to express a spending condition that proofs should be encumbered with.\n */\nexport type NUT10Option = {\n\t/**\n\t * The kind of spending condition.\n\t */\n\tkind: string;\n\t/**\n\t * Expresses the spending condition relative to the kind.\n\t */\n\tdata: string;\n\t/**\n\t * Tags associated with the spending condition for additional data.\n\t */\n\ttags: string[][];\n};\n","/**\n * This error is thrown when a HTTP response is not 2XX nor a protocol error.\n */\nexport class HttpResponseError extends Error {\n\tstatus: number;\n\tconstructor(message: string, status: number) {\n\t\tsuper(message);\n\t\tthis.status = status;\n\t\tthis.name = 'HttpResponseError';\n\t\tObject.setPrototypeOf(this, HttpResponseError.prototype);\n\t}\n}\n\n/**\n * This error is thrown when a network request fails.\n */\nexport class NetworkError extends Error {\n\tconstructor(message: string) {\n\t\tsuper(message);\n\t\tthis.name = 'NetworkError';\n\t\tObject.setPrototypeOf(this, NetworkError.prototype);\n\t}\n}\n\n/**\n * This error is thrown when a [protocol\n * error](https://github.com/cashubtc/nuts/blob/main/00.md#errors) occurs. See error codes\n * [here](https://github.com/cashubtc/nuts/blob/main/error_codes.md).\n */\nexport class MintOperationError extends HttpResponseError {\n\tcode: number;\n\tconstructor(code: number, detail: string) {\n\t\tsuper(detail || 'Unknown mint operation error', 400);\n\t\tthis.code = code;\n\t\tthis.name = 'MintOperationError';\n\t\tObject.setPrototypeOf(this, MintOperationError.prototype);\n\t}\n}\n","import { HttpResponseError, NetworkError, MintOperationError } from './model/Errors';\nimport { type Logger, NULL_LOGGER } from './logger';\nimport { type ApiError } from './model/types/mint/responses';\n\ntype RequestArgs = {\n\tendpoint: string;\n\trequestBody?: Record<string, unknown>;\n\theaders?: Record<string, string>;\n};\n\ntype RequestOptions = RequestArgs & Omit<RequestInit, 'body' | 'headers'>;\n\nlet globalRequestOptions: Partial<RequestOptions> = {};\nlet requestLogger = NULL_LOGGER;\n\n/**\n * An object containing any custom settings that you want to apply to the global fetch method.\n *\n * @param options See possible options here:\n *   https://developer.mozilla.org/en-US/docs/Web/API/fetch#options.\n */\nexport function setGlobalRequestOptions(options: Partial<RequestOptions>): void {\n\tglobalRequestOptions = options;\n}\n\n/**\n * Allows a logger to be set.\n *\n * @param {Logger} logger The logger instance to use.\n */\nexport function setRequestLogger(logger: Logger): void {\n\trequestLogger = logger;\n}\n\nasync function _request({\n\tendpoint,\n\trequestBody,\n\theaders: requestHeaders,\n\t...options\n}: RequestOptions): Promise<unknown> {\n\tconst body = requestBody ? JSON.stringify(requestBody) : undefined;\n\tconst headers = {\n\t\t...{ Accept: 'application/json, text/plain, */*' },\n\t\t...(body ? { 'Content-Type': 'application/json' } : undefined),\n\t\t...requestHeaders,\n\t};\n\n\tlet response: Response;\n\ttry {\n\t\tresponse = await fetch(endpoint, { body, headers, ...options });\n\t} catch (err) {\n\t\t// A fetch() promise only rejects when the request fails,\n\t\t// for example, because of a badly-formed request URL or a network error.\n\t\tthrow new NetworkError(err instanceof Error ? err.message : 'Network request failed');\n\t}\n\n\tif (!response.ok) {\n\t\tlet errorData: ApiError;\n\t\ttry {\n\t\t\terrorData = (await response.json()) as ApiError;\n\t\t} catch {\n\t\t\terrorData = { error: 'bad response' };\n\t\t}\n\n\t\tif (\n\t\t\tresponse.status === 400 &&\n\t\t\t'code' in errorData &&\n\t\t\ttypeof errorData.code === 'number' &&\n\t\t\t'detail' in errorData &&\n\t\t\ttypeof errorData.detail === 'string'\n\t\t) {\n\t\t\tthrow new MintOperationError(errorData.code, errorData.detail);\n\t\t}\n\n\t\tlet errorMessage = 'HTTP request failed';\n\t\tif ('error' in errorData && typeof errorData.error === 'string') {\n\t\t\terrorMessage = errorData.error;\n\t\t} else if ('detail' in errorData && typeof errorData.detail === 'string') {\n\t\t\terrorMessage = errorData.detail;\n\t\t}\n\n\t\tthrow new HttpResponseError(errorMessage, response.status);\n\t}\n\n\ttry {\n\t\treturn await response.json();\n\t} catch (err) {\n\t\trequestLogger.error('Failed to parse HTTP response', { err });\n\t\tthrow new HttpResponseError('bad response', response.status);\n\t}\n}\n\nexport default async function request<T>(options: RequestOptions): Promise<T> {\n\tconst data = await _request({ ...options, ...globalRequestOptions });\n\treturn data as T;\n}\n","import type { PartialMeltQuoteResponse } from '../model/types/index';\nimport { MeltQuoteState } from '../model/types/index';\nimport type { Logger } from '../logger';\n\nexport type MeltQuoteResponsePaidDeprecated = {\n\tpaid?: boolean;\n};\n\nexport function handleMeltQuoteResponseDeprecated(\n\tresponse: PartialMeltQuoteResponse & MeltQuoteResponsePaidDeprecated,\n\tlogger: Logger,\n): PartialMeltQuoteResponse {\n\t// if the response MeltQuoteResponse has a \"paid\" flag, we monkey patch it to the state enum\n\tif (!response.state) {\n\t\tlogger.warn(\n\t\t\t\"Field 'state' not found in MeltQuoteResponse. Update NUT-05 of mint: https://github.com/cashubtc/nuts/pull/136)\",\n\t\t);\n\t\tif (typeof response.paid === 'boolean') {\n\t\t\tresponse.state = response.paid ? MeltQuoteState.PAID : MeltQuoteState.UNPAID;\n\t\t}\n\t}\n\treturn response;\n}\n","import type { PartialMintQuoteResponse } from '../model/types/index';\nimport { MintQuoteState } from '../model/types/index';\nimport type { Logger } from '../logger';\n\nexport type MintQuoteResponsePaidDeprecated = {\n\tpaid?: boolean;\n};\n\nexport function handleMintQuoteResponseDeprecated(\n\tresponse: PartialMintQuoteResponse & MintQuoteResponsePaidDeprecated,\n\tlogger: Logger,\n): PartialMintQuoteResponse {\n\t// if the response MeltQuoteResponse has a \"paid\" flag, we monkey patch it to the state enum\n\tif (!response.state) {\n\t\tlogger.warn(\n\t\t\t\"Field 'state' not found in MintQuoteResponse. Update NUT-04 of mint: https://github.com/cashubtc/nuts/pull/141)\",\n\t\t);\n\t\tif (typeof response.paid === 'boolean') {\n\t\t\tresponse.state = response.paid ? MintQuoteState.PAID : MintQuoteState.UNPAID;\n\t\t}\n\t}\n\treturn response;\n}\n","import type { MintContactInfo, GetInfoResponse } from '../model/types/index';\nimport type { Logger } from '../logger';\n\nexport function handleMintInfoContactFieldDeprecated(data: GetInfoResponse, logger: Logger) {\n\t// Monkey patch old contact field [\"email\", \"me@mail.com\"] Array<[string, string]>; to new contact field [{method: \"email\", info: \"me@mail.com\"}] Array<MintContactInfo>\n\t// This is to maintain backwards compatibility with older versions of the mint\n\tif (Array.isArray(data?.contact) && data?.contact.length > 0) {\n\t\tdata.contact = data.contact.map((contact: MintContactInfo) => {\n\t\t\tif (\n\t\t\t\tArray.isArray(contact) &&\n\t\t\t\tcontact.length === 2 &&\n\t\t\t\ttypeof contact[0] === 'string' &&\n\t\t\t\ttypeof contact[1] === 'string'\n\t\t\t) {\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`Mint returned deprecated 'contact' field: Update NUT-06: https://github.com/cashubtc/nuts/pull/117`,\n\t\t\t\t);\n\t\t\t\treturn { method: contact[0], info: contact[1] } as MintContactInfo;\n\t\t\t}\n\t\t\treturn contact;\n\t\t});\n\t}\n\treturn data;\n}\n","import {\n\ttype GetInfoResponse,\n\ttype MPPMethod,\n\ttype SwapMethod,\n\ttype WebSocketSupport,\n} from './types';\n\nexport class MintInfo {\n\tprivate readonly _mintInfo: GetInfoResponse;\n\tprivate readonly _protectedEnpoints?: {\n\t\tcache: {\n\t\t\t[url: string]: boolean;\n\t\t};\n\t\tapiReturn: Array<{ method: 'GET' | 'POST'; regex: RegExp; cachedValue?: boolean }>;\n\t};\n\n\tconstructor(info: GetInfoResponse) {\n\t\tthis._mintInfo = info;\n\t\tif (info.nuts[22]) {\n\t\t\tthis._protectedEnpoints = {\n\t\t\t\tcache: {},\n\t\t\t\tapiReturn: info.nuts[22].protected_endpoints.map((o) => ({\n\t\t\t\t\tmethod: o.method,\n\t\t\t\t\tregex: new RegExp(o.path),\n\t\t\t\t})),\n\t\t\t};\n\t\t}\n\t}\n\n\tisSupported(num: 4 | 5): { disabled: boolean; params: SwapMethod[] };\n\tisSupported(num: 7 | 8 | 9 | 10 | 11 | 12 | 14 | 20): { supported: boolean };\n\tisSupported(num: 17): { supported: boolean; params?: WebSocketSupport[] };\n\tisSupported(num: 15): { supported: boolean; params?: MPPMethod[] };\n\tisSupported(num: number) {\n\t\tswitch (num) {\n\t\t\tcase 4:\n\t\t\tcase 5: {\n\t\t\t\treturn this.checkMintMelt(num);\n\t\t\t}\n\t\t\tcase 7:\n\t\t\tcase 8:\n\t\t\tcase 9:\n\t\t\tcase 10:\n\t\t\tcase 11:\n\t\t\tcase 12:\n\t\t\tcase 14:\n\t\t\tcase 20: {\n\t\t\t\treturn this.checkGenericNut(num);\n\t\t\t}\n\t\t\tcase 17: {\n\t\t\t\treturn this.checkNut17();\n\t\t\t}\n\t\t\tcase 15: {\n\t\t\t\treturn this.checkNut15();\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tthrow new Error('nut is not supported by cashu-ts');\n\t\t\t}\n\t\t}\n\t}\n\n\trequiresBlindAuthToken(path: string) {\n\t\tif (!this._protectedEnpoints) {\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof this._protectedEnpoints.cache[path] === 'boolean') {\n\t\t\treturn this._protectedEnpoints.cache[path];\n\t\t}\n\t\tconst isProtectedEndpoint = this._protectedEnpoints.apiReturn.some((e) => e.regex.test(path));\n\t\tthis._protectedEnpoints.cache[path] = isProtectedEndpoint;\n\t\treturn isProtectedEndpoint;\n\t}\n\n\tprivate checkGenericNut(num: 7 | 8 | 9 | 10 | 11 | 12 | 14 | 20) {\n\t\tif (this._mintInfo.nuts[num]?.supported) {\n\t\t\treturn { supported: true };\n\t\t}\n\t\treturn { supported: false };\n\t}\n\tprivate checkMintMelt(num: 4 | 5) {\n\t\tconst mintMeltInfo = this._mintInfo.nuts[num];\n\t\tif (mintMeltInfo && mintMeltInfo.methods.length > 0 && !mintMeltInfo.disabled) {\n\t\t\treturn { disabled: false, params: mintMeltInfo.methods };\n\t\t}\n\t\treturn { disabled: true, params: mintMeltInfo.methods };\n\t}\n\tprivate checkNut17() {\n\t\tif (this._mintInfo.nuts[17] && this._mintInfo.nuts[17].supported.length > 0) {\n\t\t\treturn { supported: true, params: this._mintInfo.nuts[17].supported };\n\t\t}\n\t\treturn { supported: false };\n\t}\n\tprivate checkNut15() {\n\t\tif (this._mintInfo.nuts[15] && this._mintInfo.nuts[15].methods.length > 0) {\n\t\t\treturn { supported: true, params: this._mintInfo.nuts[15].methods };\n\t\t}\n\t\treturn { supported: false };\n\t}\n\n\tget contact() {\n\t\treturn this._mintInfo.contact;\n\t}\n\n\tget description() {\n\t\treturn this._mintInfo.description;\n\t}\n\n\tget description_long() {\n\t\treturn this._mintInfo.description_long;\n\t}\n\n\tget name() {\n\t\treturn this._mintInfo.name;\n\t}\n\n\tget pubkey() {\n\t\treturn this._mintInfo.pubkey;\n\t}\n\n\tget nuts() {\n\t\treturn this._mintInfo.nuts;\n\t}\n\n\tget version() {\n\t\treturn this._mintInfo.version;\n\t}\n\n\tget motd() {\n\t\treturn this._mintInfo.motd;\n\t}\n\n\t/**\n\t * Checks if the mint supports creating BOLT12 offers with a description.\n\t *\n\t * @returns True if the mint supports offers with a description, false otherwise.\n\t */\n\tget supportsBolt12Description() {\n\t\treturn this._mintInfo.nuts[4]?.methods.some(\n\t\t\t(method) => method.method === 'bolt12' && method.options?.description === true,\n\t\t);\n\t}\n}\n","export class Bytes {\n\tstatic fromHex(hex: string): Uint8Array {\n\t\thex = hex.trim();\n\t\tif (hex.length === 0) {\n\t\t\treturn new Uint8Array(0);\n\t\t}\n\t\tif (hex.length < 2 || hex.length & 1) {\n\t\t\tthrow new Error('Invalid hex string: odd length.');\n\t\t}\n\t\tif (hex.startsWith('0x') || hex.startsWith('0X')) {\n\t\t\thex = hex.slice(2);\n\t\t}\n\t\tconst match = hex.match(/^[0-9a-fA-F]*$/);\n\t\tif (!match) {\n\t\t\tthrow new Error('Invalid hex string: contains non-hex characters');\n\t\t}\n\t\tconst matches = hex.match(/.{1,2}/g);\n\t\tif (!matches) {\n\t\t\tthrow new Error('Invalid hex string');\n\t\t}\n\t\treturn new Uint8Array(matches.map((byte) => parseInt(byte, 16)));\n\t}\n\n\tstatic toHex(bytes: Uint8Array): string {\n\t\treturn Array.from(bytes, (byte) => byte.toString(16).padStart(2, '0')).join('');\n\t}\n\n\tstatic fromString(str: string): Uint8Array {\n\t\tstr = str.trim();\n\t\treturn new TextEncoder().encode(str);\n\t}\n\n\tstatic toString(bytes: Uint8Array): string {\n\t\treturn new TextDecoder('utf-8').decode(bytes);\n\t}\n\n\tstatic concat(...arrays: Uint8Array[]): Uint8Array {\n\t\tconst totalLength = arrays.reduce((sum, arr) => sum + arr.length, 0);\n\t\tconst result = new Uint8Array(totalLength);\n\t\tlet offset = 0;\n\t\tfor (const arr of arrays) {\n\t\t\tresult.set(arr, offset);\n\t\t\toffset += arr.length;\n\t\t}\n\t\treturn result;\n\t}\n\n\tstatic alloc(size: number): Uint8Array {\n\t\treturn new Uint8Array(size);\n\t}\n\n\tstatic writeBigUint64BE(value: bigint): Uint8Array {\n\t\tconst buffer = new ArrayBuffer(8);\n\t\tnew DataView(buffer).setBigUint64(0, value, false);\n\t\treturn new Uint8Array(buffer);\n\t}\n\n\tstatic toBase64(bytes: Uint8Array): string {\n\t\tif (typeof Buffer !== 'undefined') {\n\t\t\treturn Buffer.from(bytes).toString('base64');\n\t\t}\n\t\t// preventing stack overflow by chunking\n\t\tif (bytes.length > 32768) {\n\t\t\tlet result = '';\n\t\t\tfor (let i = 0; i < bytes.length; i += 32768) {\n\t\t\t\tconst chunk = bytes.slice(i, i + 32768);\n\t\t\t\tresult += btoa(String.fromCharCode(...chunk));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\treturn btoa(String.fromCharCode(...bytes));\n\t}\n\n\tstatic fromBase64(base64: string): Uint8Array {\n\t\tbase64 = base64.trim();\n\t\tif (typeof Buffer !== 'undefined') {\n\t\t\treturn new Uint8Array(Buffer.from(base64, 'base64'));\n\t\t}\n\n\t\tlet normalizedBase64 = base64.replace(/-/g, '+').replace(/_/g, '/');\n\t\twhile (normalizedBase64.length % 4) {\n\t\t\tnormalizedBase64 += '=';\n\t\t}\n\t\treturn new Uint8Array([...atob(normalizedBase64)].map((c) => c.charCodeAt(0)));\n\t}\n\n\tstatic equals(a: Uint8Array, b: Uint8Array): boolean {\n\t\tif (a.length !== b.length) return false;\n\t\tlet result = 0;\n\t\tfor (let i = 0; i < a.length; i++) {\n\t\t\tresult |= a[i] ^ b[i];\n\t\t}\n\t\treturn result === 0;\n\t}\n\n\tstatic compare(a: Uint8Array, b: Uint8Array): number {\n\t\tconst minLength = Math.min(a.length, b.length);\n\t\tfor (let i = 0; i < minLength; i++) {\n\t\t\tif (a[i] < b[i]) return -1;\n\t\t\tif (a[i] > b[i]) return 1;\n\t\t}\n\t\treturn a.length - b.length;\n\t}\n}\n","import { bytesToHex } from '@noble/curves/abstract/utils';\nimport { Bytes } from '../../utils/Bytes';\n\nexport function bytesToNumber(bytes: Uint8Array): bigint {\n\treturn hexToNumber(bytesToHex(bytes));\n}\n\nexport function hexToNumber(hex: string): bigint {\n\treturn BigInt(`0x${hex}`);\n}\n\nexport function encodeBase64toUint8(base64String: string): Uint8Array {\n\treturn Bytes.fromBase64(base64String);\n}\n","import { ConnectionManager, type WSConnection } from './WSConnection';\nimport type {\n\tCheckStatePayload,\n\tCheckStateResponse,\n\tGetInfoResponse,\n\tMeltPayload,\n\tMintActiveKeys,\n\tMintAllKeysets,\n\tPostRestoreResponse,\n\tSerializedBlindedMessage,\n\tSwapPayload,\n\tSwapResponse,\n\tMintQuotePayload,\n\tMintPayload,\n\tMintResponse,\n\tPostRestorePayload,\n\tMeltQuotePayload,\n\tMeltQuoteResponse,\n\tPartialMintQuoteResponse,\n\tPartialMeltQuoteResponse,\n\tBolt12MintQuotePayload,\n\tBolt12MintQuoteResponse,\n\tBolt12MeltQuoteResponse,\n} from './model/types/index';\nimport { MeltQuoteState } from './model/types/index';\nimport request, { setRequestLogger } from './request';\nimport { isObj, joinUrls, sanitizeUrl } from './utils';\nimport {\n\ttype MeltQuoteResponsePaidDeprecated,\n\thandleMeltQuoteResponseDeprecated,\n} from './legacy/nut-05';\nimport {\n\ttype MintQuoteResponsePaidDeprecated,\n\thandleMintQuoteResponseDeprecated,\n} from './legacy/nut-04';\nimport { handleMintInfoContactFieldDeprecated } from './legacy/nut-06';\nimport { MintInfo } from './model/MintInfo';\nimport { type Logger, NULL_LOGGER } from './logger';\n\n/**\n * Class represents Cashu Mint API. This class contains Lower level functions that are implemented\n * by CashuWallet.\n */\nclass CashuMint {\n\tprivate ws?: WSConnection;\n\tprivate _mintInfo?: MintInfo;\n\tprivate _authTokenGetter?: () => Promise<string>;\n\tprivate _checkNut22 = false;\n\tprivate _logger: Logger;\n\t/**\n\t * @param _mintUrl Requires mint URL to create this object.\n\t * @param _customRequest If passed, use custom request implementation for network communication\n\t *   with the mint.\n\t * @param [authTokenGetter] A function that is called by the CashuMint instance to obtain a NUT-22\n\t *   BlindedAuthToken (e.g. from a database or localstorage)\n\t */\n\tconstructor(\n\t\tprivate _mintUrl: string,\n\t\tprivate _customRequest?: typeof request,\n\t\tauthTokenGetter?: () => Promise<string>,\n\t\toptions?: {\n\t\t\tlogger?: Logger;\n\t\t},\n\t) {\n\t\tthis._mintUrl = sanitizeUrl(_mintUrl);\n\t\tthis._customRequest = _customRequest;\n\t\tif (authTokenGetter) {\n\t\t\tthis._checkNut22 = true;\n\t\t\tthis._authTokenGetter = authTokenGetter;\n\t\t}\n\t\tthis._logger = options?.logger ?? NULL_LOGGER;\n\t\tsetRequestLogger(this._logger);\n\t}\n\n\t//TODO: v3 - refactor CashuMint to take two or less args.\n\n\tget mintUrl() {\n\t\treturn this._mintUrl;\n\t}\n\n\t/**\n\t * Fetches mints info at the /info endpoint.\n\t *\n\t * @param mintUrl\n\t * @param customRequest\n\t */\n\tpublic static async getInfo(\n\t\tmintUrl: string,\n\t\tcustomRequest?: typeof request,\n\t\tlogger?: Logger,\n\t): Promise<GetInfoResponse> {\n\t\tconst mintLogger = logger ?? NULL_LOGGER;\n\t\tconst requestInstance = customRequest || request;\n\t\tconst response = await requestInstance<GetInfoResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/info'),\n\t\t});\n\t\tconst data = handleMintInfoContactFieldDeprecated(response, mintLogger);\n\t\treturn data;\n\t}\n\t/**\n\t * Fetches mints info at the /info endpoint.\n\t */\n\tasync getInfo(): Promise<GetInfoResponse> {\n\t\treturn CashuMint.getInfo(this._mintUrl, this._customRequest, this._logger);\n\t}\n\n\tasync getLazyMintInfo(): Promise<MintInfo> {\n\t\tif (this._mintInfo) {\n\t\t\treturn this._mintInfo;\n\t\t}\n\t\tconst data = await CashuMint.getInfo(this._mintUrl, this._customRequest);\n\t\tthis._mintInfo = new MintInfo(data);\n\t\treturn this._mintInfo;\n\t}\n\n\t/**\n\t * Performs a swap operation with ecash inputs and outputs.\n\t *\n\t * @param mintUrl\n\t * @param swapPayload Payload containing inputs and outputs.\n\t * @param customRequest\n\t * @returns Signed outputs.\n\t */\n\tpublic static async swap(\n\t\tmintUrl: string,\n\t\tswapPayload: SwapPayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t): Promise<SwapResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst data = await requestInstance<SwapResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/swap'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: swapPayload,\n\t\t\theaders,\n\t\t});\n\n\t\tif (!isObj(data) || !Array.isArray(data?.signatures)) {\n\t\t\tthrow new Error(data.detail ?? 'bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\t/**\n\t * Performs a swap operation with ecash inputs and outputs.\n\t *\n\t * @param swapPayload Payload containing inputs and outputs.\n\t * @returns Signed outputs.\n\t */\n\tasync swap(swapPayload: SwapPayload): Promise<SwapResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/swap');\n\t\treturn CashuMint.swap(this._mintUrl, swapPayload, this._customRequest, blindAuthToken);\n\t}\n\n\t/**\n\t * Requests a new mint quote from the mint.\n\t *\n\t * @param mintUrl\n\t * @param mintQuotePayload Payload for creating a new mint quote.\n\t * @param customRequest\n\t * @returns The mint will create and return a new mint quote containing a payment request for the\n\t *   specified amount and unit.\n\t */\n\tpublic static async createMintQuote(\n\t\tmintUrl: string,\n\t\tmintQuotePayload: MintQuotePayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t\tlogger?: Logger,\n\t): Promise<PartialMintQuoteResponse> {\n\t\tconst mintLogger = logger ?? NULL_LOGGER;\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<\n\t\t\tPartialMintQuoteResponse & MintQuoteResponsePaidDeprecated\n\t\t>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/mint/quote/bolt11'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: mintQuotePayload,\n\t\t\theaders,\n\t\t});\n\t\tconst data = handleMintQuoteResponseDeprecated(response, mintLogger);\n\t\treturn data;\n\t}\n\t/**\n\t * Requests a new mint quote from the mint.\n\t *\n\t * @param mintQuotePayload Payload for creating a new mint quote.\n\t * @returns The mint will create and return a new mint quote containing a payment request for the\n\t *   specified amount and unit.\n\t */\n\tasync createMintQuote(mintQuotePayload: MintQuotePayload): Promise<PartialMintQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/mint/quote/bolt11');\n\t\treturn CashuMint.createMintQuote(\n\t\t\tthis._mintUrl,\n\t\t\tmintQuotePayload,\n\t\t\tthis._customRequest,\n\t\t\tblindAuthToken,\n\t\t);\n\t}\n\n\t/**\n\t * Requests a new BOLT12 mint quote from the mint using Lightning Network offers.\n\t *\n\t * @param mintUrl The mint's base URL.\n\t * @param mintQuotePayload Payload containing amount, unit, optional description, and required\n\t *   pubkey.\n\t * @param customRequest Optional custom request implementation.\n\t * @param blindAuthToken Optional authentication token for NUT-22.\n\t * @returns A mint quote containing a BOLT12 offer.\n\t */\n\tpublic static async createMintQuoteBolt12(\n\t\tmintUrl: string,\n\t\tmintQuotePayload: Bolt12MintQuotePayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t): Promise<Bolt12MintQuoteResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<Bolt12MintQuoteResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/mint/quote/bolt12'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: mintQuotePayload,\n\t\t\theaders,\n\t\t});\n\t\treturn response;\n\t}\n\n\t/**\n\t * Requests a new BOLT12 mint quote from the mint using Lightning Network offers.\n\t *\n\t * @param mintQuotePayload Payload containing amount, unit, optional description, and required\n\t *   pubkey.\n\t * @returns A mint quote containing a BOLT12 offer.\n\t */\n\tasync createMintQuoteBolt12(\n\t\tmintQuotePayload: Bolt12MintQuotePayload,\n\t): Promise<Bolt12MintQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/mint/quote/bolt12');\n\t\treturn CashuMint.createMintQuoteBolt12(\n\t\t\tthis._mintUrl,\n\t\t\tmintQuotePayload,\n\t\t\tthis._customRequest,\n\t\t\tblindAuthToken,\n\t\t);\n\t}\n\n\t/**\n\t * Gets an existing mint quote from the mint.\n\t *\n\t * @param mintUrl\n\t * @param quote Quote ID.\n\t * @param customRequest\n\t * @returns The mint will create and return a Lightning invoice for the specified amount.\n\t */\n\tpublic static async checkMintQuote(\n\t\tmintUrl: string,\n\t\tquote: string,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t\tlogger?: Logger,\n\t): Promise<PartialMintQuoteResponse> {\n\t\tconst mintLogger = logger ?? NULL_LOGGER;\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<\n\t\t\tPartialMintQuoteResponse & MintQuoteResponsePaidDeprecated\n\t\t>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/mint/quote/bolt11', quote),\n\t\t\tmethod: 'GET',\n\t\t\theaders,\n\t\t});\n\n\t\tconst data = handleMintQuoteResponseDeprecated(response, mintLogger);\n\t\treturn data;\n\t}\n\t/**\n\t * Gets an existing mint quote from the mint.\n\t *\n\t * @param quote Quote ID.\n\t * @returns The mint will create and return a Lightning invoice for the specified amount.\n\t */\n\tasync checkMintQuote(quote: string): Promise<PartialMintQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth(`/v1/mint/quote/bolt11/${quote}`);\n\t\treturn CashuMint.checkMintQuote(this._mintUrl, quote, this._customRequest, blindAuthToken);\n\t}\n\n\t/**\n\t * Gets an existing BOLT12 mint quote from the mint.\n\t *\n\t * @param mintUrl The mint's base URL.\n\t * @param quote Quote ID to check.\n\t * @param customRequest Optional custom request implementation.\n\t * @param blindAuthToken Optional authentication token for NUT-22.\n\t * @returns Updated quote with current payment and issuance amounts.\n\t */\n\tpublic static async checkMintQuoteBolt12(\n\t\tmintUrl: string,\n\t\tquote: string,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t): Promise<Bolt12MintQuoteResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<Bolt12MintQuoteResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/mint/quote/bolt12', quote),\n\t\t\tmethod: 'GET',\n\t\t\theaders,\n\t\t});\n\t\treturn response;\n\t}\n\n\t/**\n\t * Gets an existing BOLT12 mint quote from the mint.\n\t *\n\t * @param quote Quote ID to check.\n\t * @returns Updated quote with current payment and issuance amounts.\n\t */\n\tasync checkMintQuoteBolt12(quote: string): Promise<Bolt12MintQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth(`/v1/mint/quote/bolt12/${quote}`);\n\t\treturn CashuMint.checkMintQuoteBolt12(\n\t\t\tthis._mintUrl,\n\t\t\tquote,\n\t\t\tthis._customRequest,\n\t\t\tblindAuthToken,\n\t\t);\n\t}\n\n\t/**\n\t * Mints new tokens by requesting blind signatures on the provided outputs.\n\t *\n\t * @param mintUrl\n\t * @param mintPayload Payload containing the outputs to get blind signatures on.\n\t * @param customRequest\n\t * @returns Serialized blinded signatures.\n\t */\n\tpublic static async mint(\n\t\tmintUrl: string,\n\t\tmintPayload: MintPayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t) {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst data = await requestInstance<MintResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/mint/bolt11'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: mintPayload,\n\t\t\theaders,\n\t\t});\n\n\t\tif (!isObj(data) || !Array.isArray(data?.signatures)) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\t/**\n\t * Mints new tokens by requesting blind signatures on the provided outputs.\n\t *\n\t * @param mintPayload Payload containing the outputs to get blind signatures on.\n\t * @returns Serialized blinded signatures.\n\t */\n\tasync mint(mintPayload: MintPayload) {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/mint/bolt11');\n\t\treturn CashuMint.mint(this._mintUrl, mintPayload, this._customRequest, blindAuthToken);\n\t}\n\n\t/**\n\t * Mints new tokens using a BOLT12 quote by requesting blind signatures on the provided outputs.\n\t *\n\t * @param mintUrl The mint's base URL.\n\t * @param mintPayload Payload containing the quote ID and outputs to get blind signatures on.\n\t * @param customRequest Optional custom request implementation.\n\t * @param blindAuthToken Optional authentication token for NUT-22.\n\t * @returns Serialized blinded signatures for the requested outputs.\n\t */\n\tpublic static async mintBolt12(\n\t\tmintUrl: string,\n\t\tmintPayload: MintPayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t): Promise<MintResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst data = await requestInstance<MintResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/mint/bolt12'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: mintPayload,\n\t\t\theaders,\n\t\t});\n\n\t\tif (!isObj(data) || !Array.isArray(data?.signatures)) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t/**\n\t * Mints new tokens using a BOLT12 quote by requesting blind signatures on the provided outputs.\n\t *\n\t * @param mintPayload Payload containing the quote ID and outputs to get blind signatures on.\n\t * @returns Serialized blinded signatures for the requested outputs.\n\t */\n\tasync mintBolt12(mintPayload: MintPayload): Promise<MintResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/mint/bolt12');\n\t\treturn CashuMint.mintBolt12(this._mintUrl, mintPayload, this._customRequest, blindAuthToken);\n\t}\n\n\t/**\n\t * Requests a new melt quote from the mint.\n\t *\n\t * @param mintUrl\n\t * @param MeltQuotePayload\n\t * @returns\n\t */\n\tpublic static async createMeltQuote(\n\t\tmintUrl: string,\n\t\tmeltQuotePayload: MeltQuotePayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t\tlogger?: Logger,\n\t): Promise<PartialMeltQuoteResponse> {\n\t\tconst mintLogger = logger ?? NULL_LOGGER;\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<\n\t\t\tPartialMeltQuoteResponse & MeltQuoteResponsePaidDeprecated\n\t\t>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/melt/quote/bolt11'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: meltQuotePayload,\n\t\t\theaders,\n\t\t});\n\n\t\tconst data = handleMeltQuoteResponseDeprecated(response, mintLogger);\n\n\t\tif (\n\t\t\t!isObj(data) ||\n\t\t\ttypeof data?.amount !== 'number' ||\n\t\t\ttypeof data?.fee_reserve !== 'number' ||\n\t\t\ttypeof data?.quote !== 'string'\n\t\t) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\t\treturn data;\n\t}\n\n\t/**\n\t * Requests a new melt quote from the mint.\n\t *\n\t * @param MeltQuotePayload\n\t * @returns\n\t */\n\tasync createMeltQuote(meltQuotePayload: MeltQuotePayload): Promise<PartialMeltQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/melt/quote/bolt11');\n\t\treturn CashuMint.createMeltQuote(\n\t\t\tthis._mintUrl,\n\t\t\tmeltQuotePayload,\n\t\t\tthis._customRequest,\n\t\t\tblindAuthToken,\n\t\t);\n\t}\n\n\t/**\n\t * Requests a new BOLT12 melt quote from the mint for paying a Lightning Network offer. For\n\t * amount-less offers, specify the amount in options.amountless.amount_msat.\n\t *\n\t * @param mintUrl The mint's base URL.\n\t * @param meltQuotePayload Payload containing the BOLT12 offer to pay and unit.\n\t * @param customRequest Optional custom request implementation.\n\t * @param blindAuthToken Optional authentication token for NUT-22.\n\t * @returns Melt quote with amount, fee reserve, and payment state.\n\t */\n\tpublic static async createMeltQuoteBolt12(\n\t\tmintUrl: string,\n\t\tmeltQuotePayload: MeltQuotePayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t): Promise<Bolt12MeltQuoteResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<Bolt12MeltQuoteResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/melt/quote/bolt12'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: meltQuotePayload,\n\t\t\theaders,\n\t\t});\n\t\treturn response;\n\t}\n\n\t/**\n\t * Requests a new BOLT12 melt quote from the mint for paying a Lightning Network offer. For\n\t * amount-less offers, specify the amount in options.amountless.amount_msat.\n\t *\n\t * @param meltQuotePayload Payload containing the BOLT12 offer to pay and unit.\n\t * @returns Melt quote with amount, fee reserve, and payment state.\n\t */\n\tasync createMeltQuoteBolt12(\n\t\tmeltQuotePayload: MeltQuotePayload,\n\t): Promise<Bolt12MeltQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/melt/quote/bolt12');\n\t\treturn CashuMint.createMeltQuoteBolt12(\n\t\t\tthis._mintUrl,\n\t\t\tmeltQuotePayload,\n\t\t\tthis._customRequest,\n\t\t\tblindAuthToken,\n\t\t);\n\t}\n\n\t/**\n\t * Gets an existing melt quote.\n\t *\n\t * @param mintUrl\n\t * @param quote Quote ID.\n\t * @returns\n\t */\n\tpublic static async checkMeltQuote(\n\t\tmintUrl: string,\n\t\tquote: string,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t\tlogger?: Logger,\n\t): Promise<PartialMeltQuoteResponse> {\n\t\tconst mintLogger = logger ?? NULL_LOGGER;\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<MeltQuoteResponse & MeltQuoteResponsePaidDeprecated>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/melt/quote/bolt11', quote),\n\t\t\tmethod: 'GET',\n\t\t\theaders,\n\t\t});\n\n\t\tconst data = handleMeltQuoteResponseDeprecated(response, mintLogger);\n\n\t\tif (\n\t\t\t!isObj(data) ||\n\t\t\ttypeof data?.amount !== 'number' ||\n\t\t\ttypeof data?.fee_reserve !== 'number' ||\n\t\t\ttypeof data?.quote !== 'string' ||\n\t\t\ttypeof data?.state !== 'string' ||\n\t\t\t!Object.values(MeltQuoteState).includes(data.state)\n\t\t) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\t/**\n\t * Gets an existing melt quote.\n\t *\n\t * @param quote Quote ID.\n\t * @returns\n\t */\n\tasync checkMeltQuote(quote: string): Promise<PartialMeltQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth(`/v1/melt/quote/bolt11/${quote}`);\n\t\treturn CashuMint.checkMeltQuote(this._mintUrl, quote, this._customRequest, blindAuthToken);\n\t}\n\n\t/**\n\t * Gets an existing BOLT12 melt quote from the mint. Returns current payment state (UNPAID,\n\t * PENDING, or PAID) and payment preimage if paid.\n\t *\n\t * @param mintUrl The mint's base URL.\n\t * @param quote Quote ID to check.\n\t * @param customRequest Optional custom request implementation.\n\t * @param blindAuthToken Optional authentication token for NUT-22.\n\t * @returns Updated quote with current payment state and preimage if available.\n\t */\n\tpublic static async checkMeltQuoteBolt12(\n\t\tmintUrl: string,\n\t\tquote: string,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t): Promise<Bolt12MeltQuoteResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<Bolt12MeltQuoteResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/melt/quote/bolt12', quote),\n\t\t\tmethod: 'GET',\n\t\t\theaders,\n\t\t});\n\t\treturn response;\n\t}\n\n\t/**\n\t * Gets an existing BOLT12 melt quote from the mint. Returns current payment state (UNPAID,\n\t * PENDING, or PAID) and payment preimage if paid.\n\t *\n\t * @param quote Quote ID to check.\n\t * @returns Updated quote with current payment state and preimage if available.\n\t */\n\tasync checkMeltQuoteBolt12(quote: string): Promise<Bolt12MeltQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth(`/v1/melt/quote/bolt12/${quote}`);\n\t\treturn CashuMint.checkMeltQuoteBolt12(\n\t\t\tthis._mintUrl,\n\t\t\tquote,\n\t\t\tthis._customRequest,\n\t\t\tblindAuthToken,\n\t\t);\n\t}\n\n\t/**\n\t * Requests the mint to pay for a Bolt11 payment request by providing ecash as inputs to be spent.\n\t * The inputs contain the amount and the fee_reserves for a Lightning payment. The payload can\n\t * also contain blank outputs in order to receive back overpaid Lightning fees.\n\t *\n\t * @param mintUrl\n\t * @param meltPayload\n\t * @param customRequest\n\t * @returns\n\t */\n\tpublic static async melt(\n\t\tmintUrl: string,\n\t\tmeltPayload: MeltPayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t\tlogger?: Logger,\n\t): Promise<PartialMeltQuoteResponse> {\n\t\tconst mintLogger = logger ?? NULL_LOGGER;\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst response = await requestInstance<MeltQuoteResponse & MeltQuoteResponsePaidDeprecated>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/melt/bolt11'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: meltPayload,\n\t\t\theaders,\n\t\t});\n\n\t\tconst data = handleMeltQuoteResponseDeprecated(response, mintLogger);\n\n\t\tif (\n\t\t\t!isObj(data) ||\n\t\t\ttypeof data?.state !== 'string' ||\n\t\t\t!Object.values(MeltQuoteState).includes(data.state)\n\t\t) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\t/**\n\t * Ask mint to perform a melt operation. This pays a lightning invoice and destroys tokens\n\t * matching its amount + fees.\n\t *\n\t * @param meltPayload\n\t * @returns\n\t */\n\tasync melt(meltPayload: MeltPayload): Promise<PartialMeltQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/melt/bolt11');\n\t\treturn CashuMint.melt(this._mintUrl, meltPayload, this._customRequest, blindAuthToken);\n\t}\n\n\t/**\n\t * Requests the mint to pay a BOLT12 offer by providing ecash inputs to be spent. The inputs must\n\t * cover the amount plus fee reserves. Optional outputs can be included to receive change for\n\t * overpaid Lightning fees.\n\t *\n\t * @param mintUrl The mint's base URL.\n\t * @param meltPayload Payload containing quote ID, inputs, and optional outputs for change.\n\t * @param customRequest Optional custom request implementation.\n\t * @param blindAuthToken Optional authentication token for NUT-22.\n\t * @returns Payment result with state and optional change signatures.\n\t */\n\tpublic static async meltBolt12(\n\t\tmintUrl: string,\n\t\tmeltPayload: MeltPayload,\n\t\tcustomRequest?: typeof request,\n\t\tblindAuthToken?: string,\n\t): Promise<Bolt12MeltQuoteResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers: Record<string, string> = blindAuthToken ? { 'Blind-auth': blindAuthToken } : {};\n\t\tconst data = await requestInstance<Bolt12MeltQuoteResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/melt/bolt12'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: meltPayload,\n\t\t\theaders,\n\t\t});\n\t\treturn data;\n\t}\n\n\t/**\n\t * Requests the mint to pay a BOLT12 offer by providing ecash inputs to be spent. The inputs must\n\t * cover the amount plus fee reserves. Optional outputs can be included to receive change for\n\t * overpaid Lightning fees.\n\t *\n\t * @param meltPayload Payload containing quote ID, inputs, and optional outputs for change.\n\t * @returns Payment result with state and optional change signatures.\n\t */\n\tasync meltBolt12(meltPayload: MeltPayload): Promise<Bolt12MeltQuoteResponse> {\n\t\tconst blindAuthToken = await this.handleBlindAuth('/v1/melt/bolt12');\n\t\treturn CashuMint.meltBolt12(this._mintUrl, meltPayload, this._customRequest, blindAuthToken);\n\t}\n\n\t/**\n\t * Checks if specific proofs have already been redeemed.\n\t *\n\t * @param mintUrl\n\t * @param checkPayload\n\t * @param customRequest\n\t * @returns Redeemed and unredeemed ordered list of booleans.\n\t */\n\tpublic static async check(\n\t\tmintUrl: string,\n\t\tcheckPayload: CheckStatePayload,\n\t\tcustomRequest?: typeof request,\n\t): Promise<CheckStateResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst data = await requestInstance<CheckStateResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/checkstate'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: checkPayload,\n\t\t});\n\n\t\tif (!isObj(data) || !Array.isArray(data?.states)) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t/**\n\t * Get the mints public keys.\n\t *\n\t * @param mintUrl\n\t * @param keysetId Optional param to get the keys for a specific keyset. If not specified, the\n\t *   keys from all active keysets are fetched.\n\t * @param customRequest\n\t * @returns\n\t */\n\tpublic static async getKeys(\n\t\tmintUrl: string,\n\t\tkeysetId?: string,\n\t\tcustomRequest?: typeof request,\n\t): Promise<MintActiveKeys> {\n\t\t// backwards compatibility for base64 encoded keyset ids\n\t\tif (keysetId) {\n\t\t\t// make the keysetId url safe\n\t\t\tkeysetId = keysetId.replace(/\\//g, '_').replace(/\\+/g, '-');\n\t\t}\n\t\tconst requestInstance = customRequest || request;\n\t\tconst data = await requestInstance<MintActiveKeys>({\n\t\t\tendpoint: keysetId ? joinUrls(mintUrl, '/v1/keys', keysetId) : joinUrls(mintUrl, '/v1/keys'),\n\t\t});\n\n\t\tif (!isObj(data) || !Array.isArray(data.keysets)) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\t/**\n\t * Get the mints public keys.\n\t *\n\t * @param keysetId Optional param to get the keys for a specific keyset. If not specified, the\n\t *   keys from all active keysets are fetched.\n\t * @returns The mints public keys.\n\t */\n\tasync getKeys(keysetId?: string, mintUrl?: string): Promise<MintActiveKeys> {\n\t\tconst allKeys = await CashuMint.getKeys(\n\t\t\tmintUrl || this._mintUrl,\n\t\t\tkeysetId,\n\t\t\tthis._customRequest,\n\t\t);\n\t\treturn allKeys;\n\t}\n\t/**\n\t * Get the mints keysets in no specific order.\n\t *\n\t * @param mintUrl\n\t * @param customRequest\n\t * @returns All the mints past and current keysets.\n\t */\n\tpublic static async getKeySets(\n\t\tmintUrl: string,\n\t\tcustomRequest?: typeof request,\n\t): Promise<MintAllKeysets> {\n\t\tconst requestInstance = customRequest || request;\n\t\treturn requestInstance<MintAllKeysets>({ endpoint: joinUrls(mintUrl, '/v1/keysets') });\n\t}\n\n\t/**\n\t * Get the mints keysets in no specific order.\n\t *\n\t * @returns All the mints past and current keysets.\n\t */\n\tasync getKeySets(): Promise<MintAllKeysets> {\n\t\treturn CashuMint.getKeySets(this._mintUrl, this._customRequest);\n\t}\n\n\t/**\n\t * Checks if specific proofs have already been redeemed.\n\t *\n\t * @param checkPayload\n\t * @returns Redeemed and unredeemed ordered list of booleans.\n\t */\n\tasync check(checkPayload: CheckStatePayload): Promise<CheckStateResponse> {\n\t\treturn CashuMint.check(this._mintUrl, checkPayload, this._customRequest);\n\t}\n\n\tpublic static async restore(\n\t\tmintUrl: string,\n\t\trestorePayload: PostRestorePayload,\n\t\tcustomRequest?: typeof request,\n\t): Promise<PostRestoreResponse> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst data = await requestInstance<PostRestoreResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/restore'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: restorePayload,\n\t\t});\n\n\t\tif (!isObj(data) || !Array.isArray(data?.outputs) || !Array.isArray(data?.signatures)) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tasync restore(restorePayload: {\n\t\toutputs: SerializedBlindedMessage[];\n\t}): Promise<PostRestoreResponse> {\n\t\treturn CashuMint.restore(this._mintUrl, restorePayload, this._customRequest);\n\t}\n\n\t/**\n\t * Tries to establish a websocket connection with the websocket mint url according to NUT-17.\n\t */\n\tasync connectWebSocket() {\n\t\tif (this.ws) {\n\t\t\tawait this.ws.ensureConnection();\n\t\t} else {\n\t\t\tconst mintUrl = new URL(this._mintUrl);\n\t\t\tconst wsSegment = 'v1/ws';\n\t\t\tif (mintUrl.pathname) {\n\t\t\t\tif (mintUrl.pathname.endsWith('/')) {\n\t\t\t\t\tmintUrl.pathname += wsSegment;\n\t\t\t\t} else {\n\t\t\t\t\tmintUrl.pathname += '/' + wsSegment;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.ws = ConnectionManager.getInstance().getConnection(\n\t\t\t\t`${mintUrl.protocol === 'https:' ? 'wss' : 'ws'}://${mintUrl.host}${mintUrl.pathname}`,\n\t\t\t);\n\t\t\ttry {\n\t\t\t\tawait this.ws.connect();\n\t\t\t} catch (e) {\n\t\t\t\tthis._logger.error('Failed to connect to WebSocket...', { e });\n\t\t\t\tthrow new Error('Failed to connect to WebSocket...');\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Closes a websocket connection.\n\t */\n\tdisconnectWebSocket() {\n\t\tif (this.ws) {\n\t\t\tthis.ws.close();\n\t\t}\n\t}\n\n\tget webSocketConnection() {\n\t\treturn this.ws;\n\t}\n\n\tasync handleBlindAuth(path: string) {\n\t\tif (!this._checkNut22) {\n\t\t\treturn;\n\t\t}\n\t\tconst info = await this.getLazyMintInfo();\n\t\tif (info.requiresBlindAuthToken(path)) {\n\t\t\tif (!this._authTokenGetter) {\n\t\t\t\tthrow new Error('Can not call a protected endpoint without authProofGetter');\n\t\t\t}\n\t\t\treturn this._authTokenGetter();\n\t\t}\n\t\treturn undefined;\n\t}\n}\n\nexport { CashuMint };\n","import { type SerializedBlindedMessage } from './types/index';\nimport { type ProjPointType } from '@noble/curves/abstract/weierstrass';\n\nclass BlindedMessage {\n\tamount: number;\n\tB_: ProjPointType<bigint>;\n\tid: string;\n\tconstructor(amount: number, B_: ProjPointType<bigint>, id: string) {\n\t\tthis.amount = amount;\n\t\tthis.B_ = B_;\n\t\tthis.id = id;\n\t}\n\tgetSerializedBlindedMessage(): SerializedBlindedMessage {\n\t\treturn { amount: this.amount, B_: this.B_.toHex(true), id: this.id };\n\t}\n}\nexport { BlindedMessage };\n","import {\n\ttype MintKeys,\n\ttype Proof,\n\ttype SerializedBlindedMessage,\n\ttype SerializedBlindedSignature,\n\ttype SerializedDLEQ,\n} from './types';\nimport { blindMessage, constructProofFromPromise, serializeProof } from '../crypto/client/index';\nimport { BlindedMessage } from './BlindedMessage';\nimport { bytesToHex, hexToBytes, randomBytes } from '@noble/hashes/utils';\nimport { type DLEQ, pointFromHex } from '../crypto/common/index';\nimport { bytesToNumber, numberToHexPadded64, splitAmount } from '../utils';\nimport { deriveBlindingFactor, deriveSecret } from '../crypto/client/NUT09';\n\nexport interface OutputDataLike {\n\tblindedMessage: SerializedBlindedMessage;\n\tblindingFactor: bigint;\n\tsecret: Uint8Array;\n\n\ttoProof: (signature: SerializedBlindedSignature, keyset: MintKeys) => Proof;\n}\n\nexport type OutputDataFactory = (amount: number, keys: MintKeys) => OutputDataLike;\n\nexport function isOutputDataFactory(\n\tvalue: OutputData[] | OutputDataFactory,\n): value is OutputDataFactory {\n\treturn typeof value === 'function';\n}\n\nconst RESERVED_P2PK_TAGS = new Set(['locktime', 'pubkeys', 'n_sigs', 'refund', 'n_sigs_refund']);\nconst MAX_SECRET_LENGTH = 1024;\n\nexport class OutputData implements OutputDataLike {\n\tblindedMessage: SerializedBlindedMessage;\n\tblindingFactor: bigint;\n\tsecret: Uint8Array;\n\n\tconstructor(blindedMessage: SerializedBlindedMessage, blidingFactor: bigint, secret: Uint8Array) {\n\t\tthis.secret = secret;\n\t\tthis.blindingFactor = blidingFactor;\n\t\tthis.blindedMessage = blindedMessage;\n\t}\n\n\ttoProof(sig: SerializedBlindedSignature, keyset: MintKeys) {\n\t\tlet dleq: DLEQ | undefined;\n\t\tif (sig.dleq) {\n\t\t\tdleq = {\n\t\t\t\ts: hexToBytes(sig.dleq.s),\n\t\t\t\te: hexToBytes(sig.dleq.e),\n\t\t\t\tr: this.blindingFactor,\n\t\t\t};\n\t\t}\n\t\tconst blindSignature = {\n\t\t\tid: sig.id,\n\t\t\tamount: sig.amount,\n\t\t\tC_: pointFromHex(sig.C_),\n\t\t\tdleq: dleq,\n\t\t};\n\t\tconst A = pointFromHex(keyset.keys[sig.amount]);\n\t\tconst proof = constructProofFromPromise(blindSignature, this.blindingFactor, this.secret, A);\n\t\tconst serializedProof = {\n\t\t\t...serializeProof(proof),\n\t\t\t...(dleq && {\n\t\t\t\tdleq: {\n\t\t\t\t\ts: bytesToHex(dleq.s),\n\t\t\t\t\te: bytesToHex(dleq.e),\n\t\t\t\t\tr: numberToHexPadded64(dleq.r ?? BigInt(0)),\n\t\t\t\t} as SerializedDLEQ,\n\t\t\t}),\n\t\t} as Proof;\n\t\treturn serializedProof;\n\t}\n\n\tstatic createP2PKData(\n\t\tp2pk: {\n\t\t\tpubkey: string | string[];\n\t\t\tlocktime?: number;\n\t\t\trefundKeys?: string[];\n\t\t\trequiredSignatures?: number;\n\t\t\trequiredRefundSignatures?: number;\n\t\t\tadditionalTags?: Array<[key: string, ...values: string[]]>;\n\t\t},\n\t\tamount: number,\n\t\tkeyset: MintKeys,\n\t\tcustomSplit?: number[],\n\t) {\n\t\tconst amounts = splitAmount(amount, keyset.keys, customSplit);\n\t\treturn amounts.map((a) => this.createSingleP2PKData(p2pk, a, keyset.id));\n\t}\n\n\tstatic createSingleP2PKData(\n\t\tp2pk: {\n\t\t\tpubkey: string | string[];\n\t\t\tlocktime?: number;\n\t\t\trefundKeys?: string[];\n\t\t\trequiredSignatures?: number;\n\t\t\trequiredRefundSignatures?: number;\n\t\t\tadditionalTags?: Array<[key: string, ...values: string[]]>;\n\t\t},\n\t\tamount: number,\n\t\tkeysetId: string,\n\t) {\n\t\t// normalise keys and clamp required signature counts to available keys\n\t\tconst lockKeys: string[] = Array.isArray(p2pk.pubkey) ? p2pk.pubkey : [p2pk.pubkey];\n\t\tconst refundKeys: string[] = p2pk.refundKeys ?? [];\n\t\tconst reqLock = Math.max(1, Math.min(p2pk.requiredSignatures ?? 1, lockKeys.length));\n\t\tconst reqRefund = Math.max(\n\t\t\t1,\n\t\t\tMath.min(p2pk.requiredRefundSignatures ?? 1, refundKeys.length || 1),\n\t\t);\n\n\t\t// Init vars\n\t\tconst data = lockKeys[0];\n\t\tconst pubkeys = lockKeys.slice(1);\n\t\tconst refund = refundKeys;\n\n\t\t// build P2PK Tags (NUT-11)\n\t\tconst tags: string[][] = [];\n\n\t\tconst ts = p2pk.locktime ?? NaN;\n\t\tif (Number.isSafeInteger(ts) && ts >= 0) {\n\t\t\ttags.push(['locktime', String(ts)]);\n\t\t}\n\n\t\tif (pubkeys.length > 0) {\n\t\t\ttags.push(['pubkeys', ...pubkeys]);\n\t\t\tif (reqLock > 1) {\n\t\t\t\ttags.push(['n_sigs', String(reqLock)]);\n\t\t\t}\n\t\t}\n\n\t\tif (refund.length > 0) {\n\t\t\ttags.push(['refund', ...refund]);\n\t\t\tif (reqRefund > 1) {\n\t\t\t\ttags.push(['n_sigs_refund', String(reqRefund)]);\n\t\t\t}\n\t\t}\n\n\t\t// Append additional tags if any\n\t\tif (p2pk.additionalTags?.length) {\n\t\t\tconst normalized = p2pk.additionalTags.map(([k, ...vals], i) => {\n\t\t\t\tif (typeof k !== 'string' || !k) {\n\t\t\t\t\tthrow new Error(`additionalTags[${i}][0] must be a non empty string`);\n\t\t\t\t}\n\t\t\t\tif (RESERVED_P2PK_TAGS.has(k)) {\n\t\t\t\t\tthrow new Error(`additionalTags must not use reserved key \"${k}\"`);\n\t\t\t\t}\n\t\t\t\treturn [k, ...vals.map(String)]; // all to strings\n\t\t\t});\n\t\t\ttags.push(...normalized);\n\t\t}\n\n\t\t// Construct secret\n\t\tconst newSecret: [string, { nonce: string; data: string; tags: string[][] }] = [\n\t\t\t'P2PK',\n\t\t\t{\n\t\t\t\tnonce: bytesToHex(randomBytes(32)),\n\t\t\t\tdata: data,\n\t\t\t\ttags,\n\t\t\t},\n\t\t];\n\t\tconst parsed = JSON.stringify(newSecret);\n\n\t\t// Check secret length, counting Unicode code points\n\t\t// Same semantics as Nutshell python: len(str)\n\t\tconst charCount = [...parsed].length;\n\t\tif (charCount > MAX_SECRET_LENGTH) {\n\t\t\tthrow new Error(`Secret too long (${charCount} characters), maximum is ${MAX_SECRET_LENGTH}`);\n\t\t}\n\t\t// blind the message\n\t\tconst secretBytes = new TextEncoder().encode(parsed);\n\t\tconst { r, B_ } = blindMessage(secretBytes);\n\n\t\t// create OutputData\n\t\treturn new OutputData(\n\t\t\tnew BlindedMessage(amount, B_, keysetId).getSerializedBlindedMessage(),\n\t\t\tr,\n\t\t\tsecretBytes,\n\t\t);\n\t}\n\n\tstatic createRandomData(amount: number, keyset: MintKeys, customSplit?: number[]) {\n\t\tconst amounts = splitAmount(amount, keyset.keys, customSplit);\n\t\treturn amounts.map((a) => this.createSingleRandomData(a, keyset.id));\n\t}\n\n\tstatic createSingleRandomData(amount: number, keysetId: string) {\n\t\tconst randomHex = bytesToHex(randomBytes(32));\n\t\tconst secretBytes = new TextEncoder().encode(randomHex);\n\t\tconst { r, B_ } = blindMessage(secretBytes);\n\t\treturn new OutputData(\n\t\t\tnew BlindedMessage(amount, B_, keysetId).getSerializedBlindedMessage(),\n\t\t\tr,\n\t\t\tsecretBytes,\n\t\t);\n\t}\n\n\tstatic createDeterministicData(\n\t\tamount: number,\n\t\tseed: Uint8Array,\n\t\tcounter: number,\n\t\tkeyset: MintKeys,\n\t\tcustomSplit?: number[],\n\t): OutputData[] {\n\t\tconst amounts = splitAmount(amount, keyset.keys, customSplit);\n\t\treturn amounts.map((a, i) =>\n\t\t\tthis.createSingleDeterministicData(a, seed, counter + i, keyset.id),\n\t\t);\n\t}\n\n\tstatic createSingleDeterministicData(\n\t\tamount: number,\n\t\tseed: Uint8Array,\n\t\tcounter: number,\n\t\tkeysetId: string,\n\t) {\n\t\tconst secretBytes = deriveSecret(seed, keysetId, counter);\n\t\tconst secretBytesAsHex = bytesToHex(secretBytes);\n\t\tconst utf8SecretBytes = new TextEncoder().encode(secretBytesAsHex);\n\t\tconst deterministicR = bytesToNumber(deriveBlindingFactor(seed, keysetId, counter));\n\t\tconst { r, B_ } = blindMessage(utf8SecretBytes, deterministicR);\n\t\treturn new OutputData(\n\t\t\tnew BlindedMessage(amount, B_, keysetId).getSerializedBlindedMessage(),\n\t\t\tr,\n\t\t\tutf8SecretBytes,\n\t\t);\n\t}\n}\n","import { signP2PKProofs } from './crypto/client/NUT11';\nimport { hashToCurve } from './crypto/common/index';\nimport { type CashuMint } from './CashuMint';\nimport { MintInfo } from './model/MintInfo';\nimport { type Logger, NULL_LOGGER, measureTime } from './logger';\nimport type {\n\tGetInfoResponse,\n\tMeltProofOptions,\n\tMintProofOptions,\n\tMintQuoteResponse,\n\tOutputAmounts,\n\tProofState,\n\tReceiveOptions,\n\tRestoreOptions,\n\tSendOptions,\n\tSerializedBlindedSignature,\n\tSwapOptions,\n\tMeltPayload,\n\tMeltProofsResponse,\n\tMeltQuotePayload,\n\tMeltQuoteResponse,\n\tMintKeys,\n\tMintKeyset,\n\tMintPayload,\n\tMintQuotePayload,\n\tProof,\n\tSendResponse,\n\tToken,\n\tMPPOption,\n\tMeltQuoteOptions,\n\tSwapTransaction,\n\tLockedMintQuoteResponse,\n\tPartialMintQuoteResponse,\n\tPartialMeltQuoteResponse,\n\tBolt12MintQuotePayload,\n\tBolt12MintQuoteResponse,\n\tBolt12MeltQuoteResponse,\n} from './model/types/index';\nimport { MintQuoteState, MeltQuoteState } from './model/types/index';\nimport { type SubscriptionCanceller } from './model/types/wallet/websocket';\nimport {\n\tgetDecodedToken,\n\tgetKeepAmounts,\n\thasValidDleq,\n\tisValidHex,\n\tsplitAmount,\n\tstripDleq,\n\tsumProofs,\n\tverifyKeysetId,\n} from './utils';\nimport { signMintQuote } from './crypto/client/NUT20';\nimport {\n\tOutputData,\n\ttype OutputDataFactory,\n\ttype OutputDataLike,\n\tisOutputDataFactory,\n} from './model/OutputData';\n\n/**\n * The default number of proofs per denomination to keep in a wallet.\n */\nconst DEFAULT_DENOMINATION_TARGET = 3;\n\n/**\n * The default unit for the wallet, if not specified in constructor.\n */\nconst DEFAULT_UNIT = 'sat';\n\n/**\n * Class that represents a Cashu wallet. This class should act as the entry point for this library.\n */\nclass CashuWallet {\n\tprivate _keys: Map<string, MintKeys> = new Map();\n\tprivate _keysetId: string | undefined;\n\tprivate _keysets: MintKeyset[] = [];\n\tprivate _seed: Uint8Array | undefined = undefined;\n\tprivate _unit = DEFAULT_UNIT;\n\tprivate _mintInfo: MintInfo | undefined = undefined;\n\tprivate _denominationTarget = DEFAULT_DENOMINATION_TARGET;\n\tprivate _keepFactory: OutputDataFactory | undefined;\n\tprivate _logger: Logger;\n\n\tmint: CashuMint;\n\n\t/**\n\t * @param mint Cashu mint instance is used to make api calls.\n\t * @param options.unit Optionally set unit (default is 'sat')\n\t * @param options.keys Public keys from the mint (will be fetched from mint if not provided)\n\t * @param options.keysets Keysets from the mint (will be fetched from mint if not provided)\n\t * @param options.mintInfo Mint info from the mint (will be fetched from mint if not provided)\n\t * @param options.denominationTarget Target number proofs per denomination (default: see @constant\n\t *   DEFAULT_DENOMINATION_TARGET)\n\t * @param options.bip39seed BIP39 seed for deterministic secrets.\n\t * @param options.keepFactory A function that will be used by all parts of the library that\n\t *   produce proofs to be kept (change, etc.). This can lead to poor performance, in which case\n\t *   the seed should be directly provided.\n\t */\n\tconstructor(\n\t\tmint: CashuMint,\n\t\toptions?: {\n\t\t\tunit?: string;\n\t\t\tkeys?: MintKeys[] | MintKeys;\n\t\t\tkeysets?: MintKeyset[];\n\t\t\tmintInfo?: GetInfoResponse;\n\t\t\tbip39seed?: Uint8Array;\n\t\t\tdenominationTarget?: number;\n\t\t\tkeepFactory?: OutputDataFactory;\n\t\t\tlogger?: Logger;\n\t\t},\n\t) {\n\t\tthis.mint = mint;\n\t\tthis._logger = options?.logger ?? NULL_LOGGER;\n\n\t\t// When we decide to stop v2 support we should push the warming to console.\n\t\t// Inform consumers that there is a new v3 and they should upgrade.\n\t\t// Keep this log lightweight and safe to run in browser and node environments\n\t\t// if (typeof console !== 'undefined' && typeof console.warn === 'function') {\n\t\t// \tconsole.warn(\n\t\t// \t\t'cashu-ts v3 has been released. Please upgrade to access the latest features. v2 is now in minimal maintenance mode.',\n\t\t// \t);\n\t\t// }\n\t\tthis._logger.warn(\n\t\t\t'cashu-ts v3 has been released. Please upgrade to access the latest features. v2 is now in minimal maintenance mode.',\n\t\t);\n\t\tlet keys: MintKeys[] = [];\n\t\tif (options?.keys && !Array.isArray(options.keys)) {\n\t\t\tkeys = [options.keys];\n\t\t} else if (options?.keys && Array.isArray(options?.keys)) {\n\t\t\tkeys = options?.keys;\n\t\t}\n\t\tif (keys) keys.forEach((key: MintKeys) => this._keys.set(key.id, key));\n\t\tif (options?.unit) this._unit = options?.unit;\n\t\tif (options?.keysets) this._keysets = options.keysets;\n\t\tif (options?.mintInfo) this._mintInfo = new MintInfo(options.mintInfo);\n\t\tif (options?.denominationTarget) {\n\t\t\tthis._denominationTarget = options.denominationTarget;\n\t\t}\n\n\t\tif (options?.bip39seed) {\n\t\t\tif (options.bip39seed instanceof Uint8Array) {\n\t\t\t\tthis._seed = options.bip39seed;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthrow new Error('bip39seed must be a valid UInt8Array');\n\t\t}\n\t\tif (options?.keepFactory) {\n\t\t\tthis._keepFactory = options.keepFactory;\n\t\t}\n\t}\n\n\tget unit(): string {\n\t\treturn this._unit;\n\t}\n\tget keys(): Map<string, MintKeys> {\n\t\treturn this._keys;\n\t}\n\tget keysetId(): string {\n\t\tif (!this._keysetId) {\n\t\t\tthrow new Error('No keysetId set');\n\t\t}\n\t\treturn this._keysetId;\n\t}\n\tset keysetId(keysetId: string) {\n\t\tthis._keysetId = keysetId;\n\t}\n\tget keysets(): MintKeyset[] {\n\t\treturn this._keysets;\n\t}\n\tget mintInfo(): MintInfo {\n\t\tif (!this._mintInfo) {\n\t\t\tthrow new Error('Mint info not loaded');\n\t\t}\n\t\treturn this._mintInfo;\n\t}\n\n\t/**\n\t * Get information about the mint.\n\t *\n\t * @returns Mint info.\n\t */\n\tasync getMintInfo(): Promise<MintInfo> {\n\t\tconst infoRes = await this.mint.getInfo();\n\t\tthis._mintInfo = new MintInfo(infoRes);\n\t\treturn this._mintInfo;\n\t}\n\n\t/**\n\t * Get stored information about the mint or request it if not loaded.\n\t *\n\t * @returns Mint info.\n\t */\n\tasync lazyGetMintInfo(): Promise<MintInfo> {\n\t\tif (!this._mintInfo) {\n\t\t\treturn await this.getMintInfo();\n\t\t}\n\t\treturn this._mintInfo;\n\t}\n\n\t/**\n\t * Load mint information, keysets and keys. This function can be called if no keysets are passed\n\t * in the constructor.\n\t */\n\tasync loadMint() {\n\t\tawait Promise.all([\n\t\t\tthis.getMintInfo(),\n\t\t\tthis.getKeys(), // NB: also runs getKeySets()\n\t\t]);\n\t}\n\n\t/**\n\t * Choose a keyset to activate based on the lowest input fee.\n\t *\n\t * Note: this function will filter out deprecated base64 keysets.\n\t *\n\t * @param keysets Keysets to choose from.\n\t * @returns Active keyset.\n\t */\n\tgetActiveKeyset(keysets: MintKeyset[]): MintKeyset {\n\t\tlet activeKeysets = keysets.filter((k: MintKeyset) => k.active && k.unit === this._unit);\n\n\t\t// Only consider keysets that are hex\n\t\tactiveKeysets = activeKeysets.filter((k: MintKeyset) => isValidHex(k.id));\n\n\t\tconst activeKeyset = activeKeysets.sort(\n\t\t\t(a: MintKeyset, b: MintKeyset) => (a.input_fee_ppk ?? 0) - (b.input_fee_ppk ?? 0),\n\t\t)[0];\n\t\tif (!activeKeyset) {\n\t\t\tthrow new Error('No active keyset found');\n\t\t}\n\t\treturn activeKeyset;\n\t}\n\n\t/**\n\t * Get keysets from the mint with the unit of the wallet.\n\t *\n\t * @returns Keysets with wallet's unit.\n\t */\n\tasync getKeySets(): Promise<MintKeyset[]> {\n\t\tconst allKeysets = await this.mint.getKeySets();\n\t\tconst unitKeysets = allKeysets.keysets.filter((k: MintKeyset) => k.unit === this._unit);\n\t\tthis._keysets = unitKeysets;\n\t\treturn this._keysets;\n\t}\n\n\t/**\n\t * Get all active keys from the mint and set the keyset with the lowest fees as the active wallet\n\t * keyset.\n\t *\n\t * @returns Keyset.\n\t */\n\tasync getAllKeys(): Promise<MintKeys[]> {\n\t\tconst keysets = await this.mint.getKeys();\n\t\tkeysets.keysets.forEach((k) => {\n\t\t\tif (!verifyKeysetId(k)) {\n\t\t\t\tthrow new Error(`Couldn't verify keyset ID ${k.id}`);\n\t\t\t}\n\t\t});\n\t\tthis._keys = new Map(keysets.keysets.map((k: MintKeys) => [k.id, k]));\n\t\tthis.keysetId = this.getActiveKeyset(this._keysets).id;\n\t\treturn keysets.keysets;\n\t}\n\n\t/**\n\t * Get public keys from the mint. If keys were already fetched, it will return those.\n\t *\n\t * If `keysetId` is set, it will fetch and return that specific keyset. Otherwise, we select an\n\t * active keyset with the unit of the wallet.\n\t *\n\t * @param keysetId Optional keysetId to get keys for.\n\t * @param forceRefresh? If set to true, it will force refresh the keyset from the mint.\n\t * @returns Keyset.\n\t */\n\tasync getKeys(keysetId?: string, forceRefresh?: boolean): Promise<MintKeys> {\n\t\tif (!(this._keysets.length > 0) || forceRefresh) {\n\t\t\tawait this.getKeySets();\n\t\t}\n\t\t// no keyset id is chosen, let's choose one\n\t\tif (!keysetId) {\n\t\t\tconst localKeyset = this.getActiveKeyset(this._keysets);\n\t\t\tkeysetId = localKeyset.id;\n\t\t}\n\t\t// make sure we have keyset for this id\n\t\tif (!this._keysets.find((k: MintKeyset) => k.id === keysetId)) {\n\t\t\tawait this.getKeySets();\n\t\t\tif (!this._keysets.find((k: MintKeyset) => k.id === keysetId)) {\n\t\t\t\tthrow new Error(`could not initialize keys. No keyset with id '${keysetId}' found`);\n\t\t\t}\n\t\t}\n\n\t\t// make sure we have keys for this id\n\t\tif (!this._keys.get(keysetId)) {\n\t\t\tconst keys = await this.mint.getKeys(keysetId);\n\t\t\tif (!verifyKeysetId(keys.keysets[0])) {\n\t\t\t\tthrow new Error(`Couldn't verify keyset ID ${keys.keysets[0].id}`);\n\t\t\t}\n\t\t\tthis._keys.set(keysetId, keys.keysets[0]);\n\t\t}\n\n\t\t// set and return\n\t\tthis.keysetId = keysetId;\n\t\treturn this._keys.get(keysetId) as MintKeys;\n\t}\n\n\t/**\n\t * Receive an encoded or raw Cashu token (only supports single tokens. It will only process the\n\t * first token in the token array)\n\t *\n\t * @param {string | Token} token - Cashu token, either as string or decoded.\n\t * @param {ReceiveOptions} [options] - Optional configuration for token processing.\n\t * @returns New token with newly created proofs, token entries that had errors.\n\t */\n\tasync receive(token: string | Token, options?: ReceiveOptions): Promise<Proof[]> {\n\t\tconst { requireDleq, keysetId, outputAmounts, counter, pubkey, privkey, outputData, p2pk } =\n\t\t\toptions || {};\n\n\t\t// Fetch the keysets if we don't have them\n\t\tif (this._keysets.length === 0) {\n\t\t\tawait this.getKeySets();\n\t\t}\n\t\tif (typeof token === 'string') {\n\t\t\ttoken = getDecodedToken(token, this._keysets);\n\t\t}\n\t\tconst keys = await this.getKeys(keysetId);\n\t\tif (requireDleq) {\n\t\t\tif (token.proofs.some((p: Proof) => !hasValidDleq(p, keys))) {\n\t\t\t\tthrow new Error('Token contains proofs with invalid DLEQ');\n\t\t\t}\n\t\t}\n\t\tconst amount = sumProofs(token.proofs) - this.getFeesForProofs(token.proofs);\n\t\tlet newOutputData: { send: OutputDataLike[] | OutputDataFactory } | undefined = undefined;\n\t\tif (outputData) {\n\t\t\tnewOutputData = { send: outputData };\n\t\t} else if (this._keepFactory) {\n\t\t\tnewOutputData = { send: this._keepFactory };\n\t\t}\n\t\tconst swapTransaction = this.createSwapPayload(\n\t\t\tamount,\n\t\t\ttoken.proofs,\n\t\t\tkeys,\n\t\t\toutputAmounts,\n\t\t\tcounter,\n\t\t\tpubkey,\n\t\t\tprivkey,\n\t\t\tnewOutputData,\n\t\t\tp2pk,\n\t\t);\n\t\tconst { signatures } = await this.mint.swap(swapTransaction.payload);\n\t\tconst proofs = swapTransaction.outputData.map((d, i) => d.toProof(signatures[i], keys));\n\t\tconst orderedProofs: Proof[] = [];\n\t\tswapTransaction.sortedIndices.forEach((s, o) => {\n\t\t\torderedProofs[s] = proofs[o];\n\t\t});\n\t\treturn orderedProofs;\n\t}\n\n\t/**\n\t * Send proofs of a given amount, by providing at least the required amount of proofs.\n\t *\n\t * @param amount Amount to send.\n\t * @param proofs Array of proofs (accumulated amount of proofs must be >= than amount)\n\t * @param {SendOptions} [options] - Optional parameters for configuring the send operation.\n\t * @returns {SendResponse}\n\t */\n\tasync send(amount: number, proofs: Proof[], options?: SendOptions): Promise<SendResponse> {\n\t\tconst {\n\t\t\toffline,\n\t\t\tincludeFees,\n\t\t\tincludeDleq,\n\t\t\tkeysetId,\n\t\t\toutputAmounts,\n\t\t\tpubkey,\n\t\t\tprivkey,\n\t\t\toutputData,\n\t\t} = options || {};\n\t\tif (includeDleq) {\n\t\t\tproofs = proofs.filter((p: Proof) => p.dleq != undefined);\n\t\t}\n\t\tif (sumProofs(proofs) < amount) {\n\t\t\tthrow new Error('Not enough funds available to send');\n\t\t}\n\t\tconst { keep: keepProofsOffline, send: sendProofOffline } = this.selectProofsToSend(\n\t\t\tproofs,\n\t\t\tamount,\n\t\t\toptions?.includeFees,\n\t\t);\n\t\tconst expectedFee = includeFees ? this.getFeesForProofs(sendProofOffline) : 0;\n\t\tif (\n\t\t\t!offline &&\n\t\t\t(sumProofs(sendProofOffline) != amount + expectedFee || // if the exact amount cannot be selected\n\t\t\t\toutputAmounts ||\n\t\t\t\tpubkey ||\n\t\t\t\tprivkey ||\n\t\t\t\tkeysetId ||\n\t\t\t\toutputData) // these options require a swap\n\t\t) {\n\t\t\tconst sendRes = await this.swap(amount, proofs, options);\n\t\t\tconst { keep, send } = sendRes;\n\t\t\tconst serialized = sendRes.serialized;\n\n\t\t\treturn { keep, send, serialized };\n\t\t}\n\n\t\tif (sumProofs(sendProofOffline) < amount + expectedFee) {\n\t\t\tthrow new Error('Not enough funds available to send');\n\t\t}\n\n\t\treturn { keep: keepProofsOffline, send: sendProofOffline };\n\t}\n\n\t/**\n\t * Selects proofs to send based on amount and fee inclusion.\n\t *\n\t * @remarks\n\t * Uses an adapted Randomized Greedy with Local Improvement (RGLI) algorithm, which has a time\n\t * complexity O(n log n) and space complexity O(n).\n\t * @param proofs Array of Proof objects available to select from.\n\t * @param amountToSend The target amount to send.\n\t * @param includeFees Optional boolean to include fees; Default: false.\n\t * @returns SendResponse containing proofs to keep and proofs to send.\n\t * @see https://crypto.ethz.ch/publications/files/Przyda02.pdf\n\t */\n\tselectProofsToSend(proofs: Proof[], amountToSend: number, includeFees = false): SendResponse {\n\t\t// Init vars\n\t\tconst MAX_TRIALS = 60; // 40-80 is optimal (per RGLI paper)\n\t\tconst MAX_OVRPCT = 0; // Acceptable close match overage (percent)\n\t\tconst MAX_OVRAMT = 0; // Acceptable close match overage (absolute)\n\t\tconst MAX_TIMEMS = 1000; // Halt new trials if over time (in ms)\n\t\tconst MAX_P2SWAP = 5000; // Max number of Phase 2 improvement swaps\n\t\tconst exactMatch = false; // Allows close match (> amountToSend + fee)\n\t\tconst timer = measureTime(); // start the clock\n\t\tlet bestSubset: ProofWithFee[] | null = null;\n\t\tlet bestDelta = Infinity;\n\t\tlet bestAmount = 0;\n\t\tlet bestFeePPK = 0;\n\n\t\t/**\n\t\t * Helper Functions.\n\t\t */\n\t\tinterface ProofWithFee {\n\t\t\tproof: Proof;\n\t\t\texFee: number;\n\t\t\tppkfee: number;\n\t\t}\n\t\t// Calculate net amount after fees\n\t\tconst sumExFees = (amount: number, feePPK: number): number => {\n\t\t\treturn amount - (includeFees ? Math.ceil(feePPK / 1000) : 0);\n\t\t};\n\t\t// Shuffle array for randomization\n\t\tconst shuffleArray = <T>(array: T[]): T[] => {\n\t\t\tconst shuffled = [...array];\n\t\t\tfor (let i = shuffled.length - 1; i > 0; i--) {\n\t\t\t\tconst j = Math.floor(Math.random() * (i + 1));\n\t\t\t\t[shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n\t\t\t}\n\t\t\treturn shuffled;\n\t\t};\n\t\t// Performs a binary search on a sorted (ascending) array of ProofWithFee objects by exFee.\n\t\t// If lessOrEqual=true, returns the rightmost index where exFee <= value\n\t\t// If lessOrEqual=false, returns the leftmost index where exFee >= value\n\t\tconst binarySearchIndex = (\n\t\t\tarr: ProofWithFee[],\n\t\t\tvalue: number,\n\t\t\tlessOrEqual: boolean,\n\t\t): number | null => {\n\t\t\tlet left = 0,\n\t\t\t\tright = arr.length - 1,\n\t\t\t\tresult: number | null = null;\n\t\t\twhile (left <= right) {\n\t\t\t\tconst mid = Math.floor((left + right) / 2);\n\t\t\t\tconst midValue = arr[mid].exFee;\n\t\t\t\tif (lessOrEqual ? midValue <= value : midValue >= value) {\n\t\t\t\t\tresult = mid;\n\t\t\t\t\tif (lessOrEqual) left = mid + 1;\n\t\t\t\t\telse right = mid - 1;\n\t\t\t\t} else {\n\t\t\t\t\tif (lessOrEqual) right = mid - 1;\n\t\t\t\t\telse left = mid + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lessOrEqual ? result : left < arr.length ? left : null;\n\t\t};\n\t\t// Insert into array of ProofWithFee objects sorted by exFee\n\t\tconst insertSorted = (arr: ProofWithFee[], obj: ProofWithFee): void => {\n\t\t\tconst value = obj.exFee;\n\t\t\tlet left = 0,\n\t\t\t\tright = arr.length;\n\t\t\twhile (left < right) {\n\t\t\t\tconst mid = Math.floor((left + right) / 2);\n\t\t\t\tif (arr[mid].exFee < value) left = mid + 1;\n\t\t\t\telse right = mid;\n\t\t\t}\n\t\t\tarr.splice(left, 0, obj);\n\t\t};\n\t\t// \"Delta\" is the excess over amountToSend including fees\n\t\t// plus a tiebreaker to favour lower PPK keysets\n\t\t// NB: Solutions under amountToSend are invalid (delta: Infinity)\n\t\tconst calculateDelta = (amount: number, feePPK: number): number => {\n\t\t\tconst netSum = sumExFees(amount, feePPK);\n\t\t\tif (netSum < amountToSend) return Infinity; // no good\n\t\t\treturn amount + feePPK / 1000 - amountToSend;\n\t\t};\n\n\t\t/**\n\t\t * Pre-processing.\n\t\t */\n\t\tlet totalAmount = 0;\n\t\tlet totalFeePPK = 0;\n\t\tconst proofWithFees = proofs.map((p) => {\n\t\t\tconst ppkfee = this.getProofFeePPK(p);\n\t\t\tconst exFee = includeFees ? p.amount - ppkfee / 1000 : p.amount;\n\t\t\tconst obj = { proof: p, exFee, ppkfee };\n\t\t\t// Sum all economical proofs (filtered below)\n\t\t\tif (!includeFees || exFee > 0) {\n\t\t\t\ttotalAmount += p.amount;\n\t\t\t\ttotalFeePPK += ppkfee;\n\t\t\t}\n\t\t\treturn obj;\n\t\t});\n\n\t\t// Filter uneconomical proofs (totals computed above)\n\t\tlet spendableProofs = includeFees\n\t\t\t? proofWithFees.filter((obj) => obj.exFee > 0)\n\t\t\t: proofWithFees;\n\n\t\t// Sort by exFee ascending\n\t\tspendableProofs.sort((a, b) => a.exFee - b.exFee);\n\n\t\t// Remove proofs too large to be useful and adjust totals\n\t\t// Exact Match: Keep proofs where exFee <= amountToSend\n\t\t// Close Match: Keep proofs where exFee <= nextBiggerExFee\n\t\tif (spendableProofs.length > 0) {\n\t\t\tlet endIndex;\n\t\t\tif (exactMatch) {\n\t\t\t\tconst rightIndex = binarySearchIndex(spendableProofs, amountToSend, true);\n\t\t\t\tendIndex = rightIndex !== null ? rightIndex + 1 : 0;\n\t\t\t} else {\n\t\t\t\tconst biggerIndex = binarySearchIndex(spendableProofs, amountToSend, false);\n\t\t\t\tif (biggerIndex !== null) {\n\t\t\t\t\tconst nextBiggerExFee = spendableProofs[biggerIndex].exFee;\n\t\t\t\t\tconst rightIndex = binarySearchIndex(spendableProofs, nextBiggerExFee, true);\n\t\t\t\t\tif (rightIndex === null) {\n\t\t\t\t\t\tthrow new Error('Unexpected null rightIndex in binary search');\n\t\t\t\t\t}\n\t\t\t\t\tendIndex = rightIndex + 1;\n\t\t\t\t} else {\n\t\t\t\t\t// Keep all proofs if all exFee < amountToSend\n\t\t\t\t\tendIndex = spendableProofs.length;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Adjust totals for removed proofs\n\t\t\tfor (let i = endIndex; i < spendableProofs.length; i++) {\n\t\t\t\ttotalAmount -= spendableProofs[i].proof.amount;\n\t\t\t\ttotalFeePPK -= spendableProofs[i].ppkfee;\n\t\t\t}\n\t\t\tspendableProofs = spendableProofs.slice(0, endIndex);\n\t\t}\n\n\t\t// Validate using precomputed totals\n\t\tconst totalNetSum = sumExFees(totalAmount, totalFeePPK);\n\t\tif (amountToSend <= 0 || amountToSend > totalNetSum) {\n\t\t\treturn { keep: proofs, send: [] };\n\t\t}\n\n\t\t// Max acceptable amount for non-exact matches\n\t\tconst maxOverAmount = Math.min(\n\t\t\tMath.ceil(amountToSend * (1 + MAX_OVRPCT / 100)),\n\t\t\tamountToSend + MAX_OVRAMT,\n\t\t\ttotalNetSum,\n\t\t);\n\n\t\t/**\n\t\t * RGLI algorithm: Runs multiple trials (up to MAX_TRIALS) Each trial starts with randomized\n\t\t * greedy subset (S) and then tries to improve that subset to get a valid solution. NOTE: Fees\n\t\t * are dynamic, based on number of proofs (PPK), so we perform all calculations based on net\n\t\t * amounts.\n\t\t */\n\t\tfor (let trial = 0; trial < MAX_TRIALS; trial++) {\n\t\t\t// PHASE 1: Randomized Greedy Selection\n\t\t\t// Add proofs up to amountToSend (after adjusting for fees)\n\t\t\t// for exact match or the first amount over target otherwise\n\t\t\tconst S: ProofWithFee[] = [];\n\t\t\tlet amount = 0;\n\t\t\tlet feePPK = 0;\n\t\t\tfor (const obj of shuffleArray(spendableProofs)) {\n\t\t\t\tconst newAmount = amount + obj.proof.amount;\n\t\t\t\tconst newFeePPK = feePPK + obj.ppkfee;\n\t\t\t\tconst netSum = sumExFees(newAmount, newFeePPK);\n\t\t\t\tif (exactMatch && netSum > amountToSend) break;\n\t\t\t\tS.push(obj);\n\t\t\t\tamount = newAmount;\n\t\t\t\tfeePPK = newFeePPK;\n\t\t\t\tif (netSum >= amountToSend) break;\n\t\t\t}\n\n\t\t\t// PHASE 2: Local Improvement\n\t\t\t// Examine all the amounts found in the first phase, and find the\n\t\t\t// amount not in the current solution (others), which would get us\n\t\t\t// closest to the amountToSend.\n\n\t\t\t// Calculate the \"others\" array (note: spendableProofs is sorted ASC)\n\t\t\t// Using set.has() for filtering gives faster lookups: O(n+m)\n\t\t\t// Using array.includes() would be way slower: O(n*m)\n\t\t\tconst SSet = new Set(S);\n\t\t\tconst others = spendableProofs.filter((obj) => !SSet.has(obj));\n\t\t\t// Generate a random order for accessing the trial subset ('S')\n\t\t\tconst indices = shuffleArray(Array.from({ length: S.length }, (_, i) => i)).slice(\n\t\t\t\t0,\n\t\t\t\tMAX_P2SWAP,\n\t\t\t);\n\t\t\tfor (const i of indices) {\n\t\t\t\t// Exact or acceptable close match solution found?\n\t\t\t\tconst netSum = sumExFees(amount, feePPK);\n\t\t\t\tif (\n\t\t\t\t\tnetSum === amountToSend ||\n\t\t\t\t\t(!exactMatch && netSum >= amountToSend && netSum <= maxOverAmount)\n\t\t\t\t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// Get details for proof being replaced (objP), and temporarily\n\t\t\t\t// calculate the subset amount/fee with that proof removed.\n\t\t\t\tconst objP = S[i];\n\t\t\t\tconst tempAmount = amount - objP.proof.amount;\n\t\t\t\tconst tempFeePPK = feePPK - objP.ppkfee;\n\t\t\t\tconst tempNetSum = sumExFees(tempAmount, tempFeePPK);\n\t\t\t\tconst target = amountToSend - tempNetSum;\n\n\t\t\t\t// Find a better replacement proof (objQ) and swap it in\n\t\t\t\t// Exact match can only replace larger to close on the target\n\t\t\t\t// Close match can replace larger or smaller as needed, but will\n\t\t\t\t// not replace larger unless it closes on the target\n\t\t\t\tconst qIndex = binarySearchIndex(others, target, exactMatch);\n\t\t\t\tif (qIndex !== null) {\n\t\t\t\t\tconst objQ = others[qIndex];\n\t\t\t\t\tif (!exactMatch || objQ.exFee > objP.exFee) {\n\t\t\t\t\t\tif (target >= 0 || objQ.exFee <= objP.exFee) {\n\t\t\t\t\t\t\tS[i] = objQ;\n\t\t\t\t\t\t\tamount = tempAmount + objQ.proof.amount;\n\t\t\t\t\t\t\tfeePPK = tempFeePPK + objQ.ppkfee;\n\t\t\t\t\t\t\tothers.splice(qIndex, 1);\n\t\t\t\t\t\t\tinsertSorted(others, objP);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Update best solution\n\t\t\tconst delta = calculateDelta(amount, feePPK);\n\t\t\tif (delta < bestDelta) {\n\t\t\t\tthis._logger.debug(\n\t\t\t\t\t'selectProofsToSend: best solution found in trial #{trial} - amount: {amount}, delta: {delta}',\n\t\t\t\t\t{ trial, amount, delta },\n\t\t\t\t);\n\t\t\t\tbestSubset = [...S].sort((a, b) => b.exFee - a.exFee); // copy & sort\n\t\t\t\tbestDelta = delta;\n\t\t\t\tbestAmount = amount;\n\t\t\t\tbestFeePPK = feePPK;\n\n\t\t\t\t// \"PHASE 3\": Final check to make sure we haven't overpaid fees\n\t\t\t\t// and see if we can improve the solution. This is an adaptation\n\t\t\t\t// to the original RGLI, which helps us identify close match and\n\t\t\t\t// optimal fee solutions more consistently\n\t\t\t\tconst tempS = [...bestSubset]; // copy\n\t\t\t\twhile (tempS.length > 1 && bestDelta > 0) {\n\t\t\t\t\tconst objP = tempS.pop() as ProofWithFee;\n\t\t\t\t\tconst tempAmount = amount - objP.proof.amount;\n\t\t\t\t\tconst tempFeePPK = feePPK - objP.ppkfee;\n\t\t\t\t\tconst tempDelta = calculateDelta(tempAmount, tempFeePPK);\n\t\t\t\t\tif (tempDelta == Infinity) break;\n\t\t\t\t\tif (tempDelta < bestDelta) {\n\t\t\t\t\t\tbestSubset = [...tempS];\n\t\t\t\t\t\tbestDelta = tempDelta;\n\t\t\t\t\t\tbestAmount = tempAmount;\n\t\t\t\t\t\tbestFeePPK = tempFeePPK;\n\t\t\t\t\t\tamount = tempAmount;\n\t\t\t\t\t\tfeePPK = tempFeePPK;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Check if solution is acceptable\n\t\t\tif (bestSubset && bestDelta < Infinity) {\n\t\t\t\tconst bestSum = sumExFees(bestAmount, bestFeePPK);\n\t\t\t\tif (\n\t\t\t\t\tbestSum === amountToSend ||\n\t\t\t\t\t(!exactMatch && bestSum >= amountToSend && bestSum <= maxOverAmount)\n\t\t\t\t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Time limit reached?\n\t\t\tif (timer.elapsed() > MAX_TIMEMS) {\n\t\t\t\tif (exactMatch) {\n\t\t\t\t\tthrow new Error('Proof selection took too long. Try again with a smaller proof set.');\n\t\t\t\t} else {\n\t\t\t\t\tthis._logger.warn('Proof selection took too long. Returning best selection so far.');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Return Result\n\t\tif (bestSubset && bestDelta < Infinity) {\n\t\t\tconst bestProofs = bestSubset.map((obj) => obj.proof);\n\t\t\tconst bestSubsetSet = new Set(bestProofs);\n\t\t\tconst keep = proofs.filter((p) => !bestSubsetSet.has(p));\n\t\t\tthis._logger.info('Proof selection took {time}ms', { time: timer.elapsed() });\n\t\t\treturn { keep, send: bestProofs };\n\t\t}\n\t\treturn { keep: proofs, send: [] };\n\t}\n\n\t/**\n\t * Calculates the fees based on inputs (proofs)\n\t *\n\t * @param proofs Input proofs to calculate fees for.\n\t * @returns Fee amount.\n\t * @throws Throws an error if the proofs keyset is unknown.\n\t */\n\tgetFeesForProofs(proofs: Proof[]): number {\n\t\tconst sumPPK = proofs.reduce((a, c) => a + this.getProofFeePPK(c), 0);\n\t\treturn Math.ceil(sumPPK / 1000);\n\t}\n\n\t/**\n\t * Returns the current fee PPK for a proof according to the cached keyset.\n\t *\n\t * @param proof {Proof} A single proof.\n\t * @returns FeePPK {number} The feePPK for the selected proof.\n\t * @throws Throws an error if the proofs keyset is unknown.\n\t */\n\tprivate getProofFeePPK(proof: Proof) {\n\t\tconst keyset = this._keysets.find((k) => k.id === proof.id);\n\t\tif (!keyset) {\n\t\t\tthrow new Error(`Could not get fee. No keyset found for keyset id: ${proof.id}`);\n\t\t}\n\t\treturn keyset?.input_fee_ppk || 0;\n\t}\n\n\t/**\n\t * Calculates the fees based on inputs for a given keyset.\n\t *\n\t * @param nInputs Number of inputs.\n\t * @param keysetId KeysetId used to lookup `input_fee_ppk`\n\t * @returns Fee amount.\n\t */\n\tgetFeesForKeyset(nInputs: number, keysetId: string): number {\n\t\tconst fees = Math.floor(\n\t\t\tMath.max(\n\t\t\t\t(nInputs * (this._keysets.find((k: MintKeyset) => k.id === keysetId)?.input_fee_ppk || 0) +\n\t\t\t\t\t999) /\n\t\t\t\t\t1000,\n\t\t\t\t0,\n\t\t\t),\n\t\t);\n\t\treturn fees;\n\t}\n\n\t/**\n\t * Splits and creates sendable tokens if no amount is specified, the amount is implied by the\n\t * cumulative amount of all proofs if both amount and preference are set, but the preference\n\t * cannot fulfill the amount, then we use the default split.\n\t *\n\t * @param {SwapOptions} [options] - Optional parameters for configuring the swap operation.\n\t * @returns Promise of the change- and send-proofs.\n\t */\n\tasync swap(amount: number, proofs: Proof[], options?: SwapOptions): Promise<SendResponse> {\n\t\tlet { outputAmounts } = options || {};\n\t\tconst { includeFees, keysetId, counter, pubkey, privkey, proofsWeHave, outputData, p2pk } =\n\t\t\toptions || {};\n\t\tconst keyset = await this.getKeys(keysetId);\n\n\t\tlet amountToSend = amount;\n\t\tconst amountAvailable = sumProofs(proofs);\n\t\t// send output selection\n\t\tlet sendAmounts = outputAmounts?.sendAmounts || splitAmount(amountToSend, keyset.keys);\n\n\t\tif (includeFees) {\n\t\t\tlet outputFee = this.getFeesForKeyset(sendAmounts.length, keyset.id);\n\t\t\tlet sendAmountsFee = splitAmount(outputFee, keyset.keys);\n\t\t\twhile (\n\t\t\t\tthis.getFeesForKeyset(sendAmounts.concat(sendAmountsFee).length, keyset.id) > outputFee\n\t\t\t) {\n\t\t\t\toutputFee++;\n\t\t\t\tsendAmountsFee = splitAmount(outputFee, keyset.keys);\n\t\t\t}\n\t\t\tsendAmounts = sendAmounts.concat(sendAmountsFee);\n\t\t\tamountToSend += outputFee;\n\t\t}\n\n\t\t// include the fees to spend the the outputs of the swap\n\t\t// input selection, needs fees because of the swap\n\t\tconst { keep: keepProofs, send: sendProofs } = this.selectProofsToSend(\n\t\t\tproofs,\n\t\t\tamountToSend,\n\t\t\ttrue, // inc. fees\n\t\t);\n\n\t\tconst amountToKeep = sumProofs(sendProofs) - this.getFeesForProofs(sendProofs) - amountToSend;\n\n\t\tif (amountToKeep < 0) {\n\t\t\tthrow new Error('Not enough balance to send');\n\t\t}\n\n\t\t// keep output selection\n\t\tlet keepAmounts;\n\t\tif (!outputAmounts?.keepAmounts && !proofsWeHave) {\n\t\t\tkeepAmounts = splitAmount(amountToKeep, keyset.keys);\n\t\t} else if (!outputAmounts?.keepAmounts && proofsWeHave) {\n\t\t\tkeepAmounts = getKeepAmounts(\n\t\t\t\tproofsWeHave,\n\t\t\t\tamountToKeep,\n\t\t\t\tkeyset.keys,\n\t\t\t\tthis._denominationTarget,\n\t\t\t);\n\t\t} else if (outputAmounts) {\n\t\t\tif (outputAmounts.keepAmounts?.reduce((a: number, b: number) => a + b, 0) != amountToKeep) {\n\t\t\t\tthrow new Error('Keep amounts do not match amount to keep');\n\t\t\t}\n\t\t\tkeepAmounts = outputAmounts.keepAmounts;\n\t\t}\n\n\t\tif (amountToSend + this.getFeesForProofs(sendProofs) > amountAvailable) {\n\t\t\tthis._logger.error(\n\t\t\t\t`Not enough funds available (${amountAvailable}) for swap amountToSend: ${amountToSend} + fee: ${this.getFeesForProofs(\n\t\t\t\t\tsendProofs,\n\t\t\t\t)} | length: ${sendProofs.length}`,\n\t\t\t);\n\t\t\tthrow new Error(`Not enough funds available for swap`);\n\t\t}\n\n\t\toutputAmounts = {\n\t\t\tkeepAmounts: keepAmounts,\n\t\t\tsendAmounts: sendAmounts,\n\t\t};\n\n\t\tconst keepOutputData = outputData?.keep || this._keepFactory;\n\t\tconst sendOutputData = outputData?.send;\n\n\t\tconst swapTransaction = this.createSwapPayload(\n\t\t\tamountToSend,\n\t\t\tsendProofs,\n\t\t\tkeyset,\n\t\t\toutputAmounts,\n\t\t\tcounter,\n\t\t\tpubkey,\n\t\t\tprivkey,\n\t\t\t{ keep: keepOutputData, send: sendOutputData },\n\t\t\tp2pk,\n\t\t);\n\t\tconst { signatures } = await this.mint.swap(swapTransaction.payload);\n\t\tconst swapProofs = swapTransaction.outputData.map((d, i) => d.toProof(signatures[i], keyset));\n\t\tconst splitProofsToKeep: Proof[] = [];\n\t\tconst splitProofsToSend: Proof[] = [];\n\t\tconst reorderedKeepVector = Array(swapTransaction.keepVector.length);\n\t\tconst reorderedProofs = Array(swapProofs.length);\n\t\tswapTransaction.sortedIndices.forEach((s, i) => {\n\t\t\treorderedKeepVector[s] = swapTransaction.keepVector[i];\n\t\t\treorderedProofs[s] = swapProofs[i];\n\t\t});\n\t\treorderedProofs.forEach((p: Proof, i) => {\n\t\t\tif (reorderedKeepVector[i]) {\n\t\t\t\tsplitProofsToKeep.push(p);\n\t\t\t} else {\n\t\t\t\tsplitProofsToSend.push(p);\n\t\t\t}\n\t\t});\n\t\treturn {\n\t\t\tkeep: [...splitProofsToKeep, ...keepProofs],\n\t\t\tsend: splitProofsToSend,\n\t\t};\n\t}\n\n\t/**\n\t * Restores batches of deterministic proofs until no more signatures are returned from the mint.\n\t *\n\t * @param [gapLimit=300] The amount of empty counters that should be returned before restoring\n\t *   ends (defaults to 300). Default is `300`\n\t * @param [batchSize=100] The amount of proofs that should be restored at a time (defaults to\n\t *   100). Default is `100`\n\t * @param [counter=0] The counter that should be used as a starting point (defaults to 0). Default\n\t *   is `0`\n\t * @param [keysetId] Which keysetId to use for the restoration. If none is passed the instance's\n\t *   default one will be used.\n\t */\n\tasync batchRestore(\n\t\tgapLimit = 300,\n\t\tbatchSize = 100,\n\t\tcounter = 0,\n\t\tkeysetId?: string,\n\t): Promise<{ proofs: Proof[]; lastCounterWithSignature?: number }> {\n\t\tconst requiredEmptyBatches = Math.ceil(gapLimit / batchSize);\n\t\tconst restoredProofs: Proof[] = [];\n\n\t\tlet lastCounterWithSignature: undefined | number;\n\t\tlet emptyBatchesFound = 0;\n\n\t\twhile (emptyBatchesFound < requiredEmptyBatches) {\n\t\t\tconst restoreRes = await this.restore(counter, batchSize, { keysetId });\n\t\t\tif (restoreRes.proofs.length > 0) {\n\t\t\t\temptyBatchesFound = 0;\n\t\t\t\trestoredProofs.push(...restoreRes.proofs);\n\t\t\t\tlastCounterWithSignature = restoreRes.lastCounterWithSignature;\n\t\t\t} else {\n\t\t\t\temptyBatchesFound++;\n\t\t\t}\n\t\t\tcounter += batchSize;\n\t\t}\n\t\treturn { proofs: restoredProofs, lastCounterWithSignature };\n\t}\n\n\t/**\n\t * Regenerates.\n\t *\n\t * @param start Set starting point for count (first cycle for each keyset should usually be 0)\n\t * @param count Set number of blinded messages that should be generated.\n\t * @param options.keysetId Set a custom keysetId to restore from. keysetIds can be loaded with\n\t *   `CashuMint.getKeySets()`\n\t */\n\tasync restore(\n\t\tstart: number,\n\t\tcount: number,\n\t\toptions?: RestoreOptions,\n\t): Promise<{ proofs: Proof[]; lastCounterWithSignature?: number }> {\n\t\tconst { keysetId } = options || {};\n\t\tconst keys = await this.getKeys(keysetId);\n\t\tif (!this._seed) {\n\t\t\tthrow new Error('CashuWallet must be initialized with a seed to use restore');\n\t\t}\n\t\t// create deterministic blank outputs for unknown restore amounts\n\t\t// Note: zero amount + zero denomination passes splitAmount validation\n\t\tconst zeros = Array(count).fill(0);\n\t\tconst outputData = OutputData.createDeterministicData(0, this._seed, start, keys, zeros);\n\n\t\tconst { outputs, signatures } = await this.mint.restore({\n\t\t\toutputs: outputData.map((d) => d.blindedMessage),\n\t\t});\n\n\t\tconst signatureMap: { [sig: string]: SerializedBlindedSignature } = {};\n\t\toutputs.forEach((o, i) => (signatureMap[o.B_] = signatures[i]));\n\n\t\tconst restoredProofs: Proof[] = [];\n\t\tlet lastCounterWithSignature: number | undefined;\n\n\t\tfor (let i = 0; i < outputData.length; i++) {\n\t\t\tconst matchingSig = signatureMap[outputData[i].blindedMessage.B_];\n\t\t\tif (matchingSig) {\n\t\t\t\tlastCounterWithSignature = start + i;\n\t\t\t\toutputData[i].blindedMessage.amount = matchingSig.amount;\n\t\t\t\trestoredProofs.push(outputData[i].toProof(matchingSig, keys));\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tproofs: restoredProofs,\n\t\t\tlastCounterWithSignature,\n\t\t};\n\t}\n\n\t/**\n\t * Requests a mint quote from the mint. Response returns a Lightning payment request for the\n\t * requested given amount and unit.\n\t *\n\t * @param amount Amount requesting for mint.\n\t * @param description Optional description for the mint quote.\n\t * @param pubkey Optional public key to lock the quote to.\n\t * @returns The mint will return a mint quote with a Lightning invoice for minting tokens of the\n\t *   specified amount and unit.\n\t */\n\tasync createMintQuote(amount: number, description?: string): Promise<MintQuoteResponse> {\n\t\tconst mintQuotePayload: MintQuotePayload = {\n\t\t\tunit: this._unit,\n\t\t\tamount: amount,\n\t\t\tdescription: description,\n\t\t};\n\t\tconst res = await this.mint.createMintQuote(mintQuotePayload);\n\t\treturn { ...res, amount: res.amount || amount, unit: res.unit || this.unit };\n\t}\n\n\t/**\n\t * Requests a mint quote from the mint that is locked to a public key.\n\t *\n\t * @param amount Amount requesting for mint.\n\t * @param pubkey Public key to lock the quote to.\n\t * @param description Optional description for the mint quote.\n\t * @returns The mint will return a mint quote with a Lightning invoice for minting tokens of the\n\t *   specified amount and unit. The quote will be locked to the specified `pubkey`.\n\t */\n\tasync createLockedMintQuote(\n\t\tamount: number,\n\t\tpubkey: string,\n\t\tdescription?: string,\n\t): Promise<LockedMintQuoteResponse> {\n\t\tconst { supported } = (await this.lazyGetMintInfo()).isSupported(20);\n\t\tif (!supported) {\n\t\t\tthrow new Error('Mint does not support NUT-20');\n\t\t}\n\t\tconst mintQuotePayload: MintQuotePayload = {\n\t\t\tunit: this._unit,\n\t\t\tamount: amount,\n\t\t\tdescription: description,\n\t\t\tpubkey: pubkey,\n\t\t};\n\t\tconst res = await this.mint.createMintQuote(mintQuotePayload);\n\t\tif (typeof res.pubkey !== 'string') {\n\t\t\tthrow new Error('Mint returned unlocked mint quote');\n\t\t} else {\n\t\t\tconst pubkey = res.pubkey;\n\t\t\treturn { ...res, pubkey, amount: res.amount || amount, unit: res.unit || this.unit };\n\t\t}\n\t}\n\n\t/**\n\t * Requests a mint quote from the mint. Response returns a Lightning BOLT12 offer for the\n\t * requested given amount and unit.\n\t *\n\t * @param pubkey Public key to lock the quote to.\n\t * @param options.amount BOLT12 offer amount requesting for mint. If not specified, the offer will\n\t *   be amountless.\n\t * @param options.description Description for the mint quote.\n\t * @returns The mint will return a mint quote with a Lightning invoice for minting tokens of the\n\t *   specified amount and unit.\n\t */\n\tasync createMintQuoteBolt12(\n\t\tpubkey: string,\n\t\toptions?: {\n\t\t\tamount?: number;\n\t\t\tdescription?: string;\n\t\t},\n\t): Promise<Bolt12MintQuoteResponse> {\n\t\t// Check if mint supports description for bolt12\n\t\tconst mintInfo = await this.lazyGetMintInfo();\n\t\tif (options?.description && !mintInfo.supportsBolt12Description) {\n\t\t\tthrow new Error('Mint does not support description for bolt12');\n\t\t}\n\n\t\tconst mintQuotePayload: Bolt12MintQuotePayload = {\n\t\t\tpubkey: pubkey,\n\t\t\tunit: this._unit,\n\t\t\tamount: options?.amount,\n\t\t\tdescription: options?.description,\n\t\t};\n\n\t\treturn this.mint.createMintQuoteBolt12(mintQuotePayload);\n\t}\n\n\t/**\n\t * Gets an existing mint quote from the mint.\n\t *\n\t * @param quote Quote ID.\n\t * @returns The mint will create and return a Lightning invoice for the specified amount.\n\t */\n\tasync checkMintQuote(quote: MintQuoteResponse): Promise<MintQuoteResponse>;\n\tasync checkMintQuote(quote: string): Promise<PartialMintQuoteResponse>;\n\tasync checkMintQuote(\n\t\tquote: string | MintQuoteResponse,\n\t): Promise<MintQuoteResponse | PartialMintQuoteResponse> {\n\t\tconst quoteId = typeof quote === 'string' ? quote : quote.quote;\n\t\tconst baseRes = await this.mint.checkMintQuote(quoteId);\n\t\tif (typeof quote === 'string') {\n\t\t\treturn baseRes;\n\t\t}\n\t\treturn { ...baseRes, amount: baseRes.amount || quote.amount, unit: baseRes.unit || quote.unit };\n\t}\n\n\t/**\n\t * Gets an existing BOLT12 mint quote from the mint.\n\t *\n\t * @param quote Quote ID.\n\t * @returns The latest mint quote for the given quote ID.\n\t */\n\tasync checkMintQuoteBolt12(quote: string): Promise<Bolt12MintQuoteResponse> {\n\t\treturn this.mint.checkMintQuoteBolt12(quote);\n\t}\n\n\t/**\n\t * Mint proofs for a given mint quote.\n\t *\n\t * @param amount Amount to request.\n\t * @param {string} quote - ID of mint quote (when quote is a string)\n\t * @param {LockedMintQuote} quote - Containing the quote ID and unlocking private key (when quote\n\t *   is a LockedMintQuote)\n\t * @param {MintProofOptions} [options] - Optional parameters for configuring the Mint Proof\n\t *   operation.\n\t * @returns Proofs.\n\t */\n\tasync mintProofs(\n\t\tamount: number,\n\t\tquote: MintQuoteResponse,\n\t\toptions: MintProofOptions & { privateKey: string },\n\t): Promise<Proof[]>;\n\tasync mintProofs(amount: number, quote: string, options?: MintProofOptions): Promise<Proof[]>;\n\tasync mintProofs(\n\t\tamount: number,\n\t\tquote: string | MintQuoteResponse,\n\t\toptions?: MintProofOptions & { privateKey?: string },\n\t): Promise<Proof[]> {\n\t\treturn this._mintProofs('bolt11', amount, quote, options);\n\t}\n\n\t/**\n\t * Mint proofs for a given mint quote.\n\t *\n\t * @param amount Amount to request. This must be less than or equal to the `quote.amountPaid -\n\t *   quote.amountIssued`\n\t * @param {string} quote - ID of mint quote.\n\t * @param {string} privateKey - Private key to unlock the quote.\n\t * @param {MintProofOptions} [options] - Optional parameters for configuring the Mint Proof\n\t *   operation.\n\t * @returns Proofs.\n\t */\n\tasync mintProofsBolt12(\n\t\tamount: number,\n\t\tquote: Bolt12MintQuoteResponse,\n\t\tprivateKey: string,\n\t\toptions?: MintProofOptions,\n\t): Promise<Proof[]> {\n\t\treturn this._mintProofs('bolt12', amount, quote, { ...options, privateKey });\n\t}\n\n\t/**\n\t * Requests a melt quote from the mint. Response returns amount and fees for a given unit in order\n\t * to pay a Lightning invoice.\n\t *\n\t * @param invoice LN invoice that needs to get a fee estimate.\n\t * @returns The mint will create and return a melt quote for the invoice with an amount and fee\n\t *   reserve.\n\t */\n\tasync createMeltQuote(invoice: string): Promise<MeltQuoteResponse> {\n\t\tconst meltQuotePayload: MeltQuotePayload = {\n\t\t\tunit: this._unit,\n\t\t\trequest: invoice,\n\t\t};\n\t\tconst meltQuote = await this.mint.createMeltQuote(meltQuotePayload);\n\t\treturn {\n\t\t\t...meltQuote,\n\t\t\tunit: meltQuote.unit || this.unit,\n\t\t\trequest: meltQuote.request || invoice,\n\t\t};\n\t}\n\n\t/**\n\t * Requests a melt quote from the mint. Response returns amount and fees for a given unit in order\n\t * to pay a BOLT12 offer.\n\t *\n\t * @param offer BOLT12 offer that needs to get a fee estimate.\n\t * @param amountMsat Amount in millisatoshis for amount-less offers. If this is defined and the\n\t *   offer has an amount, they **MUST** be equal.\n\t * @returns The mint will create and return a melt quote for the offer with an amount and fee\n\t *   reserve.\n\t */\n\tasync createMeltQuoteBolt12(\n\t\toffer: string,\n\t\tamountMsat?: number,\n\t): Promise<Bolt12MeltQuoteResponse> {\n\t\treturn this.mint.createMeltQuoteBolt12({\n\t\t\tunit: this._unit,\n\t\t\trequest: offer,\n\t\t\toptions: amountMsat\n\t\t\t\t? {\n\t\t\t\t\t\tamountless: {\n\t\t\t\t\t\t\tamount_msat: amountMsat,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t: undefined,\n\t\t});\n\t}\n\n\t/**\n\t * Requests a multi path melt quote from the mint.\n\t *\n\t * @param invoice LN invoice that needs to get a fee estimate.\n\t * @param partialAmount The partial amount of the invoice's total to be paid by this instance.\n\t * @returns The mint will create and return a melt quote for the invoice with an amount and fee\n\t *   reserve.\n\t */\n\tasync createMultiPathMeltQuote(\n\t\tinvoice: string,\n\t\tmillisatPartialAmount: number,\n\t): Promise<MeltQuoteResponse> {\n\t\tconst { supported, params } = (await this.lazyGetMintInfo()).isSupported(15);\n\t\tif (!supported) {\n\t\t\tthrow new Error('Mint does not support NUT-15');\n\t\t}\n\t\tif (!params?.some((p) => p.method === 'bolt11' && p.unit === this.unit)) {\n\t\t\tthrow new Error(`Mint does not support MPP for bolt11 and ${this.unit}`);\n\t\t}\n\t\tconst mppOption: MPPOption = {\n\t\t\tamount: millisatPartialAmount,\n\t\t};\n\t\tconst meltOptions: MeltQuoteOptions = {\n\t\t\tmpp: mppOption,\n\t\t};\n\t\tconst meltQuotePayload: MeltQuotePayload = {\n\t\t\tunit: this._unit,\n\t\t\trequest: invoice,\n\t\t\toptions: meltOptions,\n\t\t};\n\t\tconst meltQuote = await this.mint.createMeltQuote(meltQuotePayload);\n\t\treturn { ...meltQuote, request: invoice, unit: this._unit };\n\t}\n\n\t/**\n\t * Return an existing melt quote from the mint.\n\t *\n\t * @param quote ID of the melt quote.\n\t * @returns The mint will return an existing melt quote.\n\t */\n\tasync checkMeltQuote(quote: string): Promise<PartialMeltQuoteResponse>;\n\tasync checkMeltQuote(quote: MeltQuoteResponse): Promise<MeltQuoteResponse>;\n\tasync checkMeltQuote(\n\t\tquote: string | MeltQuoteResponse,\n\t): Promise<MeltQuoteResponse | PartialMeltQuoteResponse> {\n\t\tconst quoteId = typeof quote === 'string' ? quote : quote.quote;\n\t\tconst meltQuote = await this.mint.checkMeltQuote(quoteId);\n\t\tif (typeof quote === 'string') {\n\t\t\treturn meltQuote;\n\t\t}\n\t\treturn { ...meltQuote, request: quote.request, unit: quote.unit };\n\t}\n\n\tasync checkMeltQuoteBolt12(quote: string): Promise<Bolt12MeltQuoteResponse> {\n\t\treturn this.mint.checkMeltQuoteBolt12(quote);\n\t}\n\n\t/**\n\t * Melt proofs for a melt quote. proofsToSend must be at least amount+fee_reserve form the melt\n\t * quote. This function does not perform coin selection!. Returns melt quote and change proofs.\n\t *\n\t * @param meltQuote ID of the melt quote.\n\t * @param proofsToSend Proofs to melt.\n\t * @param {MeltProofOptions} [options] - Optional parameters for configuring the Melting Proof\n\t *   operation.\n\t * @returns\n\t */\n\tasync meltProofs(\n\t\tmeltQuote: MeltQuoteResponse,\n\t\tproofsToSend: Proof[],\n\t\toptions?: MeltProofOptions,\n\t): Promise<MeltProofsResponse> {\n\t\treturn this._meltProofs('bolt11', meltQuote, proofsToSend, options);\n\t}\n\n\t/**\n\t * Melt proofs for a melt quote. proofsToSend must be at least amount+fee_reserve form the melt\n\t * quote. This function does not perform coin selection!. Returns melt quote and change proofs.\n\t *\n\t * @param meltQuote ID of the melt quote.\n\t * @param proofsToSend Proofs to melt.\n\t * @param {MeltProofOptions} [options] - Optional parameters for configuring the Melting Proof\n\t *   operation.\n\t * @returns\n\t */\n\tasync meltProofsBolt12(\n\t\tmeltQuote: Bolt12MeltQuoteResponse,\n\t\tproofsToSend: Proof[],\n\t\toptions?: MeltProofOptions,\n\t): Promise<{\n\t\tquote: Bolt12MeltQuoteResponse;\n\t\tchange: Proof[];\n\t}> {\n\t\treturn this._meltProofs('bolt12', meltQuote, proofsToSend, options);\n\t}\n\n\t/**\n\t * Creates a split payload.\n\t *\n\t * @param amount Amount to send.\n\t * @param proofsToSend Proofs to split*\n\t * @param outputAmounts? Optionally specify the output's amounts to keep and to send.\n\t * @param counter? Optionally set counter to derive secret deterministically. CashuWallet class\n\t *   must be initialized with seed phrase to take effect.\n\t * @param pubkey? Optionally locks ecash to pubkey. Will not be deterministic, even if counter is\n\t *   set!\n\t * @param privkey? Will create a signature on the @param proofsToSend secrets if set.\n\t * @param customOutputData? Optionally specify your own OutputData (blinded messages)\n\t * @param p2pk? Optionally specify options to lock the proofs according to NUT-11.\n\t * @returns\n\t */\n\tprivate createSwapPayload(\n\t\tamount: number,\n\t\tproofsToSend: Proof[],\n\t\tkeyset: MintKeys,\n\t\toutputAmounts?: OutputAmounts,\n\t\tcounter?: number,\n\t\tpubkey?: string,\n\t\tprivkey?: string,\n\t\tcustomOutputData?: {\n\t\t\tkeep?: OutputDataLike[] | OutputDataFactory;\n\t\t\tsend?: OutputDataLike[] | OutputDataFactory;\n\t\t},\n\t\tp2pk?: {\n\t\t\tpubkey: string | string[];\n\t\t\tlocktime?: number;\n\t\t\trefundKeys?: string[];\n\t\t\trequiredSignatures?: number;\n\t\t\trequiredRefundSignatures?: number;\n\t\t\tadditionalTags?: Array<[key: string, ...values: string[]]>;\n\t\t},\n\t): SwapTransaction {\n\t\tconst totalAmount = proofsToSend.reduce((total: number, curr: Proof) => total + curr.amount, 0);\n\t\tif (outputAmounts && outputAmounts.sendAmounts && !outputAmounts.keepAmounts) {\n\t\t\toutputAmounts.keepAmounts = splitAmount(\n\t\t\t\ttotalAmount - amount - this.getFeesForProofs(proofsToSend),\n\t\t\t\tkeyset.keys,\n\t\t\t);\n\t\t}\n\t\tconst keepAmount = totalAmount - amount - this.getFeesForProofs(proofsToSend);\n\t\tlet keepOutputData: OutputDataLike[] = [];\n\t\tlet sendOutputData: OutputDataLike[] = [];\n\n\t\tif (customOutputData?.keep) {\n\t\t\tif (isOutputDataFactory(customOutputData.keep)) {\n\t\t\t\tconst factory = customOutputData.keep;\n\t\t\t\tconst amounts = splitAmount(keepAmount, keyset.keys);\n\t\t\t\tamounts.forEach((a) => {\n\t\t\t\t\tkeepOutputData.push(factory(a, keyset));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tkeepOutputData = customOutputData.keep;\n\t\t\t}\n\t\t} else {\n\t\t\tkeepOutputData = this.createOutputData(\n\t\t\t\tkeepAmount,\n\t\t\t\tkeyset,\n\t\t\t\tcounter,\n\t\t\t\tundefined,\n\t\t\t\toutputAmounts?.keepAmounts,\n\t\t\t\tundefined,\n\t\t\t\tthis._keepFactory,\n\t\t\t);\n\t\t}\n\n\t\tif (customOutputData?.send) {\n\t\t\tif (isOutputDataFactory(customOutputData.send)) {\n\t\t\t\tconst factory = customOutputData.send;\n\t\t\t\tconst amounts = splitAmount(amount, keyset.keys);\n\t\t\t\tamounts.forEach((a) => {\n\t\t\t\t\tsendOutputData.push(factory(a, keyset));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsendOutputData = customOutputData.send;\n\t\t\t}\n\t\t} else {\n\t\t\tsendOutputData = this.createOutputData(\n\t\t\t\tamount,\n\t\t\t\tkeyset,\n\t\t\t\tcounter ? counter + keepOutputData.length : undefined,\n\t\t\t\tpubkey,\n\t\t\t\toutputAmounts?.sendAmounts,\n\t\t\t\tp2pk,\n\t\t\t);\n\t\t}\n\n\t\tif (privkey) {\n\t\t\tproofsToSend = signP2PKProofs(proofsToSend, privkey);\n\t\t}\n\n\t\tproofsToSend = stripDleq(proofsToSend);\n\n\t\t// Ensure witnesses are serialized before sending to mint\n\t\tproofsToSend = proofsToSend.map((p: Proof) => {\n\t\t\tconst witness =\n\t\t\t\tp.witness && typeof p.witness !== 'string' ? JSON.stringify(p.witness) : p.witness;\n\t\t\treturn { ...p, witness };\n\t\t});\n\n\t\tconst mergedBlindingData = [...keepOutputData, ...sendOutputData];\n\t\tconst indices = mergedBlindingData\n\t\t\t.map((_, i) => i)\n\t\t\t.sort(\n\t\t\t\t(a, b) =>\n\t\t\t\t\tmergedBlindingData[a].blindedMessage.amount - mergedBlindingData[b].blindedMessage.amount,\n\t\t\t);\n\t\tconst keepVector: boolean[] = [\n\t\t\t...Array.from({ length: keepOutputData.length }, () => true),\n\t\t\t...Array.from({ length: sendOutputData.length }, () => false),\n\t\t];\n\n\t\tconst sortedOutputData: OutputDataLike[] = indices.map((i) => mergedBlindingData[i]);\n\t\tconst sortedKeepVector: boolean[] = indices.map((i) => keepVector[i]);\n\n\t\treturn {\n\t\t\tpayload: {\n\t\t\t\tinputs: proofsToSend,\n\t\t\t\toutputs: sortedOutputData.map((d) => d.blindedMessage),\n\t\t\t},\n\t\t\toutputData: sortedOutputData,\n\t\t\tkeepVector: sortedKeepVector,\n\t\t\tsortedIndices: indices,\n\t\t};\n\t}\n\n\t/**\n\t * Get an array of the states of proofs from the mint (as an array of CheckStateEnum's)\n\t *\n\t * @param proofs (only the `secret` field is required)\n\t * @returns\n\t */\n\tasync checkProofsStates(proofs: Proof[]): Promise<ProofState[]> {\n\t\tconst enc = new TextEncoder();\n\t\tconst Ys = proofs.map((p: Proof) => hashToCurve(enc.encode(p.secret)).toHex(true));\n\t\t// TODO: Replace this with a value from the info endpoint of the mint eventually\n\t\tconst BATCH_SIZE = 100;\n\t\tconst states: ProofState[] = [];\n\t\tfor (let i = 0; i < Ys.length; i += BATCH_SIZE) {\n\t\t\tconst YsSlice = Ys.slice(i, i + BATCH_SIZE);\n\t\t\tconst { states: batchStates } = await this.mint.check({\n\t\t\t\tYs: YsSlice,\n\t\t\t});\n\t\t\tconst stateMap: { [y: string]: ProofState } = {};\n\t\t\tbatchStates.forEach((s) => {\n\t\t\t\tstateMap[s.Y] = s;\n\t\t\t});\n\t\t\tfor (let j = 0; j < YsSlice.length; j++) {\n\t\t\t\tconst state = stateMap[YsSlice[j]];\n\t\t\t\tif (!state) {\n\t\t\t\t\tthrow new Error('Could not find state for proof with Y: ' + YsSlice[j]);\n\t\t\t\t}\n\t\t\t\tstates.push(state);\n\t\t\t}\n\t\t}\n\t\treturn states;\n\t}\n\n\t/**\n\t * Register a callback to be called whenever a mint quote's state changes.\n\t *\n\t * @param quoteIds List of mint quote IDs that should be subscribed to.\n\t * @param callback Callback function that will be called whenever a mint quote state changes.\n\t * @param errorCallback\n\t * @returns\n\t */\n\tasync onMintQuoteUpdates(\n\t\tquoteIds: string[],\n\t\tcallback: (payload: MintQuoteResponse) => void,\n\t\terrorCallback: (e: Error) => void,\n\t): Promise<SubscriptionCanceller> {\n\t\tawait this.mint.connectWebSocket();\n\t\tif (!this.mint.webSocketConnection) {\n\t\t\tthrow new Error('failed to establish WebSocket connection.');\n\t\t}\n\t\tconst subId = this.mint.webSocketConnection.createSubscription(\n\t\t\t{ kind: 'bolt11_mint_quote', filters: quoteIds },\n\t\t\tcallback,\n\t\t\terrorCallback,\n\t\t);\n\t\treturn () => {\n\t\t\tthis.mint.webSocketConnection?.cancelSubscription(subId, callback);\n\t\t};\n\t}\n\n\t/**\n\t * Register a callback to be called whenever a melt quote's state changes.\n\t *\n\t * @param quoteIds List of melt quote IDs that should be subscribed to.\n\t * @param callback Callback function that will be called whenever a melt quote state changes.\n\t * @param errorCallback\n\t * @returns\n\t */\n\tasync onMeltQuotePaid(\n\t\tquoteId: string,\n\t\tcallback: (payload: MeltQuoteResponse) => void,\n\t\terrorCallback: (e: Error) => void,\n\t): Promise<SubscriptionCanceller> {\n\t\treturn this.onMeltQuoteUpdates(\n\t\t\t[quoteId],\n\t\t\t(p) => {\n\t\t\t\tif (p.state === MeltQuoteState.PAID) {\n\t\t\t\t\tcallback(p);\n\t\t\t\t}\n\t\t\t},\n\t\t\terrorCallback,\n\t\t);\n\t}\n\n\t/**\n\t * Register a callback to be called when a single mint quote gets paid.\n\t *\n\t * @param quoteId Mint quote id that should be subscribed to.\n\t * @param callback Callback function that will be called when this mint quote gets paid.\n\t * @param errorCallback\n\t * @returns\n\t */\n\tasync onMintQuotePaid(\n\t\tquoteId: string,\n\t\tcallback: (payload: MintQuoteResponse) => void,\n\t\terrorCallback: (e: Error) => void,\n\t): Promise<SubscriptionCanceller> {\n\t\treturn this.onMintQuoteUpdates(\n\t\t\t[quoteId],\n\t\t\t(p) => {\n\t\t\t\tif (p.state === MintQuoteState.PAID) {\n\t\t\t\t\tcallback(p);\n\t\t\t\t}\n\t\t\t},\n\t\t\terrorCallback,\n\t\t);\n\t}\n\n\t/**\n\t * Register a callback to be called when a single melt quote gets paid.\n\t *\n\t * @param quoteId Melt quote id that should be subscribed to.\n\t * @param callback Callback function that will be called when this melt quote gets paid.\n\t * @param errorCallback\n\t * @returns\n\t */\n\tasync onMeltQuoteUpdates(\n\t\tquoteIds: string[],\n\t\tcallback: (payload: MeltQuoteResponse) => void,\n\t\terrorCallback: (e: Error) => void,\n\t): Promise<SubscriptionCanceller> {\n\t\tawait this.mint.connectWebSocket();\n\t\tif (!this.mint.webSocketConnection) {\n\t\t\tthrow new Error('failed to establish WebSocket connection.');\n\t\t}\n\t\tconst subId = this.mint.webSocketConnection.createSubscription(\n\t\t\t{ kind: 'bolt11_melt_quote', filters: quoteIds },\n\t\t\tcallback,\n\t\t\terrorCallback,\n\t\t);\n\t\treturn () => {\n\t\t\tthis.mint.webSocketConnection?.cancelSubscription(subId, callback);\n\t\t};\n\t}\n\n\t/**\n\t * Register a callback to be called whenever a subscribed proof state changes.\n\t *\n\t * @param proofs List of proofs that should be subscribed to.\n\t * @param callback Callback function that will be called whenever a proof's state changes.\n\t * @param errorCallback\n\t * @returns\n\t */\n\tasync onProofStateUpdates(\n\t\tproofs: Proof[],\n\t\tcallback: (payload: ProofState & { proof: Proof }) => void,\n\t\terrorCallback: (e: Error) => void,\n\t): Promise<SubscriptionCanceller> {\n\t\tawait this.mint.connectWebSocket();\n\t\tif (!this.mint.webSocketConnection) {\n\t\t\tthrow new Error('failed to establish WebSocket connection.');\n\t\t}\n\t\tconst enc = new TextEncoder();\n\t\tconst proofMap: { [y: string]: Proof } = {};\n\t\tfor (let i = 0; i < proofs.length; i++) {\n\t\t\tconst y = hashToCurve(enc.encode(proofs[i].secret)).toHex(true);\n\t\t\tproofMap[y] = proofs[i];\n\t\t}\n\t\tconst ys = Object.keys(proofMap);\n\t\tconst subId = this.mint.webSocketConnection.createSubscription(\n\t\t\t{ kind: 'proof_state', filters: ys },\n\t\t\t(p: ProofState) => {\n\t\t\t\tcallback({ ...p, proof: proofMap[p.Y] });\n\t\t\t},\n\t\t\terrorCallback,\n\t\t);\n\t\treturn () => {\n\t\t\tthis.mint.webSocketConnection?.cancelSubscription(subId, callback);\n\t\t};\n\t}\n\n\t/**\n\t * Creates blinded messages for a according to @param amounts.\n\t *\n\t * @param amount Array of amounts to create blinded messages for.\n\t * @param counter? Optionally set counter to derive secret deterministically. CashuWallet class\n\t *   must be initialized with seed phrase to take effect.\n\t * @param pubkey? Optionally locks ecash to pubkey. Will not be deterministic, even if counter is\n\t *   set!\n\t * @param outputAmounts? Optionally specify the output's amounts to keep and to send.\n\t * @param p2pk? Optionally specify options to lock the proofs according to NUT-11.\n\t * @param factory? Optionally specify a custom function that produces OutputData (blinded\n\t *   messages)\n\t * @returns Blinded messages, secrets, rs, and amounts.\n\t */\n\tprivate createOutputData(\n\t\tamount: number,\n\t\tkeyset: MintKeys,\n\t\tcounter?: number,\n\t\tpubkey?: string,\n\t\toutputAmounts?: number[],\n\t\tp2pk?: {\n\t\t\tpubkey: string | string[];\n\t\t\tlocktime?: number;\n\t\t\trefundKeys?: string[];\n\t\t\trequiredSignatures?: number;\n\t\t\trequiredRefundSignatures?: number;\n\t\t\tadditionalTags?: Array<[key: string, ...values: string[]]>;\n\t\t},\n\t\tfactory?: OutputDataFactory,\n\t): OutputDataLike[] {\n\t\tlet outputData: OutputDataLike[];\n\t\tif (pubkey) {\n\t\t\toutputData = OutputData.createP2PKData(\n\t\t\t\t{ pubkey, additionalTags: p2pk?.additionalTags },\n\t\t\t\tamount,\n\t\t\t\tkeyset,\n\t\t\t\toutputAmounts,\n\t\t\t);\n\t\t} else if (counter || counter === 0) {\n\t\t\tif (!this._seed) {\n\t\t\t\tthrow new Error('cannot create deterministic messages without seed');\n\t\t\t}\n\t\t\toutputData = OutputData.createDeterministicData(\n\t\t\t\tamount,\n\t\t\t\tthis._seed,\n\t\t\t\tcounter,\n\t\t\t\tkeyset,\n\t\t\t\toutputAmounts,\n\t\t\t);\n\t\t} else if (p2pk) {\n\t\t\toutputData = OutputData.createP2PKData(p2pk, amount, keyset, outputAmounts);\n\t\t} else if (factory) {\n\t\t\tconst amounts = splitAmount(amount, keyset.keys);\n\t\t\toutputData = amounts.map((a) => factory(a, keyset));\n\t\t} else {\n\t\t\toutputData = OutputData.createRandomData(amount, keyset, outputAmounts);\n\t\t}\n\t\treturn outputData;\n\t}\n\n\t/**\n\t * Creates NUT-08 blank outputs (fee returns) for a given fee reserve See:\n\t * https://github.com/cashubtc/nuts/blob/main/08.md.\n\t *\n\t * @param amount Amount to cover with blank outputs.\n\t * @param keysetId Mint keysetId.\n\t * @param counter? Optionally set counter to derive secret deterministically. CashuWallet class\n\t *   must be initialized with seed phrase to take effect.\n\t * @returns Blinded messages, secrets, and rs.\n\t */\n\tprivate createBlankOutputs(\n\t\tamount: number,\n\t\tkeyset: MintKeys,\n\t\tcounter?: number,\n\t\tfactory?: OutputDataFactory,\n\t): OutputDataLike[] {\n\t\tlet count = Math.ceil(Math.log2(amount)) || 1;\n\t\t//Prevent count from being -Infinity\n\t\tif (count < 0) {\n\t\t\tcount = 0;\n\t\t}\n\t\t// Note: zero amount + zero denomination passes splitAmount validation\n\t\tconst zeros = count ? Array(count).fill(0) : [];\n\t\treturn this.createOutputData(0, keyset, counter, undefined, zeros, undefined, factory);\n\t}\n\n\t/**\n\t * Mints proofs for a given mint quote created with the bolt11 or bolt12 method.\n\t *\n\t * @param method Payment method of the quote.\n\t * @param amount Amount to mint.\n\t * @param quote The bolt11 or bolt12 mint quote.\n\t * @param options Optional parameters for configuring the Mint Proof operation.\n\t * @returns Proofs.\n\t */\n\tprivate async _mintProofs<T extends 'bolt11' | 'bolt12'>(\n\t\tmethod: T,\n\t\tamount: number,\n\t\tquote: string | (T extends 'bolt11' ? MintQuoteResponse : Bolt12MintQuoteResponse),\n\t\toptions?: MintProofOptions & { privateKey?: string },\n\t): Promise<Proof[]> {\n\t\tlet { outputAmounts } = options || {};\n\t\tconst { counter, pubkey, p2pk, keysetId, proofsWeHave, outputData, privateKey } = options || {};\n\n\t\tconst keyset = await this.getKeys(keysetId);\n\t\tif (!outputAmounts && proofsWeHave) {\n\t\t\toutputAmounts = {\n\t\t\t\tkeepAmounts: getKeepAmounts(proofsWeHave, amount, keyset.keys, this._denominationTarget),\n\t\t\t\tsendAmounts: [],\n\t\t\t};\n\t\t}\n\t\tlet newBlindingData: OutputData[] = [];\n\t\tif (outputData) {\n\t\t\tif (isOutputDataFactory(outputData)) {\n\t\t\t\tconst amounts = splitAmount(amount, keyset.keys, outputAmounts?.keepAmounts);\n\t\t\t\tfor (let i = 0; i < amounts.length; i++) {\n\t\t\t\t\tnewBlindingData.push(outputData(amounts[i], keyset));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewBlindingData = outputData;\n\t\t\t}\n\t\t} else if (this._keepFactory) {\n\t\t\tconst amounts = splitAmount(amount, keyset.keys, outputAmounts?.keepAmounts);\n\t\t\tfor (let i = 0; i < amounts.length; i++) {\n\t\t\t\tnewBlindingData.push(this._keepFactory(amounts[i], keyset));\n\t\t\t}\n\t\t} else {\n\t\t\tnewBlindingData = this.createOutputData(\n\t\t\t\tamount,\n\t\t\t\tkeyset,\n\t\t\t\tcounter,\n\t\t\t\tpubkey,\n\t\t\t\toutputAmounts?.keepAmounts,\n\t\t\t\tp2pk,\n\t\t\t);\n\t\t}\n\t\tconst blindedMessages = newBlindingData.map((d) => d.blindedMessage);\n\t\tconst mintPayload: MintPayload = {\n\t\t\toutputs: blindedMessages,\n\t\t\tquote: typeof quote === 'string' ? quote : quote.quote,\n\t\t};\n\t\tif (typeof quote !== 'string' && quote.pubkey) {\n\t\t\tif (!privateKey) {\n\t\t\t\tthrow new Error('Can not sign locked quote without private key');\n\t\t\t}\n\t\t\tmintPayload.signature = signMintQuote(privateKey, quote.quote, blindedMessages);\n\t\t}\n\t\tif (method === 'bolt12') {\n\t\t\tconst { signatures } = await this.mint.mintBolt12(mintPayload);\n\t\t\treturn newBlindingData.map((d, i) => d.toProof(signatures[i], keyset));\n\t\t}\n\t\tconst { signatures } = await this.mint.mint(mintPayload);\n\t\treturn newBlindingData.map((d, i) => d.toProof(signatures[i], keyset));\n\t}\n\n\t/**\n\t * Melt proofs for a given melt quote created with the bolt11 or bolt12 method.\n\t *\n\t * @param method Payment method of the quote.\n\t * @param meltQuote The bolt11 or bolt12 melt quote.\n\t * @param proofsToSend Proofs to melt.\n\t * @param options Optional parameters for configuring the Melting Proof operation.\n\t * @returns Melt quote and change proofs.\n\t */\n\tprivate async _meltProofs<T extends 'bolt11' | 'bolt12'>(\n\t\tmethod: T,\n\t\tmeltQuote: T extends 'bolt11' ? MeltQuoteResponse : Bolt12MeltQuoteResponse,\n\t\tproofsToSend: Proof[],\n\t\toptions?: MeltProofOptions,\n\t): Promise<MeltProofsResponse> {\n\t\tconst { keysetId, counter, privkey } = options || {};\n\t\tconst keys = await this.getKeys(keysetId);\n\t\tconst outputData = this.createBlankOutputs(\n\t\t\tsumProofs(proofsToSend) - meltQuote.amount,\n\t\t\tkeys,\n\t\t\tcounter,\n\t\t\tthis._keepFactory,\n\t\t);\n\t\tif (privkey != undefined) {\n\t\t\tproofsToSend = signP2PKProofs(proofsToSend, privkey);\n\t\t}\n\n\t\tproofsToSend = stripDleq(proofsToSend);\n\n\t\t// Ensure witnesses are serialized before sending to mint\n\t\tproofsToSend = proofsToSend.map((p: Proof) => {\n\t\t\tconst witness =\n\t\t\t\tp.witness && typeof p.witness !== 'string' ? JSON.stringify(p.witness) : p.witness;\n\t\t\treturn { ...p, witness };\n\t\t});\n\n\t\tconst meltPayload: MeltPayload = {\n\t\t\tquote: meltQuote.quote,\n\t\t\tinputs: proofsToSend,\n\t\t\toutputs: outputData.map((d) => d.blindedMessage),\n\t\t};\n\t\tif (method === 'bolt12') {\n\t\t\tconst meltResponse = await this.mint.meltBolt12(meltPayload);\n\t\t\treturn {\n\t\t\t\tquote: { ...meltResponse, unit: meltQuote.unit, request: meltQuote.request },\n\t\t\t\tchange: meltResponse.change?.map((s, i) => outputData[i].toProof(s, keys)) ?? [],\n\t\t\t};\n\t\t}\n\t\tconst meltResponse = await this.mint.melt(meltPayload);\n\t\treturn {\n\t\t\tquote: { ...meltResponse, unit: meltQuote.unit, request: meltQuote.request },\n\t\t\tchange: meltResponse.change?.map((s, i) => outputData[i].toProof(s, keys)) ?? [],\n\t\t};\n\t}\n}\n\nexport { CashuWallet };\n","import {\n\ttype BlindAuthMintPayload,\n\ttype BlindAuthMintResponse,\n\ttype MintActiveKeys,\n\ttype MintAllKeysets,\n} from '../model/types';\nimport request from '../request';\nimport { isObj, joinUrls, sanitizeUrl } from '../utils';\n\n/**\n * Class represents Cashu Auth Mint API. This class contains Lower level functions that are\n * implemented by CashuAuthWallet.\n */\nclass CashuAuthMint {\n\t/**\n\t * @param _mintUrl Requires mint URL to create this object.\n\t * @param _customRequest If passed, use custom request implementation for network communication\n\t *   with the mint.\n\t */\n\tconstructor(\n\t\tprivate _mintUrl: string,\n\t\tprivate _customRequest?: typeof request,\n\t) {\n\t\tthis._mintUrl = sanitizeUrl(_mintUrl);\n\t\tthis._customRequest = _customRequest;\n\t}\n\n\tget mintUrl() {\n\t\treturn this._mintUrl;\n\t}\n\n\t/**\n\t * Mints new Blinded Authentication tokens by requesting blind signatures on the provided outputs.\n\t *\n\t * @param mintUrl\n\t * @param mintPayload Payload containing the outputs to get blind signatures on.\n\t * @param clearAuthToken A NUT-21 clear auth token.\n\t * @param customRequest\n\t * @returns Serialized blinded signatures.\n\t */\n\tpublic static async mint(\n\t\tmintUrl: string,\n\t\tmintPayload: BlindAuthMintPayload,\n\t\tclearAuthToken: string,\n\t\tcustomRequest?: typeof request,\n\t) {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst headers = {\n\t\t\t'Clear-auth': `${clearAuthToken}`,\n\t\t};\n\t\tconst data = await requestInstance<BlindAuthMintResponse>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/auth/blind/mint'),\n\t\t\tmethod: 'POST',\n\t\t\trequestBody: mintPayload,\n\t\t\theaders,\n\t\t});\n\n\t\tif (!isObj(data) || !Array.isArray(data?.signatures)) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\t/**\n\t * Mints new Blinded Authentication tokens by requesting blind signatures on the provided outputs.\n\t *\n\t * @param mintPayload Payload containing the outputs to get blind signatures on.\n\t * @param clearAuthToken A NUT-21 clear auth token.\n\t * @returns Serialized blinded signatures.\n\t */\n\tasync mint(mintPayload: BlindAuthMintPayload, clearAuthToken: string) {\n\t\treturn CashuAuthMint.mint(this._mintUrl, mintPayload, clearAuthToken, this._customRequest);\n\t}\n\n\t/**\n\t * Get the mints public NUT-22 keys.\n\t *\n\t * @param mintUrl\n\t * @param keysetId Optional param to get the keys for a specific keyset. If not specified, the\n\t *   keys from all active keysets are fetched.\n\t * @param customRequest\n\t * @returns\n\t */\n\tpublic static async getKeys(\n\t\tmintUrl: string,\n\t\tkeysetId?: string,\n\t\tcustomRequest?: typeof request,\n\t): Promise<MintActiveKeys> {\n\t\tconst requestInstance = customRequest || request;\n\t\tconst data = await requestInstance<MintActiveKeys>({\n\t\t\tendpoint: keysetId\n\t\t\t\t? joinUrls(mintUrl, '/v1/auth/blind/keys', keysetId)\n\t\t\t\t: joinUrls(mintUrl, '/v1/auth/blind/keys'),\n\t\t});\n\n\t\tif (!isObj(data) || !Array.isArray(data.keysets)) {\n\t\t\tthrow new Error('bad response');\n\t\t}\n\n\t\treturn data;\n\t}\n\t/**\n\t * Get the mints public NUT-22 keys.\n\t *\n\t * @param keysetId Optional param to get the keys for a specific keyset. If not specified, the\n\t *   keys from all active keysets are fetched.\n\t * @returns The mints public keys.\n\t */\n\tasync getKeys(keysetId?: string, mintUrl?: string): Promise<MintActiveKeys> {\n\t\tconst allKeys = await CashuAuthMint.getKeys(\n\t\t\tmintUrl || this._mintUrl,\n\t\t\tkeysetId,\n\t\t\tthis._customRequest,\n\t\t);\n\t\treturn allKeys;\n\t}\n\t/**\n\t * Get the mints NUT-22 keysets in no specific order.\n\t *\n\t * @param mintUrl\n\t * @param customRequest\n\t * @returns All the mints past and current keysets.\n\t */\n\tpublic static async getKeySets(\n\t\tmintUrl: string,\n\t\tcustomRequest?: typeof request,\n\t): Promise<MintAllKeysets> {\n\t\tconst requestInstance = customRequest || request;\n\t\treturn requestInstance<MintAllKeysets>({\n\t\t\tendpoint: joinUrls(mintUrl, '/v1/auth/blind/keysets'),\n\t\t});\n\t}\n\n\t/**\n\t * Get the mints NUT-22 keysets in no specific order.\n\t *\n\t * @returns All the mints past and current keysets.\n\t */\n\tasync getKeySets(): Promise<MintAllKeysets> {\n\t\treturn CashuAuthMint.getKeySets(this._mintUrl, this._customRequest);\n\t}\n}\n\nexport { CashuAuthMint };\n","import { OutputData } from '../model/OutputData';\nimport {\n\ttype BlindAuthMintPayload,\n\ttype MintKeys,\n\ttype MintKeyset,\n\ttype Proof,\n} from '../model/types';\nimport { hasValidDleq } from '../utils';\nimport { type CashuAuthMint } from './CashuAuthMint';\n\n/**\n * Class that represents a Cashu NUT-22 wallet.\n */\nclass CashuAuthWallet {\n\tprivate _keys: Map<string, MintKeys> = new Map();\n\tprivate _keysetId: string | undefined;\n\tprivate _keysets: MintKeyset[] = [];\n\tprivate _unit = 'auth';\n\n\tmint: CashuAuthMint;\n\n\t/**\n\t * @param mint NUT-22 auth mint instance.\n\t * @param options.keys Public keys from the mint (will be fetched from mint if not provided)\n\t * @param options.keysets Keysets from the mint (will be fetched from mint if not provided)\n\t */\n\tconstructor(\n\t\tmint: CashuAuthMint,\n\t\toptions?: {\n\t\t\tkeys?: MintKeys[] | MintKeys;\n\t\t\tkeysets?: MintKeyset[];\n\t\t},\n\t) {\n\t\tthis.mint = mint;\n\t\tlet keys: MintKeys[] = [];\n\t\tif (options?.keys && !Array.isArray(options.keys)) {\n\t\t\tkeys = [options.keys];\n\t\t} else if (options?.keys && Array.isArray(options?.keys)) {\n\t\t\tkeys = options?.keys;\n\t\t}\n\t\tif (keys) keys.forEach((key: MintKeys) => this._keys.set(key.id, key));\n\t\tif (options?.keysets) this._keysets = options.keysets;\n\t}\n\n\tget keys(): Map<string, MintKeys> {\n\t\treturn this._keys;\n\t}\n\tget keysetId(): string {\n\t\tif (!this._keysetId) {\n\t\t\tthrow new Error('No keysetId set');\n\t\t}\n\t\treturn this._keysetId;\n\t}\n\tset keysetId(keysetId: string) {\n\t\tthis._keysetId = keysetId;\n\t}\n\tget keysets(): MintKeyset[] {\n\t\treturn this._keysets;\n\t}\n\n\t/**\n\t * Load mint information, keysets and keys. This function can be called if no keysets are passed\n\t * in the constructor.\n\t */\n\tasync loadMint() {\n\t\tawait this.getKeySets();\n\t\tawait this.getKeys();\n\t}\n\n\t/**\n\t * Choose a keyset to activate based on the lowest input fee.\n\t *\n\t * Note: this function will filter out deprecated base64 keysets.\n\t *\n\t * @param keysets Keysets to choose from.\n\t * @returns Active keyset.\n\t */\n\tgetActiveKeyset(keysets: MintKeyset[]): MintKeyset {\n\t\tlet activeKeysets = keysets.filter((k: MintKeyset) => k.active);\n\n\t\t// we only consider keyset IDs that start with \"00\"\n\t\tactiveKeysets = activeKeysets.filter((k: MintKeyset) => k.id.startsWith('00'));\n\n\t\tconst activeKeyset = activeKeysets.sort(\n\t\t\t(a: MintKeyset, b: MintKeyset) => (a.input_fee_ppk ?? 0) - (b.input_fee_ppk ?? 0),\n\t\t)[0];\n\t\tif (!activeKeyset) {\n\t\t\tthrow new Error('No active keyset found');\n\t\t}\n\t\treturn activeKeyset;\n\t}\n\n\t/**\n\t * Get keysets from the mint with the unit of the wallet.\n\t *\n\t * @returns Keysets with wallet's unit.\n\t */\n\tasync getKeySets(): Promise<MintKeyset[]> {\n\t\tconst allKeysets = await this.mint.getKeySets();\n\t\tconst unitKeysets = allKeysets.keysets.filter((k: MintKeyset) => k.unit === this._unit);\n\t\tthis._keysets = unitKeysets;\n\t\treturn this._keysets;\n\t}\n\n\t/**\n\t * Get all active keys from the mint and set the keyset with the lowest fees as the active wallet\n\t * keyset.\n\t *\n\t * @returns Keyset.\n\t */\n\tasync getAllKeys(): Promise<MintKeys[]> {\n\t\tconst keysets = await this.mint.getKeys();\n\t\tthis._keys = new Map(keysets.keysets.map((k: MintKeys) => [k.id, k]));\n\t\tthis.keysetId = this.getActiveKeyset(this._keysets).id;\n\t\treturn keysets.keysets;\n\t}\n\n\t/**\n\t * Get public keys from the mint. If keys were already fetched, it will return those.\n\t *\n\t * If `keysetId` is set, it will fetch and return that specific keyset. Otherwise, we select an\n\t * active keyset with the unit of the wallet.\n\t *\n\t * @param keysetId Optional keysetId to get keys for.\n\t * @param forceRefresh? If set to true, it will force refresh the keyset from the mint.\n\t * @returns Keyset.\n\t */\n\tasync getKeys(keysetId?: string, forceRefresh?: boolean): Promise<MintKeys> {\n\t\tif (!(this._keysets.length > 0) || forceRefresh) {\n\t\t\tawait this.getKeySets();\n\t\t}\n\t\t// no keyset id is chosen, let's choose one\n\t\tif (!keysetId) {\n\t\t\tconst localKeyset = this.getActiveKeyset(this._keysets);\n\t\t\tkeysetId = localKeyset.id;\n\t\t}\n\t\t// make sure we have keyset for this id\n\t\tif (!this._keysets.find((k: MintKeyset) => k.id === keysetId)) {\n\t\t\tawait this.getKeySets();\n\t\t\tif (!this._keysets.find((k: MintKeyset) => k.id === keysetId)) {\n\t\t\t\tthrow new Error(`could not initialize keys. No keyset with id '${keysetId}' found`);\n\t\t\t}\n\t\t}\n\n\t\t// make sure we have keys for this id\n\t\tif (!this._keys.get(keysetId)) {\n\t\t\tconst keys = await this.mint.getKeys(keysetId);\n\t\t\tthis._keys.set(keysetId, keys.keysets[0]);\n\t\t}\n\n\t\t// set and return\n\t\tthis.keysetId = keysetId;\n\t\treturn this._keys.get(keysetId) as MintKeys;\n\t}\n\n\t/**\n\t * Mint proofs for a given mint quote.\n\t *\n\t * @param amount Amount to request.\n\t * @param clearAuthToken ClearAuthToken to mint.\n\t * @param options.keysetId? Optionally set keysetId for blank outputs for returned change.\n\t * @returns Proofs.\n\t */\n\tasync mintProofs(\n\t\tamount: number,\n\t\tclearAuthToken: string,\n\t\toptions?: {\n\t\t\tkeysetId?: string;\n\t\t},\n\t): Promise<Proof[]> {\n\t\tconst keyset = await this.getKeys(options?.keysetId);\n\t\tconst outputData = OutputData.createRandomData(amount, keyset);\n\n\t\tconst mintPayload: BlindAuthMintPayload = {\n\t\t\toutputs: outputData.map((d) => d.blindedMessage),\n\t\t};\n\t\tconst { signatures } = await this.mint.mint(mintPayload, clearAuthToken);\n\t\tconst authProofs = outputData.map((d, i) => d.toProof(signatures[i], keyset));\n\t\tif (authProofs.some((p) => !hasValidDleq(p, keyset))) {\n\t\t\tthrow new Error('Mint returned auth proofs with invalid DLEQ');\n\t\t}\n\t\treturn authProofs;\n\t}\n}\n\nexport { CashuAuthWallet };\n","import { CashuAuthMint } from './CashuAuthMint';\nimport { CashuAuthWallet } from './CashuAuthWallet';\nimport { encodeJsonToBase64 } from '../base64';\nimport { type Proof } from '../model/types';\n\n/**\n * Helper function to encode a cashu auth token authA.\n *\n * @param proof\n */\nexport function getEncodedAuthToken(proof: Proof): string {\n\tconst token = {\n\t\tid: proof.id,\n\t\tsecret: proof.secret,\n\t\tC: proof.C,\n\t};\n\tconst base64Data = encodeJsonToBase64(token);\n\tconst prefix = 'auth';\n\tconst version = 'A';\n\treturn prefix + version + base64Data;\n}\n\nexport async function getBlindedAuthToken(amount: number, url: string, clearAuthToken: string) {\n\tconst authMint = new CashuAuthMint(url);\n\tconst authWallet = new CashuAuthWallet(authMint);\n\tconst authProofs = await authWallet.mintProofs(amount, clearAuthToken);\n\treturn authProofs.map((p) => getEncodedAuthToken(p));\n}\n\nexport { CashuAuthMint, CashuAuthWallet };\n"],"names":["parseP2PKSecret","secret","buffer","base64Js","byteLength","constructMessage","quote","blindedMessages","toByteArray","message","arraysEqual","arr1","fromByteArray","lookup","createP2PKsecret","privateKey","blindedMessage","Arr","code","newSecret","Bytes","i","bytes","maxIterations","secp256k1","sha256","msgToHash","isResultKeyType","value","A","jsonObj","signature","schnorr","dleq","bytesToNumber","sB_","B_","C_","R_1","sG","eA","R_2","eC_","hash","hash_e","verifyDLEQProof_reblind","Y","encodeCBOR","jsonString","signP2PKSecret","r","bG","rG","pubkeyBytes","validLen","signBlindedMessage","encodeItem","placeHoldersLen","p","e_","verifyP2PKSecretSignature","getLens","lens","pointFromBytes","promise","base64urlFromBase64","msghash","unblindSignature","pubkeyX","bytesToHex","pubkey","s","_byteLength","curByte","len","hasP2PKSignedProof","encodeArray","sig","normalized","revLookup","b64","keysetIdInt","encodeBase64toUint8","keysetId","arr","tmp","encodeByteString","num","reStandard","reUrl","originalNoPad","proof","end","uint8","output","tripletToBase64","pointFromHex","secretStr","counter","encodeUnsigned","serializedMintKeys","isValidHex","len2","extraBytes","maxChunkLength","bm","parts","k","serializeMintKeys","keys","mapBigInt","a","b","pubKey","hexToBytes","prev","curr","mergeUInt8Arrays","pubkeysConcat","pubkeysTag","a2","tags","tag","eLen","eBias","nBits","isLE","d","offset","length","e","deriveBlindingFactor","refundTag","mLen","locktimeTag","eMax","rt","nBytes","c","seed","getP2PKExpectedKWitnessPubkeys","encodeString","utf8","derive","exports","SlowBuffer","Buffer","typedArraySupport","getP2PKWitnessSignatures","witness","derive_deprecated","getKeysetIdInt","derivationPath","STANDARD_DERIVATION_PATH","secretOrBlinding","derived","hdkey","proto","GlobalUint8Array","proofs","index","error","encodeObject","key","signP2PKProof","decodeCBOR","view","data","parsed","decodeItem","buf","witnesses","w","initialByte","signatures","decodeUnsigned","allocUnsafe","from","decodeByteString","additionalInfo","getSignedOutput","encodingOrOffset","getSignedOutputs","decodeSimpleAndFloat","majorType","GlobalArrayBuffer","GlobalSharedArrayBuffer","isInstance","decodeLength","hi","lo","newOffset","alloc","size","fill","encoding","assertSize","createBuffer","decodeString","decodeArray","fromString","array","currentOffset","result","string","actual","decodeMap","checked","map","keyResult","arrayView","valueResult","copy","decodeFloat16","fromArrayBuffer","uint16","fraction","sign","exponent","byteOffset","obj","fromArrayLike","K_MAX_LENGTH","PaymentRequest","transport","amount","unit","mints","description","singleUse","x","id","y","nut10","rawRequest","t","type","rawPaymentRequest","transports","list","pos","encodedRequest","encodedData","decoded","TOKEN_VERSION","TOKEN_PREFIX","splitAmount","keyset","order","split","totalSplitAmount","sumArray","positive","amt","totalPositive","mustMatch","hasCorrespondingKey","sortedKeyAmounts","getKeysetAmounts","q","getKeepAmounts","proofsWeHave","targetCount","amountsWeHave","loweredCase","countWeHave","utf8ToBytes","countWeWant","amountsWeWant","amountToKeep","amountDiff","slowToString","start","hexSlice","hexToNumber","asciiSlice","hex","numberToHexPadded64","number","base64Slice","hasNonHexId","utf16leSlice","getEncodedTokenV3","token","removeDleq","convertToShortKeysetId","stripDleq","v3TokenObj","encodeJsonToBase64","swap","n","m","newP","getEncodedToken","opts","getEncodedTokenV4","tokenTemplate","templateFromToken","prefix","version","base64Data","encodeUint8toBase64Url","mint","utf8Slice","idMap","str","max","customInspectSymbol","target","thisStart","thisEnd","targetCopy","thisCopy","bidirectionalIndexOf","val","dir","tokenFromTemplate","template","numberIsNaN","arrayIndexOf","indexSize","arrLength","read","decodedToken","getDecodedToken","foundIndex","tokenString","keysets","handleTokens","valLength","getTokenMetadata","removePrefix","tokenObj","j","found","encodedToken","hexWrite","parsedV3Token","encodeBase64ToJson","remaining","strLen","entry","uInt8Token","tokenData","blitBuffer","deriveKeysetId","expiry","versionByte","isDeprecatedBase64","asciiWrite","asciiToBytes","base64Write","base64ToBytes","hashHex","ucs2Write","a1","mergedArray","isObj","v","joinUrls","part","sanitizeUrl","url","sumProofs","acc","decodePaymentRequest","paymentRequest","MessageNode","node","base64","MessageQueue","res","messageNode","codePoint","bytesPerSequence","firstByte","thirdByte","fourthByte","tempCodePoint","secondByte","newNode","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","verifyKeysetId","isBase64","isBase64String","ret","mapShortKeysetIds","newProofs","idBytes","out","hexSliceLookupTable","newBuf","checkOffset","ext","hasValidDleq","noAssert","mul","concatByteArrays","arrays","byteArray","totalLength","pointer","defineBigIntMethod","getEncodedTokenBinary","utf8Encoder","first","binaryTemplate","last","boundsError","getDecodedTokenBinary","utfDecoder","validateNumber","binaryToken","_WS","injectWebSocketImpl","ws","getWebSocketImpl","LogLevel","NULL_LOGGER","_ConsoleLogger","ieee754$1","minLevel","context","level","levelPrefix","interpolatedMessage","usedKeys","checkInt","min","processedContext","maxBytes","match","filteredContext","consoleMethod","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","limit","sub","ConsoleLogger","measureTime","ConnectionManager","checkIEEE754","logger","newConn","writeFloat","WSConnection","littleEndian","writeDouble","resolve","reject","err","targetStart","cb","method","params","subId","callback","errorCallback","E","getMessage","errors","Base","fn","sym","name","notification","input","msg","received","addNumericalSeparator","range","checkBounds","base64clean","INVALID_BASE64_RE","CheckStateEnum","MeltQuoteState","units","MintQuoteState","leadSurrogate","PaymentRequestTransportType","HttpResponseError","status","NetworkError","MintOperationError","detail","globalRequestOptions","requestLogger","setGlobalRequestOptions","options","setRequestLogger","_request","endpoint","requestBody","requestHeaders","body","headers","response","errorData","errorMessage","utf16leToBytes","request","handleMeltQuoteResponseDeprecated","dst","src","handleMintQuoteResponseDeprecated","handleMintInfoContactFieldDeprecated","contact","alphabet","MintInfo","i16","info","table","o","BufferBigIntNotDefined","matches","byte","path","sum","isProtectedEndpoint","mintMeltInfo","chunk","normalizedBase64","minLength","CashuMint","base64String","_mintUrl","_customRequest","authTokenGetter","mintUrl","customRequest","mintLogger","swapPayload","blindAuthToken","requestInstance","mintQuotePayload","mintPayload","meltQuotePayload","meltPayload","checkPayload","restorePayload","wsSegment","BlindedMessage","isOutputDataFactory","RESERVED_P2PK_TAGS","MAX_SECRET_LENGTH","OutputData","blidingFactor","blindSignature","constructProofFromPromise","serializeProof","p2pk","customSplit","lockKeys","refundKeys","reqLock","reqRefund","pubkeys","refund","ts","vals","randomBytes","charCount","secretBytes","blindMessage","randomHex","deriveSecret","secretBytesAsHex","utf8SecretBytes","deterministicR","DEFAULT_DENOMINATION_TARGET","DEFAULT_UNIT","CashuWallet","infoRes","activeKeysets","activeKeyset","unitKeysets","forceRefresh","requireDleq","outputAmounts","privkey","outputData","newOutputData","swapTransaction","orderedProofs","offline","includeFees","includeDleq","keepProofsOffline","sendProofOffline","expectedFee","sendRes","keep","send","serialized","amountToSend","timer","bestSubset","bestDelta","bestAmount","bestFeePPK","sumExFees","feePPK","shuffleArray","shuffled","binarySearchIndex","lessOrEqual","left","right","mid","midValue","insertSorted","calculateDelta","totalAmount","totalFeePPK","proofWithFees","ppkfee","exFee","spendableProofs","endIndex","biggerIndex","nextBiggerExFee","rightIndex","totalNetSum","maxOverAmount","trial","S","newAmount","newFeePPK","netSum","SSet","others","indices","_","objP","tempAmount","tempFeePPK","tempNetSum","qIndex","objQ","delta","tempS","tempDelta","bestSum","bestProofs","bestSubsetSet","sumPPK","nInputs","amountAvailable","sendAmounts","outputFee","sendAmountsFee","keepProofs","sendProofs","keepAmounts","keepOutputData","sendOutputData","swapProofs","splitProofsToKeep","splitProofsToSend","reorderedKeepVector","reorderedProofs","gapLimit","batchSize","requiredEmptyBatches","restoredProofs","lastCounterWithSignature","emptyBatchesFound","restoreRes","count","zeros","outputs","signatureMap","matchingSig","supported","mintInfo","quoteId","baseRes","invoice","meltQuote","offer","amountMsat","millisatPartialAmount","meltOptions","proofsToSend","customOutputData","total","keepAmount","factory","signP2PKProofs","mergedBlindingData","keepVector","sortedOutputData","sortedKeepVector","enc","Ys","hashToCurve","BATCH_SIZE","states","YsSlice","batchStates","stateMap","state","quoteIds","proofMap","ys","newBlindingData","amounts","signMintQuote","meltResponse","CashuAuthMint","clearAuthToken","CashuAuthWallet","authProofs","getEncodedAuthToken","getBlindedAuthToken","authMint"],"mappings":"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","ignoreList":[0,2,4,10,12,13,16,17,21,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]}