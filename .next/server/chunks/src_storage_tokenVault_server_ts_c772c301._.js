module.exports=[949070,t=>{"use strict";t.s(["default",()=>o]);var e=t.i(522734),r=t.i(814747);let s=r.default.join(process.cwd(),".data"),a=r.default.join(s,"cashu-tokens.json");async function i(){try{await e.promises.mkdir(s,{recursive:!0})}catch(t){}}async function c(){await i();try{let t=await e.promises.readFile(a,"utf8"),r=JSON.parse(t);if(r&&"object"==typeof r&&r.records)return{version:r.version||1,records:r.records}}catch(t){}return{version:1,records:{}}}async function n(t){let r=JSON.stringify(t,null,2);await e.promises.writeFile(a,r,"utf8")}let o={get:async t=>(await c()).records[t]||null,async set(t){let e=await c();e.records[t.quote]=t,await n(e)},async has(t){return!!await this.get(t)},async list(t=100){let e=Object.values((await c()).records);return e.sort((t,e)=>e.createdAt-t.createdAt),e.slice(0,t)}}}];

//# sourceMappingURL=src_storage_tokenVault_server_ts_c772c301._.js.map