module.exports=[155383,a=>{"use strict";a.s(["default",()=>z],155383);var b=a.i(187924),c=a.i(572131),d=a.i(726956),e=a.i(734498),f=a.i(157726),g=a.i(142266),h=a.i(304547),i=a.i(758212),j=a.i(828391),k=a.i(35143);let l=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))});var m=a.i(366497),n=a.i(329514),o=a.i(867102),p=a.i(657262),q=a.i(918373),r=a.i(515096),s=a.i(14382),t=a.i(680665);async function u(a,b){console.log("ðŸŽ« SLPM Issue Token: Starting issue flow for",a,"STRK");try{console.log("ðŸ’° SLPM Issue Token: Step 1 - Depositing STRK to privacy mixer..."),b({type:"issue:progress",message:"Depositing STRK to privacy mixer...",progress:10});let c=await (0,o.stepDeposit)(a,a=>{"deposit:initiated"===a.type?b({type:"issue:progress",message:a.message,progress:12}):"deposit:wallet_connected"===a.type?b({type:"issue:progress",message:a.message,progress:15}):"deposit:balance_checked"===a.type?b({type:"issue:progress",message:a.message,progress:18}):"deposit:confirmed"===a.type&&b({type:"issue:progress",message:"Deposit complete",progress:20})});console.log("âœ… SLPM Issue Token: Deposit complete:",{commitment:c.commitmentHash.slice(0,10)+"...",amount:c.amount}),console.log("ðŸ”„ SLPM Issue Token: Step 2 - Withdrawing from mixer..."),b({type:"issue:progress",message:"Withdrawing from mixer for swap...",progress:25});let d=await (0,p.stepWithdrawForMixing)(c,a=>{"deposit:preparing_withdrawal"===a.type&&b({type:"issue:progress",message:a.message,progress:28})});console.log("âœ… SLPM Issue Token: Withdrawal complete:",{availableForSwap:d.availableForSwap,amount:d.amount}),console.log("ðŸ’± SLPM Issue Token: Step 3 - Estimating STRKâ†’sats..."),b({type:"issue:progress",message:"Estimating conversion rate...",progress:35});let e=await (0,q.stepDynamicEstimateSats)(d.amount,b);console.log("ðŸ’° SLPM Issue Token: Estimated",d.amount,"STRK â†’",e.satsOut,"sats"),console.log("ðŸŽŸï¸ SLPM Issue Token: Step 4 - Creating Cashu mint invoice..."),b({type:"issue:progress",message:"Creating Cashu mint invoice...",progress:40});let f=await (0,r.stepCreateMintInvoice)(e.satsOut,b),g=f.mintQuote.request?f.mintQuote.request.slice(0,30)+"...":"n/a";console.log("âœ… SLPM Issue Token: Mint invoice created:",{quoteId:f.mintQuote.quote,amount:e.satsOut,invoice:g}),console.log("âš¡ SLPM Issue Token: Step 5 - Swapping STRKâ†’Lightning..."),b({type:"issue:progress",message:"Swapping STRK to Lightning...",progress:50});let h=await (0,s.stepSwapToLightning)(d.amount,{walletAddress:d.originalDeposit.walletAddress,mixerContractAddress:d.originalDeposit.mixerContractAddress,fundsAvailable:d.availableForSwap},f,b);console.log("âœ… SLPM Issue Token: Lightning swap complete:",{executionId:h.executionId,paymentHash:h.lightningPaymentHash?.slice(0,10)+"..."}),console.log("ðŸŽ« SLPM Issue Token: Step 6 - Claiming Cashu proofs..."),b({type:"issue:progress",message:"Claiming Cashu token...",progress:75});let i=await (0,t.stepClaimCashuProofs)(f.mintQuote,f.cashu,e.satsOut,b);console.log("âœ… SLPM Issue Token: Cashu proofs claimed:",{proofsCount:i.length,totalValue:i.reduce((a,b)=>a+Number(b.amount),0)}),console.log("ðŸ“¦ SLPM Issue Token: Step 7 - Serializing token..."),b({type:"issue:progress",message:"Creating bearer token...",progress:90});let j=f.cashu.createToken(i);return console.log("âœ… SLPM Issue Token: Token serialized:",{tokenLength:j.length,tokenPreview:j.slice(0,50)+"..."}),b({type:"issue:complete",message:"Token issued successfully!",progress:100}),{token:j,amount:a,satsValue:e.satsOut,mintUrl:f.mintQuote.request||"unknown",depositInfo:{commitmentHash:c.commitmentHash,secret:c.secret,nullifier:c.nullifier,mixerContractAddress:c.mixerContractAddress}}}catch(a){throw console.error("âŒ SLPM Issue Token: Error:",a),b({type:"issue:error",message:a.message||"Failed to issue token"}),a}}function v({isConnected:a,onConnectWallet:d,showNotification:e}){let[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)("idle"),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(0),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(0),z=async()=>{if(!a)return void d();let b=parseFloat(f);if(isNaN(b)||b<=0)return void e("error","Invalid Amount","Please enter a valid amount");i("depositing"),r(""),t(0);try{let a=await u(b,a=>{console.log("Issue event:",a),void 0!==a.progress&&t(a.progress),a.message&&w(a.message),"issue:progress"===a.type?a.message?.includes("Deposit")?i("depositing"):a.message?.includes("Withdraw")?i("withdrawing"):a.message?.includes("Estimat")?i("estimating"):a.message?.includes("invoice")?i("creating_invoice"):a.message?.includes("Swap")?i("swapping"):(a.message?.includes("Claim")||a.message?.includes("token"))&&i("minting"):"issue:complete"===a.type?i("complete"):"issue:error"===a.type&&(i("error"),r(a.message||"Unknown error"))});p(a.token),y(a.satsValue),i("complete"),e("success","Token Issued",`Your ${a.satsValue} sats ecash token is ready`)}catch(b){i("error");let a=b instanceof Error?b.message:"Unknown error";r(a),e("error","Issue Failed",a)}},A=()=>{i("idle"),g(""),p(""),r(""),t(0),w(""),y(0)};return(0,b.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6",children:["idle"===h&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[(0,b.jsx)(j.BanknotesIcon,{className:"w-6 h-6 text-blue-400"}),(0,b.jsx)("span",{children:"Issue Ecash Token"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Amount (STRK)"}),(0,b.jsx)("input",{type:"text",inputMode:"decimal",value:f,onChange:a=>g(a.target.value),placeholder:"0.00",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:outline-none"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum: 1.0 STRK"})]}),(0,b.jsx)("button",{onClick:z,disabled:!f||0>=parseFloat(f),className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white py-3 rounded-lg font-semibold transition",children:a?"Issue Token":"Connect Wallet"}),(0,b.jsx)("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-blue-300",children:"This creates a Cashu ecash token that you can store securely and redeem later for STRK."})})]}),("depositing"===h||"withdrawing"===h||"estimating"===h||"creating_invoice"===h||"swapping"===h||"minting"===h)&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"}),(0,b.jsx)("p",{className:"text-gray-300 mb-2",children:(()=>{switch(h){case"depositing":return"Depositing STRK to privacy mixer...";case"withdrawing":return"Withdrawing from mixer...";case"estimating":return"Estimating conversion rate...";case"creating_invoice":return"Creating Cashu mint invoice...";case"swapping":return"Swapping STRK to Lightning...";case"minting":return"Claiming Cashu token...";default:return v||"Processing..."}})()}),s>0&&(0,b.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-4",children:(0,b.jsx)("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${s}%`}})}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[s,"%"]})]}),"complete"===h&&o&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[(0,b.jsx)(n.CheckCircleIcon,{className:"w-6 h-6 text-green-400"}),(0,b.jsx)("span",{children:"Token Issued Successfully"})]}),(0,b.jsxs)("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-green-300 font-semibold mb-2",children:"IMPORTANT: Store this token securely!"}),(0,b.jsxs)("p",{className:"text-sm text-green-300 mb-2",children:["This token represents real value (",x," sats â‰ˆ ",f," STRK) and can be redeemed for STRK. Anyone with this token can redeem it."]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Ecash Token"}),(0,b.jsx)("textarea",{readOnly:!0,value:o,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none",rows:6})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,b.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(o),e("success","Copied","Token copied to clipboard")},className:"flex items-center justify-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-semibold transition",children:[(0,b.jsx)(k.DocumentDuplicateIcon,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Copy Token"})]}),(0,b.jsxs)("button",{onClick:()=>{let a=new Blob([o],{type:"text/plain"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`cashu-token-${Date.now()}.txt`,c.click(),URL.revokeObjectURL(b),e("success","Downloaded","Token saved to file")},className:"flex items-center justify-center space-x-2 bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-semibold transition",children:[(0,b.jsx)(l,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Download"})]})]}),(0,b.jsx)("button",{onClick:A,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition",children:"Issue Another Token"})]}),"error"===h&&q&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[(0,b.jsx)(m.ExclamationTriangleIcon,{className:"w-6 h-6 text-red-400"}),(0,b.jsx)("span",{children:"Error"})]}),(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-red-300",children:q})}),(0,b.jsx)("button",{onClick:A,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition",children:"Try Again"})]})]})}var w=a.i(452667),x=a.i(283217);function y({isConnected:d,onConnectWallet:e,showNotification:g}){let[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,o]=(0,c.useState)(""),[p,q]=(0,c.useState)("strk"),[r,s]=(0,c.useState)("idle"),[t,u]=(0,c.useState)(""),[v,y]=(0,c.useState)(0),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let b=setTimeout(async()=>{if(!h.trim()||"lightning"!==p)return void E(null);G(!0);try{let{calculateMaxInvoiceAmount:b}=await a.A(506340),c=await b(h);c.success?E({maxAmount:c.maxAmount,availableBalance:c.availableBalance}):(E(null),g("warning","Invalid Token","Could not calculate invoice amount from token"))}catch(a){E(null)}finally{G(!1)}},500);return()=>clearTimeout(b)},[h,p,g]);let H=async()=>{if(!d&&"strk"===p)return void e();if(!h.trim())return void g("error","Missing Token","Please enter an ecash token");if("strk"===p&&!j.trim())return void g("error","Missing Recipient","Please enter a recipient address");if("lightning"===p&&!l.trim())return void g("error","Missing Invoice","Please enter a Lightning invoice");s("validating"),u(""),y(10);try{if("lightning"===p){let{redeemToLightning:b}=await a.A(908383);await b(h,l,a=>{"redeem:validating"===a.type&&(s("validating"),y(20)),"redeem:melting"===a.type&&(s("melting"),y(60),g("info","Melting Ecash","Converting ecash to Lightning payment")),"redeem:complete"===a.type&&(s("complete"),y(100),a.changeToken&&C(a.changeToken),g("success","Payment Complete","Lightning invoice paid")),"redeem:error"===a.type&&(s("error"),u(a.message||"Payment failed"),g("error","Payment Failed",a.message||"Unknown error"))})}else{let{redeemCashuToken:b}=await a.A(908383);await b(h,j,a=>{"redeem:validating"===a.type&&(s("validating"),y(20)),"redeem:creating_swap"===a.type&&(s("creating_swap"),y(30),g("info","Creating Swap","Preparing Lightning to STRK swap")),"redeem:melting"===a.type&&(s("melting"),y(50),g("info","Melting Ecash","Converting ecash to Lightning payment")),"redeem:claiming"===a.type&&(s("claiming"),y(70),g("info","Claiming Swap","Finalizing STRK transfer")),"redeem:forwarding"===a.type&&(s("forwarding"),y(85)),"redeem:complete"===a.type&&(s("complete"),y(100),a.txHash&&A(a.txHash),a.changeToken&&C(a.changeToken),g("success","Redemption Complete","STRK sent to recipient")),"redeem:error"===a.type&&(s("error"),u(a.message||"Redemption failed"),g("error","Redemption Failed",a.message||"Unknown error"))})}}catch(a){s("error"),u(a instanceof Error?a.message:"Unknown error"),g("error","Redemption Failed",a instanceof Error?a.message:"Unknown error")}},I=()=>{s("idle"),i(""),k(""),o(""),q("strk"),u(""),y(0),A(""),C(""),E(null)};return(0,b.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6",children:["idle"===r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[(0,b.jsx)(f.ArrowPathIcon,{className:"w-6 h-6 text-blue-400"}),(0,b.jsx)("span",{children:"Redeem Ecash Token"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Ecash Token"}),(0,b.jsx)("textarea",{value:h,onChange:a=>i(a.target.value),placeholder:"cashuAeyJ0...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:outline-none font-mono text-sm resize-none",rows:4}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Paste your full ecash token here"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-300 mb-3",children:"Settlement Type"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{onClick:()=>q("strk"),className:`flex items-center justify-center space-x-2 px-4 py-3 rounded-lg border-2 transition ${"strk"===p?"border-orange-500 bg-orange-500/20 text-orange-400":"border-gray-600 bg-gray-800 text-gray-400 hover:border-gray-500"}`,children:[(0,b.jsx)(x.CurrencyDollarIcon,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"font-semibold",children:"STRK Token"})]}),(0,b.jsxs)("button",{onClick:()=>q("lightning"),className:`flex items-center justify-center space-x-2 px-4 py-3 rounded-lg border-2 transition ${"lightning"===p?"border-orange-500 bg-orange-500/20 text-orange-400":"border-gray-600 bg-gray-800 text-gray-400 hover:border-gray-500"}`,children:[(0,b.jsx)(w.BoltIcon,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"font-semibold",children:"Lightning Invoice"})]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"strk"===p?"Convert ecash to STRK tokens on Starknet":"Pay a Lightning invoice directly from ecash"})]}),"strk"===p?(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Recipient Address"}),(0,b.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),placeholder:"0x1234567890abcdef...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:outline-none"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Starknet address to receive STRK"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Lightning Invoice"}),(0,b.jsx)("textarea",{value:l,onChange:a=>o(a.target.value),placeholder:"lnbc...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:outline-none font-mono text-sm resize-none",rows:3}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the Lightning invoice to pay"})]}),F&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-blue-300",children:"Calculating maximum invoice amount..."})}),D&&!F&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-green-300 font-semibold mb-2",children:"Recommended Invoice Amount"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("p",{className:"text-lg text-green-400 font-bold",children:[D.maxAmount," sats"]}),(0,b.jsxs)("p",{className:"text-xs text-green-300",children:["Available balance: ",D.availableBalance," sats"]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Formula: invoice_amount = balance - max(2, 0.01Ã—amount) - 1"})]})]})]}),(0,b.jsx)("button",{onClick:H,disabled:!h.trim()||"strk"===p&&(!j.trim()||!d)||"lightning"===p&&!l.trim(),className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white py-3 rounded-lg font-semibold transition",children:"strk"===p?d?"Redeem to STRK":"Connect Wallet":"Pay Lightning Invoice"}),(0,b.jsx)("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-blue-300",children:"strk"===p?"Your ecash token will be converted to Lightning BTC, then swapped to STRK and sent to the recipient address.":"Your ecash token will be melted to pay the Lightning invoice. Make sure the invoice amount matches the recommended amount above."})})]}),("validating"===r||"creating_swap"===r||"melting"===r||"claiming"===r||"forwarding"===r)&&(0,b.jsxs)("div",{className:"py-12",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"}),(0,b.jsx)("p",{className:"text-gray-300 font-semibold",children:(()=>{switch(r){case"validating":return"Validating token...";case"creating_swap":return"Creating Lightning to STRK swap...";case"melting":return"Melting ecash to Lightning...";case"claiming":return"Claiming STRK on Starknet...";case"forwarding":return"Forwarding STRK to recipient...";default:return""}})()})]}),(0,b.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,b.jsxs)("div",{className:"mb-2 flex justify-between text-sm text-gray-400",children:[(0,b.jsx)("span",{children:"Progress"}),(0,b.jsxs)("span",{children:[v,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})})]}),(0,b.jsx)("div",{className:"mt-8 text-center",children:(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"This may take a few moments..."})})]}),"complete"===r&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[(0,b.jsx)(n.CheckCircleIcon,{className:"w-6 h-6 text-green-400"}),(0,b.jsx)("span",{children:"Redemption Complete"})]}),(0,b.jsxs)("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-green-300 font-semibold mb-2",children:"Success!"}),(0,b.jsx)("p",{className:"text-sm text-green-300",children:"STRK has been sent to the recipient address."})]}),z&&(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-300 mb-2",children:"Transaction Hash"}),(0,b.jsx)("div",{className:"bg-gray-800 border border-gray-600 rounded-lg px-4 py-3",children:(0,b.jsx)("p",{className:"text-white font-mono text-sm break-all",children:z})})]}),B&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-blue-300 font-semibold mb-2",children:"Change Token Available"}),(0,b.jsx)("p",{className:"text-sm text-blue-300 mb-3",children:"Your redemption had leftover value. Here is your change token:"}),(0,b.jsx)("textarea",{readOnly:!0,value:B,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none",rows:4}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(B),g("success","Copied","Change token copied to clipboard")},className:"mt-2 w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg transition",children:"Copy Change Token"})]}),(0,b.jsx)("button",{onClick:I,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition",children:"Redeem Another Token"})]}),"error"===r&&t&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center space-x-3",children:[(0,b.jsx)(m.ExclamationTriangleIcon,{className:"w-6 h-6 text-red-400"}),(0,b.jsx)("span",{children:"Error"})]}),(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-red-300",children:t})}),(0,b.jsx)("button",{onClick:I,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition",children:"Try Again"})]})]})}function z(){let a=(0,d.useWallet)(),[j,k]=(0,c.useState)("issue"),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)({show:!1,type:"info",title:"",message:""}),t=(a,b,c)=>{s({show:!0,type:a,title:b,message:c})},u=async b=>{q(!0);try{await a.connect("argentx"===b.toLowerCase()?"argentX":"braavos"===b.toLowerCase()?"braavos":"okx"===b.toLowerCase()?"okx":"argentX"),m(!0),o(!1),t("success","Wallet Connected",`Connected to ${b}`)}catch{t("error","Connection Failed","Failed to connect wallet. Please try again.")}finally{q(!1)}};return c.default.useEffect(()=>{m(a.isConnected)},[a.isConnected]),(0,b.jsxs)("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col",children:[(0,b.jsx)(i.default,{}),(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-950 -z-10",children:(0,b.jsx)("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{backgroundImage:"url('/patterns/grid.svg')",backgroundSize:"32px 32px",backgroundRepeat:"repeat"}})}),(0,b.jsxs)("div",{className:"relative z-10 container mx-auto px-4 py-8 flex-1",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-4 text-white",children:"Split Mix"}),(0,b.jsx)("p",{className:"text-gray-400 text-lg",children:"Issue ecash tokens or redeem them for STRK"}),(0,b.jsx)("div",{className:"mt-6 flex justify-center",children:l?(0,b.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-green-500/20 border border-green-500 text-green-400 px-6 py-3 rounded-lg",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,b.jsx)("span",{children:"Wallet Connected"})]}):(0,b.jsxs)("button",{onClick:()=>o(!0),className:"inline-flex items-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition",children:[(0,b.jsx)(e.ShieldCheckIcon,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Connect Wallet"})]})})]}),(0,b.jsx)("div",{className:"max-w-5xl mx-auto mb-6",children:(0,b.jsxs)("div",{className:"flex border-b border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>k("issue"),className:`flex-1 px-6 py-4 text-center font-semibold transition ${"issue"===j?"border-b-2 border-orange-500 text-orange-500":"text-gray-400 hover:text-gray-300"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,b.jsx)(e.ShieldCheckIcon,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Issue Token"})]})}),(0,b.jsx)("button",{onClick:()=>k("redeem"),className:`flex-1 px-6 py-4 text-center font-semibold transition ${"redeem"===j?"border-b-2 border-orange-500 text-orange-500":"text-gray-400 hover:text-gray-300"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,b.jsx)(f.ArrowPathIcon,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Redeem Token"})]})})]})}),(0,b.jsx)("div",{className:"max-w-5xl mx-auto",children:"issue"===j?(0,b.jsx)(v,{isConnected:l,onConnectWallet:()=>o(!0),showNotification:t}):(0,b.jsx)(y,{isConnected:l,onConnectWallet:()=>o(!0),showNotification:t})})]}),(0,b.jsx)(g.default,{isOpen:n,onClose:()=>o(!1),onConnect:u,isConnecting:p}),(0,b.jsx)(h.default,{type:r.type,title:r.title,message:r.message,isVisible:r.show,onClose:()=>s(a=>({...a,show:!1}))})]})}}];

//# sourceMappingURL=src_app_mixer_split_page_tsx_89584170._.js.map