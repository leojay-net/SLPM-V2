module.exports=[282170,a=>{"use strict";a.s(["CrossChainQuote",()=>i]);var b=a.i(187924),c=a.i(572131),d=a.i(469283),e=a.i(157726),f=a.i(329514),g=a.i(366497),h=a.i(658669);function i({direction:a,amount:i,onQuoteReady:j,className:k=""}){var l;let[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(0),u=(0,c.useCallback)(async()=>{if(i<=0){n(null),r(null),j?.(null);return}p(!0),r(null);try{let b,c,d,e,f,g,h,k="zec-to-strk"===a;k?(b=i,e="ZEC",f="STRK",d=(c=Math.floor(.00583*i*1e8))/1e8*7760,g=1.5,h=1):(b=i,e="STRK",f="ZEC",d=(c=Math.floor(125e-6*i*99e6))/1e8/.00583*.985,g=1,h=1.5);let l={inputAmount:b,inputCurrency:e,lightningAmount:c,outputAmount:d,outputCurrency:f,totalFeePercent:g+h,legs:{first:{rate:k?.00583:125e-6,fee:g},second:{rate:k?8e3:171.52658662092625,fee:h}},expiresAt:Date.now()+6e4};n(l),t(60),j?.(l)}catch(a){r(a instanceof Error?a.message:"Failed to fetch quote"),n(null),j?.(null)}finally{p(!1)}},[i,a,j]);(0,c.useEffect)(()=>{let a=setTimeout(u,500);return()=>clearTimeout(a)},[u]),(0,c.useEffect)(()=>{if(s<=0)return;let a=setInterval(()=>{t(a=>a<=1?(u(),0):a-1)},1e3);return()=>clearInterval(a)},[s,u]);let v=(a,b=4)=>a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:b});return!i||i<=0?(0,b.jsx)("div",{className:`bg-gray-800/50 border border-gray-700 rounded-xl p-6 ${k}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-center text-gray-500 py-8",children:[(0,b.jsx)(h.InformationCircleIcon,{className:"w-5 h-5 mr-2"}),(0,b.jsx)("span",{children:"Enter an amount to see quote"})]})}):o?(0,b.jsx)("div",{className:`bg-gray-800/50 border border-gray-700 rounded-xl p-6 ${k}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,b.jsx)(e.ArrowPathIcon,{className:"w-6 h-6 text-blue-400 animate-spin mr-3"}),(0,b.jsx)("span",{className:"text-gray-300",children:"Fetching best rate..."})]})}):q?(0,b.jsxs)("div",{className:`bg-red-900/20 border border-red-800 rounded-xl p-6 ${k}`,children:[(0,b.jsxs)("div",{className:"flex items-center text-red-400",children:[(0,b.jsx)(g.ExclamationTriangleIcon,{className:"w-5 h-5 mr-2"}),(0,b.jsx)("span",{children:q})]}),(0,b.jsx)("button",{onClick:u,className:"mt-4 text-sm text-blue-400 hover:text-blue-300 underline",children:"Try again"})]}):m?(0,b.jsxs)("div",{className:`bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden ${k}`,children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(d.ArrowsRightLeftIcon,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("span",{className:"font-medium text-white",children:"Quote"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,b.jsxs)("span",{children:["Refreshing in ",s,"s"]}),(0,b.jsx)("button",{onClick:u,className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Refresh quote",children:(0,b.jsx)(e.ArrowPathIcon,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between py-4 px-5 bg-gray-900/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:v(m.inputAmount,6)}),(0,b.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:m.inputCurrency})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center px-4",children:[(0,b.jsx)(d.ArrowsRightLeftIcon,{className:"w-6 h-6 text-gray-500"}),(0,b.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:[(l=m.lightningAmount)>=1e6?`${(l/1e6).toFixed(2)}M`:l>=1e3?`${(l/1e3).toFixed(1)}k`:l.toString()," sats"]})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-400",children:v(m.outputAmount,6)}),(0,b.jsx)("div",{className:"text-sm text-gray-400 mt-1",children:m.outputCurrency})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"p-3 bg-gray-900/30 rounded-lg",children:[(0,b.jsx)("div",{className:"text-gray-400 mb-1",children:"zec-to-strk"===a?"ZEC â†’ Lightning":"STRK â†’ Lightning"}),(0,b.jsxs)("div",{className:"text-white font-medium",children:["Rate: ",m.legs.first.rate.toFixed(6)]}),(0,b.jsxs)("div",{className:"text-gray-500 text-xs",children:["Fee: ~",m.legs.first.fee.toFixed(2),"%"]})]}),(0,b.jsxs)("div",{className:"p-3 bg-gray-900/30 rounded-lg",children:[(0,b.jsx)("div",{className:"text-gray-400 mb-1",children:"zec-to-strk"===a?"Lightning â†’ STRK":"Lightning â†’ ZEC"}),(0,b.jsxs)("div",{className:"text-white font-medium",children:["Rate: ",m.legs.second.rate.toFixed(6)]}),(0,b.jsxs)("div",{className:"text-gray-500 text-xs",children:["Fee: ~",m.legs.second.fee.toFixed(2),"%"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-700",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Total Estimated Fee"}),(0,b.jsxs)("span",{className:"text-orange-400 font-medium",children:["~",m.totalFeePercent.toFixed(2),"%"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Effective Rate"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:["1 ",m.inputCurrency," = ",v(m.outputAmount/m.inputAmount,4)," ",m.outputCurrency]})]})]}),(0,b.jsx)("div",{className:"px-6 py-3 bg-gray-900/30 border-t border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-start space-x-2 text-xs text-gray-500",children:[(0,b.jsx)(f.CheckCircleIcon,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{children:"Quote includes all network fees. Final amount may vary slightly due to market conditions."})]})})]}):null}},609797,a=>{"use strict";a.s(["TransferStatusTracker",()=>q],609797);var b=a.i(187924),c=a.i(572131),d=a.i(329514),e=a.i(940772);let f=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))});var g=a.i(157726),h=a.i(828391),i=a.i(452667),j=a.i(564379),k=a.i(734498),l=a.i(35143);let m=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),n={"atomiq-swap-create":i.BoltIcon,"fixedfloat-order":g.ArrowPathIcon,"zec-deposit":h.BanknotesIcon,"lightning-payment":i.BoltIcon,"strk-claim":j.WalletIcon,"strk-to-lightning":i.BoltIcon,"zec-delivery":h.BanknotesIcon,"privacy-mixer":k.ShieldCheckIcon,"cashu-flow":k.ShieldCheckIcon},o={pending:"text-gray-500 border-gray-600 bg-gray-800","in-progress":"text-blue-400 border-blue-500 bg-blue-500/10",complete:"text-green-400 border-green-500 bg-green-500/10",failed:"text-red-400 border-red-500 bg-red-500/10",skipped:"text-gray-500 border-gray-600 bg-gray-800/50"},p={pending:"text-gray-500","in-progress":"text-blue-400",complete:"text-green-400",failed:"text-red-400",skipped:"text-gray-500"};function q({steps:a,currentStepIndex:h,direction:i,depositAddress:j,depositAmount:k,className:q=""}){let[r,s]=c.default.useState(!1),t=async a=>{try{await navigator.clipboard.writeText(a),s(!0),setTimeout(()=>s(!1),2e3)}catch(a){console.error("Failed to copy:",a)}},u=a.filter(a=>"complete"===a.status).length,v=u/a.length*100;return(0,b.jsxs)("div",{className:`bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden ${q}`,children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h3",{className:"font-medium text-white",children:"Transfer Progress"}),(0,b.jsxs)("span",{className:"text-sm text-gray-400",children:[u," of ",a.length," steps"]})]}),(0,b.jsx)("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-500",style:{width:`${v}%`}})})]}),j&&"zec-to-strk"===i&&h<=2&&(0,b.jsxs)("div",{className:"mx-6 mt-6 p-4 bg-orange-500/10 border border-orange-500/30 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-orange-400 font-medium mb-1",children:["Send ",k," ZEC to:"]}),(0,b.jsx)("code",{className:"text-xs text-white font-mono break-all",children:j})]}),(0,b.jsx)("button",{onClick:()=>t(j),className:"p-2 hover:bg-orange-500/20 rounded-lg transition-colors flex-shrink-0",title:"Copy address",children:r?(0,b.jsx)(d.CheckCircleIcon,{className:"w-5 h-5 text-green-400"}):(0,b.jsx)(l.DocumentDuplicateIcon,{className:"w-5 h-5 text-orange-400"})})]}),(0,b.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:"Transfer will continue automatically once deposit is confirmed"})]}),(0,b.jsx)("div",{className:"p-6 space-y-1",children:a.map((c,d)=>{let i=n[c.name]||g.ArrowPathIcon,j=d===h,k=((a,b)=>{if(!a)return null;let c=Math.floor(((b||Date.now())-a)/1e3);if(c<60)return`${c}s`;let d=Math.floor(c/60);return`${d}m ${c%60}s`})(c.startedAt,c.completedAt);return(0,b.jsxs)("div",{className:`relative flex items-start p-4 rounded-lg transition-colors ${j?"bg-gray-900/50":""}`,children:[d<a.length-1&&(0,b.jsx)("div",{className:`absolute left-7 top-14 w-0.5 h-6 ${"complete"===c.status?"bg-green-500/50":"bg-gray-700"}`}),(0,b.jsx)("div",{className:`flex-shrink-0 w-10 h-10 rounded-full border-2 flex items-center justify-center mr-4 ${o[c.status]}`,children:(0,b.jsx)(i,{className:`w-5 h-5 ${p[c.status]}`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:`font-medium ${"complete"===c.status?"text-green-400":"in-progress"===c.status?"text-blue-400":"failed"===c.status?"text-red-400":"text-gray-400"}`,children:c.description}),((a,c)=>{switch(a.status){case"complete":return(0,b.jsx)(m,{className:"w-5 h-5 text-green-400"});case"in-progress":return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.ArrowPathIcon,{className:"w-5 h-5 text-blue-400 animate-spin"}),c===h&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-400 rounded-full animate-pulse"})]});case"failed":return(0,b.jsx)(f,{className:"w-5 h-5 text-red-400"});case"skipped":return(0,b.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-dashed border-gray-600"});default:return(0,b.jsx)(e.ClockIcon,{className:"w-5 h-5 text-gray-500"})}})(c,d)]}),k&&(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["complete"===c.status?"Completed in":"Running for"," ",k]}),c.txId&&(0,b.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"TX:"}),(0,b.jsx)("code",{className:"text-xs text-blue-400 font-mono truncate max-w-[200px]",children:c.txId}),(0,b.jsx)("button",{onClick:()=>t(c.txId),className:"p-1 hover:bg-gray-700 rounded",children:(0,b.jsx)(l.DocumentDuplicateIcon,{className:"w-3 h-3 text-gray-500"})})]}),c.error&&(0,b.jsx)("div",{className:"mt-2 text-xs text-red-400 bg-red-900/20 px-2 py-1 rounded",children:c.error}),c.data&&Object.keys(c.data).length>0&&(0,b.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:Object.entries(c.data).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)("span",{className:"capitalize",children:[a.replace(/([A-Z])/g," $1").trim(),":"]}),(0,b.jsx)("span",{className:"text-gray-400 truncate max-w-[150px]",children:String(c)})]},a))})]})]},c.id)})})]})}},483017,a=>{"use strict";a.s(["ZecDepositForm",()=>k]);var b=a.i(187924),c=a.i(572131),d=a.i(469283),e=a.i(603735),f=a.i(734498),g=a.i(452667),h=a.i(658669),i=a.i(366497);let j={ZEC:{name:"Zcash",symbol:"ZEC",icon:"Z",color:"text-orange-500",bgColor:"bg-orange-500/10",min:.003,max:27},STRK:{name:"Starknet",symbol:"STRK",icon:"S",color:"text-orange-400",bgColor:"bg-orange-400/10",min:10,max:1e4}};function k({onSubmit:a,onChange:k,isLoading:l=!1,disabled:m=!1,className:n=""}){let[o,p]=(0,c.useState)("zec-to-strk"),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),A="zec-to-strk"===o?j.ZEC:j.STRK,B="zec-to-strk"===o?j.STRK:j.ZEC,C=parseFloat(q)||0,D=C>=A.min&&C<=A.max,E=s.length>10,F=D&&E&&!l&&!m;return(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),q&&s&&a({direction:o,amount:parseFloat(q),destinationAddress:s,usePrivacyMixer:u,useCashuFlow:w})},className:`bg-gray-900 border border-gray-700 rounded-xl ${n}`,children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-700",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[(0,b.jsx)(d.ArrowsRightLeftIcon,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("span",{children:"Cross-Chain Swap"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Private transfers between Zcash and Starknet"})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-400",children:"You Send"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full ${A.bgColor} flex items-center justify-center`,children:(0,b.jsx)("span",{className:`text-sm font-bold ${A.color}`,children:A.icon})}),(0,b.jsx)("input",{type:"number",value:q,onChange:a=>(a=>{r(a);let b=parseFloat(a)||0;k?.({direction:o,amount:b})})(a.target.value),placeholder:"0.00",step:"any",min:A.min,max:A.max,className:"w-full bg-gray-800 border border-gray-600 rounded-lg pl-14 pr-20 py-4 text-xl text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none transition-colors",disabled:l||m}),(0,b.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:(0,b.jsx)("span",{className:`text-lg font-medium ${A.color}`,children:A.symbol})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,b.jsxs)("span",{children:["Min: ",A.min," ",A.symbol]}),(0,b.jsxs)("span",{children:["Max: ",A.max," ",A.symbol]})]})]}),(0,b.jsx)("div",{className:"flex justify-center -my-2",children:(0,b.jsx)("button",{type:"button",onClick:()=>{let a="zec-to-strk"===o?"strk-to-zec":"zec-to-strk";p(a),r(""),t(""),k?.({direction:a,amount:0})},className:"p-3 bg-gray-800 border border-gray-600 rounded-full hover:bg-gray-700 hover:border-gray-500 transition-all duration-200 group",disabled:l||m,children:(0,b.jsx)(d.ArrowsRightLeftIcon,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-400 transition-colors rotate-90"})})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-400",children:"You Receive"}),(0,b.jsxs)("div",{className:"relative flex items-center px-4 py-4 bg-gray-800/50 border border-gray-700 rounded-lg",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full ${B.bgColor} flex items-center justify-center mr-3`,children:(0,b.jsx)("span",{className:`text-sm font-bold ${B.color}`,children:B.icon})}),(0,b.jsxs)("span",{className:"text-lg text-gray-400",children:[C>0?"~":""," Estimated after quote"]}),(0,b.jsx)("span",{className:`ml-auto text-lg font-medium ${B.color}`,children:B.symbol})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-400",children:"zec-to-strk"===o?"Starknet Destination Address":"Zcash Destination Address"}),(0,b.jsx)("input",{type:"text",value:s,onChange:a=>t(a.target.value),placeholder:"zec-to-strk"===o?"0x...":"z...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none transition-colors font-mono text-sm",disabled:l||m}),"strk-to-zec"===o&&(0,b.jsxs)("div",{className:"flex items-start space-x-2 text-xs text-orange-400/80",children:[(0,b.jsx)(i.ExclamationTriangleIcon,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{children:"Use a shielded z-address for maximum privacy"})]})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>z(!y),className:"flex items-center justify-between w-full py-2 text-sm text-gray-400 hover:text-gray-300 transition-colors",children:[(0,b.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,b.jsx)(f.ShieldCheckIcon,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Privacy Options"})]}),(0,b.jsx)(e.ChevronDownIcon,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),y&&(0,b.jsxs)("div",{className:"space-y-4 pt-2 border-t border-gray-700",children:[(0,b.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer group",children:[(0,b.jsx)("input",{type:"checkbox",checked:u,onChange:a=>v(a.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-600 bg-gray-800 text-blue-500 focus:ring-blue-500 focus:ring-offset-0",disabled:l||m}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white group-hover:text-blue-400 transition-colors",children:"Use Privacy Mixer"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Route through ZK privacy mixer for enhanced anonymity"})]})]}),(0,b.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer group",children:[(0,b.jsx)("input",{type:"checkbox",checked:w,onChange:a=>x(a.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-600 bg-gray-800 text-blue-500 focus:ring-blue-500 focus:ring-offset-0",disabled:l||m}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white group-hover:text-blue-400 transition-colors",children:"Use Cashu Ecash Flow"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Additional privacy layer through ecash tokens"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,b.jsx)(h.InformationCircleIcon,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,b.jsx)("p",{className:"font-medium text-blue-400 mb-1",children:"How it works"}),(0,b.jsx)("p",{className:"text-gray-400",children:"zec-to-strk"===o?"Send ZEC to a generated address. It will be converted through Lightning Network to STRK on Starknet.":"Your STRK will be converted through Lightning Network to ZEC at your specified address."})]})]}),(0,b.jsx)("button",{type:"submit",disabled:!F,className:`w-full py-4 rounded-lg font-medium text-lg transition-all duration-200 flex items-center justify-center space-x-2 ${F?"bg-orange-500 hover:bg-orange-600 text-white shadow-lg shadow-orange-500/25":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.BoltIcon,{className:"w-5 h-5 animate-pulse"}),(0,b.jsx)("span",{children:"Preparing Transfer..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.BoltIcon,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"zec-to-strk"===o?"Start ZEC to STRK Transfer":"Start STRK to ZEC Transfer"})]})}),(0,b.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"By proceeding, you acknowledge that cross-chain transfers are irreversible and subject to network fees."})]})]})}},752433,a=>{"use strict";a.s(["CrossChainSwap",()=>o],752433);var b=a.i(187924),c=a.i(572131),d=a.i(469283),e=a.i(734498),f=a.i(452667),g=a.i(940772),h=a.i(329514),i=a.i(89329),j=a.i(282170),k=a.i(483017),l=a.i(609797),m=a.i(729521),n=a.i(140678);function o(){let{isInitialized:a,isLoading:o,error:p,transfer:q,initiateZecToStrk:r,cancelTransfer:s,setError:t}=function(){let[a,b]=(0,c.useState)(!1),[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),l=(0,c.useRef)(null),o=(0,c.useRef)(null);(0,c.useEffect)(()=>{o.current=(async()=>{try{console.log("ðŸ”§ Initializing cross-chain swap client...");let a="MAINNET"===n.ENV.NETWORK?"MAINNET":"TESTNET";l.current=new m.RealAtomiqSwapClient(a),await new Promise(a=>setTimeout(a,2e3)),b(!0),console.log("âœ… Cross-chain swap client initialized")}catch(a){console.error("âŒ Failed to initialize:",a),g(a instanceof Error?a.message:"Failed to initialize")}})()},[]);let p=(0,c.useCallback)(async(a,b)=>{let c=await fetch("/api/fixedfloat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:a,data:b})}),d=await c.json();if(!d.success&&d.error)throw Error(d.error);return d},[]),q=(0,c.useCallback)(async a=>{e(!0),g(null);try{let b=await p("/price",{fromCcy:"ZEC",toCcy:"BTCLN",amount:a.toString(),direction:"from",type:"float"});if(0!==b.code)throw Error(b.msg||"Failed to get ZEC quote");let c=parseFloat(b.data.to.amount),d=Math.floor(1e8*c),e=0,f=.5;if(l.current)try{let a=await l.current.getQuote("BTC_LN","STRK",BigInt(d),!0);e=Number(a.amountOut)/1e18,f=Number(a.fee)/d*100}catch(b){console.warn("Using fallback STRK estimate:",b);let a=n.ENV.STRK_SATS_RATE||125;e=d/a}else{let a=n.ENV.STRK_SATS_RATE||125;e=d/a}let g=(a-c)/a*100,h={inputAmount:a,inputCurrency:"ZEC",outputAmount:e,outputCurrency:"STRK",lightningAmount:d,totalFeePercent:g+f,legs:{first:{from:"ZEC",to:"Lightning",rate:parseFloat(b.data.from.rate),fee:g},second:{from:"Lightning",to:"STRK",rate:e/d,fee:f}},expiry:Date.now()+6e4};return k(h),h}catch(a){return g(a instanceof Error?a.message:"Failed to get quote"),null}finally{e(!1)}},[p]),r=(0,c.useCallback)(async a=>{e(!0),g(null);try{let b=0,c=.5,d=BigInt(Math.floor(1e18*a));if(l.current)try{let a=await l.current.getQuote("STRK","BTC_LN",d,!0);b=Number(a.amountOut),c=Number(a.fee)/Number(d)*100}catch(d){console.warn("Using fallback Lightning estimate:",d);let c=n.ENV.STRK_SATS_RATE||125;b=Math.floor(a*c)}else{let c=n.ENV.STRK_SATS_RATE||125;b=Math.floor(a*c)}let e=b/1e8,f=await p("/price",{fromCcy:"BTCLN",toCcy:"ZEC",amount:e.toString(),direction:"from",type:"float"});if(0!==f.code)throw Error(f.msg||"Failed to get ZEC quote");let g=parseFloat(f.data.to.amount),h=(e-g*parseFloat(f.data.from.rate))/e*100,i={inputAmount:a,inputCurrency:"STRK",outputAmount:g,outputCurrency:"ZEC",lightningAmount:b,totalFeePercent:c+Math.abs(h),legs:{first:{from:"STRK",to:"Lightning",rate:b/a,fee:c},second:{from:"Lightning",to:"ZEC",rate:parseFloat(f.data.from.rate),fee:Math.abs(h)}},expiry:Date.now()+6e4};return k(i),i}catch(a){return g(a instanceof Error?a.message:"Failed to get quote"),null}finally{e(!1)}},[p]),s=(0,c.useCallback)(async(a,b,c={})=>{e(!0),g(null);let d={id:`transfer_${Date.now()}`,direction:"zec-to-strk",amount:a,destinationAddress:b,status:"in-progress",steps:[{id:1,name:"atomiq-swap",description:"Creating Atomiq Lightning swap",status:"pending"},{id:2,name:"fixedfloat-order",description:"Creating ZEC deposit order",status:"pending"},{id:3,name:"awaiting-deposit",description:"Awaiting ZEC deposit",status:"pending"},{id:4,name:"lightning-payment",description:"Processing Lightning payment",status:"pending"},{id:5,name:"strk-claim",description:"Claiming STRK on Starknet",status:"pending"}],currentStepIndex:0,createdAt:Date.now()};i(d);try{t(d,0,"in-progress","Getting swap quote...");let c=await p("/price",{fromCcy:"ZEC",toCcy:"BTCLN",amount:a.toString(),direction:"from",type:"float"});if(0!==c.code)throw Error(c.msg||"Failed to get ZEC quote");let e=parseFloat(c.data.to.amount),f=Math.floor(1e8*e);if(!l.current)throw Error("Atomiq client not initialized. Please wait and try again.");console.log(`Creating Atomiq swap: ${f} sats â†’ ${b}`);let g=await l.current.beginLightningToStrkSwap(f,b);d.atomiqSwapId=g.id,t(d,0,"complete","Atomiq swap created"),t(d,1,"in-progress","Creating FixedFloat order..."),console.log("Creating FixedFloat order with Atomiq invoice");let h=await p("/create",{fromCcy:"ZEC",toCcy:"BTCLN",amount:a.toString(),direction:"from",type:"float",toAddress:g.invoice});if(0!==h.code)throw Error(h.msg||"Failed to create FixedFloat order");let j=h.data.from.address,k=h.data.from.amount;return d.fixedFloatOrderId=h.data.id,d.depositAddress=j,d.depositAmount=k,t(d,1,"complete","FixedFloat order created",{orderId:h.data.id,depositAddress:j,expectedAmount:k}),t(d,2,"in-progress","Awaiting ZEC deposit"),console.log(`
ðŸ”” DEPOSIT ZEC TO: ${j}`),console.log(`   Amount: ${k} ZEC`),i({...d}),d}catch(b){let a=b instanceof Error?b.message:"Transfer failed";return g(a),d.status="failed",d.error=a,i({...d}),null}finally{e(!1)}},[p]),t=(a,b,c,d,e)=>{a.steps[b]&&(a.steps[b].status=c,d&&(a.steps[b].description=d),e&&(a.steps[b].data=e),a.currentStepIndex=b),i({...a})};return{isInitialized:a,isLoading:d,error:f,transfer:h,quote:j,getZecToStrkQuote:q,getStrkToZecQuote:r,initiateZecToStrk:s,cancelTransfer:(0,c.useCallback)(()=>{i(null),g(null),k(null)},[]),setError:g}}(),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null);(0,c.useEffect)(()=>{q&&v({id:q.id,direction:q.direction,amount:q.amount,destinationAddress:q.destinationAddress,status:q.status,steps:q.steps.map((a,b)=>({id:b+1,name:a.name,description:a.description,status:a.status})),currentStepIndex:q.currentStepIndex,depositAddress:q.depositAddress,depositAmount:q.depositAmount,createdAt:q.createdAt})},[q]),(0,c.useEffect)(()=>{p&&z(p)},[p]);let C=(0,c.useCallback)(async a=>{x(!0),z(null),t(null);try{if(console.log("Initiating cross-chain swap (client-side):",a),"zec-to-strk"===a.direction){let b=await r(a.amount,a.destinationAddress,{usePrivacyMixer:a.usePrivacyMixer,useCashuFlow:a.useCashuFlow});if(!b)throw Error("Failed to initiate transfer");console.log("Transfer initiated:",b)}else throw Error("STRK to ZEC not yet implemented")}catch(a){console.error("Failed to create transfer:",a),z(a instanceof Error?a.message:"Failed to initiate transfer")}finally{x(!1)}},[r,t]),D=y||p;return(0,b.jsxs)("div",{className:"flex-1 bg-gray-950 text-white",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-950 -z-10",children:(0,b.jsx)("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{backgroundImage:"url('/patterns/grid.svg')",backgroundSize:"32px 32px",backgroundRepeat:"repeat"}})}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("div",{className:"border-b border-gray-800",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:(0,b.jsx)("span",{className:"text-2xl font-bold text-orange-500",children:"Z"})}),(0,b.jsx)(d.ArrowsRightLeftIcon,{className:"w-8 h-8 text-gray-500"}),(0,b.jsx)("div",{className:"p-3 bg-orange-400/10 rounded-xl",children:(0,b.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:"S"})})]}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:"Cross-Chain Privacy Transfer"}),(0,b.jsx)("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Seamlessly transfer between Zcash and Starknet with enhanced privacy through Lightning Network, ZK proofs, and Cashu ecash."}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3 mt-6",children:[(0,b.jsxs)("span",{className:"inline-flex items-center px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-full text-sm text-gray-300",children:[(0,b.jsx)(e.ShieldCheckIcon,{className:"w-4 h-4 mr-1.5 text-green-400"}),"ZK Privacy"]}),(0,b.jsxs)("span",{className:"inline-flex items-center px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-full text-sm text-gray-300",children:[(0,b.jsx)(f.BoltIcon,{className:"w-4 h-4 mr-1.5 text-orange-400"}),"Lightning Fast"]}),(0,b.jsxs)("span",{className:"inline-flex items-center px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-full text-sm text-gray-300",children:[(0,b.jsx)(g.ClockIcon,{className:"w-4 h-4 mr-1.5 text-blue-400"}),"~5 min transfers"]})]})]})})}),(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:u?(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"complete"===u.status?"Transfer Complete":"Transfer in Progress"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"zec-to-strk"===u.direction?`${u.amount} ZEC to STRK`:`${u.amount} STRK to ZEC`})]}),"complete"===u.status?(0,b.jsxs)("button",{onClick:()=>{s(),v(null),B(null),z(null)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors flex items-center space-x-2",children:[(0,b.jsx)(d.ArrowsRightLeftIcon,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"New Transfer"})]}):(0,b.jsx)("button",{onClick:()=>{s(),v(null),B(null),z(null)},className:"p-2 hover:bg-gray-800 rounded-lg text-gray-400 hover:text-white transition-colors",title:"Cancel",children:(0,b.jsx)(i.XMarkIcon,{className:"w-5 h-5"})})]}),"complete"===u.status&&(0,b.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-xl flex items-start space-x-3",children:[(0,b.jsx)(h.CheckCircleIcon,{className:"w-6 h-6 text-green-400 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-green-400",children:"Transfer Successful"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Your funds have been successfully transferred to the destination address."})]})]}),(0,b.jsx)(l.TransferStatusTracker,{steps:u.steps,currentStepIndex:u.currentStepIndex,direction:u.direction,depositAddress:u.depositAddress,depositAmount:u.depositAmount})]}):(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8 items-start",children:[(0,b.jsxs)("div",{children:[!a&&(0,b.jsxs)("div",{className:"mb-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl flex items-start space-x-3",children:[(0,b.jsx)(g.ClockIcon,{className:"w-6 h-6 text-blue-400 flex-shrink-0 animate-spin"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-blue-400",children:"Initializing..."}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Connecting to swap providers..."})]})]}),D&&(0,b.jsxs)("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-start space-x-3",children:[(0,b.jsx)(i.XMarkIcon,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-red-400",children:"Transfer Failed"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:D})]})]}),(0,b.jsx)(k.ZecDepositForm,{onSubmit:C,isLoading:w||o,onChange:a=>{B(a)}})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(j.CrossChainQuote,{direction:A?.direction||"zec-to-strk",amount:A?.amount||0}),(0,b.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"font-medium text-white mb-4",children:"Transfer Route"}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-orange-500/10 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,b.jsx)("span",{className:"text-lg font-bold text-orange-500",children:"Z"})}),(0,b.jsx)("span",{className:"text-gray-400",children:"Zcash"})]}),(0,b.jsx)("div",{className:"flex-1 px-2",children:(0,b.jsx)("div",{className:"h-0.5 bg-gradient-to-r from-orange-500/50 via-orange-400/50 to-orange-400/50 rounded"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-orange-400/10 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,b.jsx)(f.BoltIcon,{className:"w-6 h-6 text-orange-400"})}),(0,b.jsx)("span",{className:"text-gray-400",children:"Lightning"})]}),(0,b.jsx)("div",{className:"flex-1 px-2",children:(0,b.jsx)("div",{className:"h-0.5 bg-gradient-to-r from-orange-400/50 via-orange-400/50 to-orange-400/50 rounded"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-orange-400/10 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,b.jsx)("span",{className:"text-lg font-bold text-orange-400",children:"S"})}),(0,b.jsx)("span",{className:"text-gray-400",children:"Starknet"})]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Funds are routed through Lightning Network for speed and privacy"})]})]})]})})]})]})}}];

//# sourceMappingURL=src_components_mixer_cross-chain_968e0472._.js.map